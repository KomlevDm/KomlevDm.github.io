"use strict";(self.webpackChunkgame_of_thrones=self.webpackChunkgame_of_thrones||[]).push([[592],{4008:(p,l,s)=>{s.d(l,{W:()=>o});var a=s(5785),n=s(4650),h=s(4843);class o{router;audioService;backUrl="/menu";constructor(t,e){this.router=t,this.audioService=e}back(){this.audioService.routing.replay(),this.router.navigateByUrl(this.backUrl)}static \u0275fac=function(e){return new(e||o)(n.Y36(h.F0),n.Y36(a.Q))};static \u0275cmp=n.Xpm({type:o,selectors:[["back-button"]],hostBindings:function(e,c){1&e&&n.NdJ("keydown.escape",function(){return c.back()},!1,n.evT)},inputs:{backUrl:"backUrl"},standalone:!0,features:[n.jDz],decls:1,vars:0,consts:[["src","assets/img/back-arrow.png",3,"click"]],template:function(e,c){1&e&&(n.TgZ(0,"img",0),n.NdJ("click",function(){return c.back()}),n.qZA())},styles:["[_nghost-%COMP%]{position:absolute;top:20px;left:20px;display:block;width:40px;transition:transform .15s linear}[_nghost-%COMP%]:hover{transform:scale(1.2)}img[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}},1354:(p,l,s)=>{s.d(l,{r:()=>o});var a=s(5785),n=s(4650);const h=["*"];class o{audioService;isDisabled=!1;isUseHover=!0;constructor(t){this.audioService=t}hover(){this.isUseHover&&this.audioService.activeButton.replay()}static \u0275fac=function(e){return new(e||o)(n.Y36(a.Q))};static \u0275cmp=n.Xpm({type:o,selectors:[["button"]],hostVars:4,hostBindings:function(e,c){1&e&&n.NdJ("pointerenter",function(){return c.hover()}),2&e&&n.ekj("disabled",c.isDisabled)("hover",c.isUseHover)},inputs:{isDisabled:"isDisabled",isUseHover:"isUseHover"},standalone:!0,features:[n.jDz],ngContentSelectors:h,decls:1,vars:0,template:function(e,c){1&e&&(n.F$t(),n.Hsn(0))},styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;padding:20px 16px 17px;overflow:hidden;font:inherit;font-size:22px;color:#fff;letter-spacing:5px;text-shadow:2px 3px 0 rgb(0,0,0),2px 3px 0 rgb(0,0,0);background-color:#fcfcfc33;background-image:linear-gradient(45deg,rgba(255,255,255,0) 30%,rgba(255,255,255,.949),rgba(255,255,255,0) 70%),linear-gradient(to right,rgba(255,255,255,.741),rgba(255,255,255,0) 20%,rgba(255,255,255,0) 70%,rgba(255,255,255,.431)),linear-gradient(to right,rgba(12,12,12,.78),rgb(202,202,202) 45%,rgba(125,125,125,.502)),linear-gradient(to right,rgb(125,125,125),rgba(169,169,169,.729) 45%,rgba(0,0,0,.588)),linear-gradient(to right,rgb(0,0,0),rgb(255,255,255) 45%,rgb(0,0,0)),linear-gradient(to right,rgb(0,0,0),rgb(255,255,255) 45%,rgba(4,4,4,.878));background-repeat:no-repeat;background-position:200% 0,0 0,0 0,0 100%,0 4px,0 calc(100% - 4px);background-size:200% 100%,auto,100% 2px,100% 2px,100% 1px,100% 1px;border:none;cursor:inherit;transition:background-color .1s linear,transform .1s linear}[_nghost-%COMP%]:active{top:3px}.hover[_nghost-%COMP%]:hover{background-color:#f103;background-position:-200% 0,0 0,0 0,0 100%,0 4px,0 calc(100% - 4px);transform:scale(1.1);transition:background-position .8s linear,transform .1s linear}.selected[_nghost-%COMP%]{background-color:#f103}.disabled[_nghost-%COMP%]{filter:brightness(.5);pointer-events:none}"],changeDetection:0})}},8484:(p,l,s)=>{s.d(l,{R:()=>n});var a=s(4650);class n{text="";static \u0275fac=function(d){return new(d||n)};static \u0275cmp=a.Xpm({type:n,selectors:[["logo"]],inputs:{text:"text"},standalone:!0,features:[a.jDz],decls:4,vars:1,consts:[["src","assets/img/fire-sphere.webp",1,"fire-sphere"],[1,"logo"],[1,"ice-and-fire-font"]],template:function(d,t){1&d&&(a._UZ(0,"img",0),a.TgZ(1,"div",1)(2,"div",2),a._uU(3),a.qZA()()),2&d&&(a.xp6(3),a.Oqu(t.text))},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}.fire-sphere[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:225px;height:137px;padding:0 20px;background-image:url(logo.4fa145f22f0dda8b.webp);background-repeat:no-repeat;background-size:cover;box-sizing:border-box}.logo[_ngcontent-%COMP%]   .ice-and-fire-font[_ngcontent-%COMP%]{padding-top:5px;padding-left:15px;overflow-x:hidden;letter-spacing:12px;white-space:nowrap;text-shadow:-1px -2px 0 rgb(0,0,0),-1px -2px 3px rgb(255,255,255),-1px -2px 3px rgb(255,255,255),-1px -2px 3px rgb(255,255,255)}"],changeDetection:0})}},3364:(p,l,s)=>{s.d(l,{g:()=>h});var a=s(7579),n=s(4650);class h{destroyer$=new a.x;ngOnDestroy(){this.destroyer$.next(),this.destroyer$.complete()}static \u0275fac=function(t){return new(t||h)};static \u0275dir=n.lG2({type:h})}},4795:(p,l,s)=>{s.d(l,{G:()=>t});var a=s(4650),n=s(3903),h=s(2722),o=s(3364),d=s(5785);class t extends o.g{audioService=(0,a.f3M)(d.Q);self=(0,a.f3M)(n.so);ngOnInit(){this.self.afterOpened().pipe((0,h.R)(this.destroyer$)).subscribe(()=>this.audioService.openDialog.replay()),this.self.beforeClosed().pipe((0,h.R)(this.destroyer$)).subscribe(()=>this.audioService.closeDialog.replay())}static \u0275fac=function(){let c;return function(g){return(c||(c=a.n5z(t)))(g||t)}}();static \u0275dir=a.lG2({type:t,features:[a.qOj]})}},4449:(p,l,s)=>{s.d(l,{U:()=>o});var a=s(3184),n=s(6929),h=s(4650);class o{attacks=new Set;game=null;start(t){this.game=t,this.game.ticker.add(this.render)}ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),this.attacks.forEach(t=>t.sprite.destroy()),this.attacks.clear(),this.game=null)}deleteOneAsync(t){setTimeout(()=>{t.sprite.destroyed||t.sprite.destroy(),this.attacks.delete(t)})}addOne(t){if(!this.game)return;const e=new a.jyi(t.texture);e.scale.set(0),e.anchor.set(.5),e.position.set(t.x,t.y);const c="hero"===t.whose?1:-1;this.attacks.add({whose:t.whose,sprite:e,render:r=>{e.x=e.x+c*r*t.speed,t.yRender?.(e,r),e.angle=e.angle+c*r*t.rotationAngleDeg,e.scale.x<t.scale&&e.scale.set(e.scale.x+t.scaleSpeed)}}),this.game.stage.addChild(e)}render=t=>{this.attacks.forEach(e=>{const c=n.z.X.DELTA(e.sprite);"hero"===e.whose&&e.sprite.x>n.z.WIDTH+c||"monster"===e.whose&&e.sprite.x<-c?this.deleteOneAsync(e):e.render(t)})};static \u0275fac=function(e){return new(e||o)};static \u0275prov=h.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}},1337:(p,l,s)=>{s.d(l,{Q:()=>d});var a=s(3184),n=s(6284),h=s(6929),o=s(4650);class d{assetsService;static SPEED=3;game=null;sprite=null;constructor(e){this.assetsService=e}start(e){this.game=e,this.sprite=a.oO3.from(this.assetsService.bg,{width:h.z.WIDTH,height:h.z.HEIGHT}),this.game.stage.addChild(this.sprite),this.game.ticker.add(this.render)}render=e=>{this.sprite&&(this.sprite.tilePosition.x-=e*d.SPEED)};ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),this.game=null,this.sprite=null)}static \u0275fac=function(c){return new(c||d)(o.LFG(n.z))};static \u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}},9405:(p,l,s)=>{s.d(l,{e:()=>g});var a=s(3184),n=s(1135),h=s(6284),o=s(4449),d=s(5785),t=s(1337),e=s(6929),c=s(4650);const r={LIVES:5,SPEED:t.Q.SPEED+3,ATTACK:{SPEED:t.Q.SPEED+6,SCALE:.21,SCALE_SPEED:.015,ROTATION_ANGLE_DEG:7},SHIELD_LIFETIME_MS:1e4,PUNCH:{ARC_COEF:400,LIFETIME_MS:1e4},LIGHTNING:{SPEED:5,LIFETIME_MS:1e4}};class g{assetsService;attacksService;audioService;lives$;isShieldActivated$;isPunchActivated$;isLightningActivated$;score$;name="-";sprite=null;set lives(i){this._lives$.next(i)}get lives(){return this._lives$.value}get isShieldActivated(){return this.shield.isActivated$.value}get isPunchActivated(){return this.punch.isActivated$.value}get isLightningActivated(){return this.lightning.isActivated$.value}set score(i){this._score$.next(i)}get score(){return this._score$.value}_lives$=new n.X(r.LIVES);_score$=new n.X(0);attack={speed:r.ATTACK.SPEED,scale:r.ATTACK.SCALE,scaleSpeed:r.ATTACK.SCALE_SPEED,rotationAngleDeg:r.ATTACK.ROTATION_ANGLE_DEG,isKeydownSpace:!1,isKeyupSpace:!1,set isAdd(i){this.isKeydownSpace=i,this.isKeyupSpace=i},get isAdd(){return this.isKeydownSpace&&this.isKeyupSpace}};shield={sprite:null,isActivated$:new n.X(!1),lifetimeMs:r.SHIELD_LIFETIME_MS};punch={isActivated$:new n.X(!1),lifetimeMs:r.PUNCH.LIFETIME_MS};lightning={isActivated$:new n.X(!1),lifetimeMs:r.LIGHTNING.LIFETIME_MS};game=null;speed=r.SPEED;isKeydownArrowUp=!1;isKeydownArrowDown=!1;constructor(i,_,u){this.assetsService=i,this.attacksService=_,this.audioService=u,this.lives$=this._lives$.asObservable(),this.isShieldActivated$=this.shield.isActivated$.asObservable(),this.isPunchActivated$=this.punch.isActivated$.asObservable(),this.isLightningActivated$=this.lightning.isActivated$.asObservable(),this.score$=this._score$.asObservable()}start(i){this.game=i,this.game.ticker.add(this.render),this.shield.sprite=new a.KgH(this.assetsService.shield.animations.self),this.shield.sprite.scale.set(2.7),this.shield.sprite.anchor.set(.5),this.shield.sprite.animationSpeed=.4,this.shield.sprite.alpha=.5,this.shield.sprite.visible=!1,this.shield.sprite.play(),this.sprite=new a.KgH(this.assetsService.hero.animations.self),this.sprite.scale.set(.32),this.sprite.anchor.set(.5),this.sprite.animationSpeed=.4,this.sprite.position.set(e.z.X.HERO+e.z.X.DELTA(this.sprite),e.z.Y.MID),this.sprite.play(),this.sprite.addChild(this.shield.sprite),this.game.stage.addChild(this.sprite),addEventListener("keydown",this.keydownHandler),addEventListener("keyup",this.keyupHandler)}ngOnDestroy(){this.game&&(this.game.ticker.remove(this.render),removeEventListener("keydown",this.keydownHandler),removeEventListener("keyup",this.keyupHandler),this.game=null,this.shield.sprite=null,this.sprite=null,this.lives=r.LIVES,this.score=0,this.attack.speed=r.ATTACK.SPEED,this.attack.scale=r.ATTACK.SCALE,this.attack.scaleSpeed=r.ATTACK.SCALE_SPEED,this.attack.rotationAngleDeg=r.ATTACK.ROTATION_ANGLE_DEG,this.attack.isKeydownSpace=!1,this.attack.isKeyupSpace=!1,this.shield.isActivated$.next(!1),this.shield.lifetimeMs=r.SHIELD_LIFETIME_MS,this.punch.isActivated$.next(!1),this.punch.lifetimeMs=r.PUNCH.LIFETIME_MS,this.lightning.isActivated$.next(!1),this.lightning.lifetimeMs=r.LIGHTNING.LIFETIME_MS,this.speed=r.SPEED,this.isKeydownArrowUp=!1,this.isKeydownArrowUp=!1)}activateShield(){if(this.shield.sprite){if(this.isShieldActivated)return void(this.shield.lifetimeMs=r.SHIELD_LIFETIME_MS);this.shield.sprite.visible=!0,this.shield.isActivated$.next(!0)}}activatePunch(){this.isPunchActivated?this.punch.lifetimeMs=r.SHIELD_LIFETIME_MS:this.punch.isActivated$.next(!0)}activateLightning(){this.isLightningActivated?this.lightning.lifetimeMs=r.LIGHTNING.LIFETIME_MS:(this.speed+=r.LIGHTNING.SPEED,this.attack.speed+=r.LIGHTNING.SPEED,this.lightning.isActivated$.next(!0))}render=i=>{this.yRender(i),this.attackRender(),this.shieldRender(i),this.punchRender(i),this.lightningRender(i)};yRender(i){this.isKeydownArrowUp&&this.upStep(i),this.isKeydownArrowDown&&this.downStep(i)}upStep(i){this.sprite&&(this.sprite.y<e.z.Y.MIN+e.z.Y.DELTA(this.sprite)||(this.sprite.y-=i*this.speed))}downStep(i){this.sprite&&(this.sprite.y>e.z.HEIGHT-e.z.Y.DELTA(this.sprite)||(this.sprite.y+=i*this.speed))}shieldRender(i){if(this.shield.sprite&&this.isShieldActivated){if(this.shield.lifetimeMs<=0)return this.shield.sprite.visible=!1,this.shield.isActivated$.next(!1),void(this.shield.lifetimeMs=r.SHIELD_LIFETIME_MS);this.shield.lifetimeMs-=i*a.vB5.shared.deltaMS}}attackRender(){this.attack.isAdd&&(this.audioService.heroAttack.replay(),this.isPunchActivated?this.addPunch():this.addAttack(),this.attack.isAdd=!1)}addAttack(i){this.sprite&&this.attacksService.addOne({texture:this.assetsService.attacks["hero-attack"],x:this.sprite.x+e.z.X.DELTA(this.sprite),y:this.sprite.y,whose:"hero",speed:this.attack.speed,rotationAngleDeg:this.attack.rotationAngleDeg,scale:this.attack.scale,scaleSpeed:this.attack.scaleSpeed,yRender:i})}lightningRender(i){if(this.isLightningActivated){if(this.lightning.lifetimeMs<=0)return this.speed-=r.LIGHTNING.SPEED,this.attack.speed-=r.LIGHTNING.SPEED,this.lightning.isActivated$.next(!1),void(this.lightning.lifetimeMs=r.PUNCH.LIFETIME_MS);this.lightning.lifetimeMs-=i*a.vB5.shared.deltaMS}}punchRender(i){if(this.isPunchActivated){if(this.punch.lifetimeMs<=0)return this.punch.isActivated$.next(!1),void(this.punch.lifetimeMs=r.PUNCH.LIFETIME_MS);this.punch.lifetimeMs-=i*a.vB5.shared.deltaMS}}addPunch(){this.addAttack((i,_)=>{i.y-=i.x/(_*r.PUNCH.ARC_COEF)}),this.addAttack(),this.addAttack((i,_)=>{i.y+=i.x/(_*r.PUNCH.ARC_COEF)})}keydownHandler=i=>{switch(i.code){case"ArrowUp":this.isKeydownArrowUp=!0;break;case"ArrowDown":this.isKeydownArrowDown=!0;break;case"Space":this.attack.isKeydownSpace=!0}};keyupHandler=i=>{switch(i.code){case"ArrowUp":this.isKeydownArrowUp=!1;break;case"ArrowDown":this.isKeydownArrowDown=!1;break;case"Space":this.attack.isKeyupSpace=!0}};static \u0275fac=function(_){return new(_||g)(c.LFG(h.z),c.LFG(o.U),c.LFG(d.Q))};static \u0275prov=c.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}}}]);