(self.webpackChunkgame_of_thrones=self.webpackChunkgame_of_thrones||[]).push([[179],{4132:(At,Ne,F)=>{"use strict";F.d(Ne,{O:()=>w});var D=F(4650);class w{static \u0275fac=function(se){return new(se||w)};static \u0275cmp=D.Xpm({type:w,selectors:[["spinner"]],standalone:!0,features:[D.jDz],decls:3,vars:0,consts:[[1,"inner","one"],[1,"inner","two"],[1,"inner","three"]],template:function(se,ee){1&se&&D._UZ(0,"div",0)(1,"div",1)(2,"div",2)},encapsulation:2,changeDetection:0})}},5548:(At,Ne,F)=>{"use strict";F.d(Ne,{U:()=>ve});var D=F(7340),w=F(6895),ce=F(4843),le=F(4132),se=F(4650);function ee(ue,xe){1&ue&&se._UZ(0,"spinner")}class ve{isUseSpinner=!0;isShowSpinner=!1;routerOutlet;get routerOutletActivated(){return this.routerOutlet.isActivated&&this.routerOutlet.activatedRoute}routeAnimationStart(){this.isShowSpinner=!0}routeAnimationEnd(){this.isShowSpinner=!1}static \u0275fac=function(Pe){return new(Pe||ve)};static \u0275cmp=se.Xpm({type:ve,selectors:[["wrap-router-outlet"]],viewQuery:function(Pe,Re){if(1&Pe&&se.Gf(ce.lC,7),2&Pe){let Ie;se.iGM(Ie=se.CRH())&&(Re.routerOutlet=Ie.first)}},hostVars:1,hostBindings:function(Pe,Re){1&Pe&&se.WFA("@routeAnimation.start",function(){return Re.routeAnimationStart()})("@routeAnimation.done",function(){return Re.routeAnimationEnd()}),2&Pe&&se.d8E("@routeAnimation",Re.routerOutletActivated)},inputs:{isUseSpinner:"isUseSpinner"},standalone:!0,features:[se.jDz],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(Pe,Re){1&Pe&&(se.YNc(0,ee,1,0,"spinner",0),se._UZ(1,"router-outlet")),2&Pe&&se.Q6J("ngIf",Re.isUseSpinner&&Re.isShowSpinner)},dependencies:[w.O5,ce.Bz,ce.lC,le.O],styles:["[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}"],data:{animation:[(0,D.X$)("routeAnimation",[(0,D.eR)("* <=> *",[(0,D.IO)(":leave",[(0,D.oB)({opacity:1}),(0,D.jt)("0.2s",(0,D.oB)({opacity:0}))],{optional:!0}),(0,D.IO)(":enter",[(0,D.oB)({opacity:0}),(0,D.jt)("0.2s",(0,D.oB)({opacity:1}))],{optional:!0})])])]},changeDetection:0})}},8465:(At,Ne,F)=>{"use strict";F.d(Ne,{D:()=>D});var D=(()=>{return(w=D||(D={})).Ru="ru",w.En="en",D;var w})()},6033:(At,Ne,F)=>{"use strict";F.d(Ne,{y:()=>D});var D=(()=>{return(w=D||(D={})).CurrentLanguage="currentLanguage",w.IsMutedBgAudio="isMutedBgAudio",w.Top="top",D;var w})()},6284:(At,Ne,F)=>{"use strict";F.d(Ne,{z:()=>le});var D=F(5861),w=F(3184),ce=F(4650);class le{bg;artifacts;hero;shield;monsters;boss;attacks;bang;smallBang;init(){var ee=this;return(0,D.Z)(function*(){ee.bg=w.xEZ.from("assets/img/game/bg/snow-forest.png"),ee.artifacts={life:w.xEZ.from("assets/img/game/artifacts/life.png"),shield:w.xEZ.from("assets/img/game/artifacts/shield.png"),punch:w.xEZ.from("assets/img/game/artifacts/punch.png"),lightning:w.xEZ.from("assets/img/game/artifacts/lightning.png")},ee.hero=yield w.deM.load("assets/img/game/hero/hero-sprite.json"),ee.shield=yield w.deM.load("assets/img/game/shield/shield-sprite.json"),w.deM.addBundle("monsters",{deathAngel:"assets/img/game/monsters/death-angel/death-angel-sprite.json",icePhoenix:"assets/img/game/monsters/ice-phoenix/ice-phoenix-sprite.json",blackDragon:"assets/img/game/monsters/black-dragon/black-dragon-sprite.json",satan:"assets/img/game/monsters/satan/satan-sprite.json",death:"assets/img/game/monsters/death/death-sprite.json",undeadDragon:"assets/img/game/monsters/undead-dragon/undead-dragon-sprite.json"}),ee.monsters=yield w.deM.loadBundle("monsters"),ee.boss=yield w.deM.load("assets/img/game/boss/boss-sprite.json"),ee.attacks={"hero-attack":w.xEZ.from("assets/img/game/attacks/hero-attack.png"),"attack-1":w.xEZ.from("assets/img/game/attacks/attack-1.png"),"attack-2":w.xEZ.from("assets/img/game/attacks/attack-2.png"),"attack-3":w.xEZ.from("assets/img/game/attacks/attack-3.png"),"attack-4":w.xEZ.from("assets/img/game/attacks/attack-4.png"),"attack-5":w.xEZ.from("assets/img/game/attacks/attack-5.png"),"attack-6":w.xEZ.from("assets/img/game/attacks/attack-6.png")},ee.bang=yield w.deM.load("assets/img/game/bang/bang-sprite.json"),ee.smallBang=yield w.deM.load("assets/img/game/small-bang/small-bang-sprite.json")})()}static \u0275fac=function(ve){return new(ve||le)};static \u0275prov=ce.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}},5785:(At,Ne,F)=>{"use strict";F.d(Ne,{Q:()=>se});const D_bg={mainTitles:"main-titles.mp3",lightOfTheSeven:"light-of-the-seven.mp3",danceOfDragons:"dance-of-dragons.mp3",theNightKing:"the-night-king.mp3",dracarys:"dracarys.mp3"},D_action_activeButton="active-button.mp3",D_action_blockShield="block-shield.mp3",D_action_closeDialog="close-dialog.mp3",D_action_gameOver="game-over.mp3",D_action_getLifeArtifact="get-life-artifact.mp3",D_action_getLightningArtifact="get-lightning-artifact.mp3",D_action_getPunchArtifact="get-punch-artifact.mp3",D_action_getShieldArtifact="get-shield-artifact.mp3",D_action_heroAttack="hero-attack.mp3",D_action_heroDeath="hero-death.mp3",D_action_monsterDeath="monster-death.mp3",D_action_monsterShield="monster-shield.mp3",D_action_openDialog="open-dialog.mp3",D_action_playGame="play-game.mp3",D_action_routing="routing.mp3",D_action_victory="victory.mp3";var w=F(6033);class ce{get isMuted(){const ve=localStorage.getItem(w.y.IsMutedBgAudio);return null!==ve&&JSON.parse(ve)}sounds=Object.values(D_bg);currentSound={element:null,index:0};volume=1;play(){this.currentSound.element=new Audio(`assets/audio/bg/${this.sounds[this.currentSound.index]}`),this.currentSound.element.volume=this.volume,this.currentSound.element.muted=this.isMuted,this.currentSound.element.autoplay=!0,this.currentSound.element.onended=()=>{this.currentSound.index=this.currentSound.index===this.sounds.length-1?0:this.currentSound.index+1,this.play()}}toggleMute(){if(!this.currentSound.element)return;const ve=!this.isMuted;this.currentSound.element.muted=ve,localStorage.setItem(w.y.IsMutedBgAudio,ve.toString())}setVolume(ve){this.currentSound.element&&(this.volume=ve,this.currentSound.element.volume=ve)}}var le=F(4650);class se{bgAudio=new ce;activeButton;blockShield;closeDialog;gameOver;getLifeArtifact;getLightningArtifact;getPunchArtifact;getShieldArtifact;heroAttack;heroDeath;monsterDeath;monsterShield;openDialog;playGame;routing;victory;constructor(){Audio.prototype.replay=function(){this.currentTime=0,this.play()}}init(){this.activeButton=new Audio(`assets/audio/${D_action_activeButton}`),this.blockShield=new Audio(`assets/audio/${D_action_blockShield}`),this.blockShield.volume=.5,this.closeDialog=new Audio(`assets/audio/${D_action_closeDialog}`),this.closeDialog.volume=.5,this.gameOver=new Audio(`assets/audio/${D_action_gameOver}`),this.getLifeArtifact=new Audio(`assets/audio/${D_action_getLifeArtifact}`),this.getLifeArtifact.volume=.5,this.getLightningArtifact=new Audio(`assets/audio/${D_action_getLightningArtifact}`),this.getLightningArtifact.volume=.5,this.getPunchArtifact=new Audio(`assets/audio/${D_action_getPunchArtifact}`),this.getShieldArtifact=new Audio(`assets/audio/${D_action_getShieldArtifact}`),this.getShieldArtifact.volume=.5,this.heroAttack=new Audio(`assets/audio/${D_action_heroAttack}`),this.heroAttack.volume=.25,this.heroDeath=new Audio(`assets/audio/${D_action_heroDeath}`),this.heroDeath.volume=.5,this.monsterDeath=new Audio(`assets/audio/${D_action_monsterDeath}`),this.monsterShield=new Audio(`assets/audio/${D_action_monsterShield}`),this.monsterShield.volume=.5,this.openDialog=new Audio(`assets/audio/${D_action_openDialog}`),this.openDialog.volume=.5,this.playGame=new Audio(`assets/audio/${D_action_playGame}`),this.routing=new Audio(`assets/audio/${D_action_routing}`),this.victory=new Audio(`assets/audio/${D_action_victory}`),this.bgAudio.play()}static \u0275fac=function(ue){return new(ue||se)};static \u0275prov=le.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}},9167:(At,Ne,F)=>{"use strict";F.d(Ne,{Q:()=>se});var D=F(5861),w=F(6284),ce=F(5785),le=F(4650);class se{audioService;assetsService;isGameActivated=!1;constructor(ve,ue){this.audioService=ve,this.assetsService=ue}bootstrap(){var ve=this;return(0,D.Z)(function*(){yield ve.assetsService.init(),ve.audioService.init(),ve.isGameActivated=!0})()}static \u0275fac=function(ue){return new(ue||se)(le.LFG(ce.Q),le.LFG(w.z))};static \u0275prov=le.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}},5465:(At,Ne,F)=>{"use strict";var D=F(1481),w=F(4650),ce=F(529),le=F(3903),se=F(7340);function ve(U){return new w.vHH(3e3,!1)}function Xe(){return typeof window<"u"&&typeof window.document<"u"}function _t(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gt(U){switch(U.length){case 0:return new se.ZN;case 1:return U[0];default:return new se.ZE(U)}}function Yt(U,g,_,R,G=new Map,J=new Map){const De=[],re=[];let We=-1,vt=null;if(R.forEach(ht=>{const tn=ht.get("offset"),Xn=tn==We,Hn=Xn&&vt||new Map;ht.forEach((Cn,xn)=>{let C=xn,L=Cn;if("offset"!==xn)switch(C=g.normalizePropertyName(C,De),L){case se.k1:L=G.get(xn);break;case se.l3:L=J.get(xn);break;default:L=g.normalizeStyleValue(xn,C,L,De)}Hn.set(C,L)}),Xn||re.push(Hn),vt=Hn,We=tn}),De.length)throw function W(U){return new w.vHH(3502,!1)}();return re}function dn(U,g,_,R){switch(g){case"start":U.onStart(()=>R(_&&_n(_,"start",U)));break;case"done":U.onDone(()=>R(_&&_n(_,"done",U)));break;case"destroy":U.onDestroy(()=>R(_&&_n(_,"destroy",U)))}}function _n(U,g,_){const J=zt(U.element,U.triggerName,U.fromState,U.toState,g||U.phaseName,_.totalTime??U.totalTime,!!_.disabled),De=U._data;return null!=De&&(J._data=De),J}function zt(U,g,_,R,G="",J=0,De){return{element:U,triggerName:g,fromState:_,toState:R,phaseName:G,totalTime:J,disabled:!!De}}function xt(U,g,_){let R=U.get(g);return R||U.set(g,R=_),R}function Un(U){const g=U.indexOf(":");return[U.substring(1,g),U.slice(g+1)]}let an=(U,g)=>!1,ni=(U,g,_)=>[],Wn=null;function Xt(U){const g=U.parentNode||U.host;return g===Wn?null:g}(_t()||typeof Element<"u")&&(Xe()?(Wn=(()=>document.documentElement)(),an=(U,g)=>{for(;g;){if(g===U)return!0;g=Xt(g)}return!1}):an=(U,g)=>U.contains(g),ni=(U,g,_)=>{if(_)return Array.from(U.querySelectorAll(g));const R=U.querySelector(g);return R?[R]:[]});let si=null,Ii=!1;const Kt=an,Ri=ni;let di=(()=>{class U{validateStyleProperty(_){return function lr(U){si||(si=function gn(){return typeof document<"u"?document.body:null}()||{},Ii=!!si.style&&"WebkitAppearance"in si.style);let g=!0;return si.style&&!function Hr(U){return"ebkit"==U.substring(1,6)}(U)&&(g=U in si.style,!g&&Ii&&(g="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in si.style)),g}(_)}matchesElement(_,R){return!1}containsElement(_,R){return Kt(_,R)}getParentElement(_){return Xt(_)}query(_,R,G){return Ri(_,R,G)}computeStyle(_,R,G){return G||""}animate(_,R,G,J,De,re=[],We){return new se.ZN(G,J)}}return U.\u0275fac=function(_){return new(_||U)},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),mn=(()=>{class U{}return U.NOOP=new di,U})();const Gr="ng-enter",Pn="ng-leave",Lt="ng-trigger",Le=".ng-trigger",Fe="ng-animating",yt=".ng-animating";function je(U){if("number"==typeof U)return U;const g=U.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:ge(parseFloat(g[1]),g[2])}function ge(U,g){return"s"===g?1e3*U:U}function Oe(U,g,_){return U.hasOwnProperty("duration")?U:function St(U,g,_){let G,J=0,De="";if("string"==typeof U){const re=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===re)return g.push(ve()),{duration:0,delay:0,easing:""};G=ge(parseFloat(re[1]),re[2]);const We=re[3];null!=We&&(J=ge(parseFloat(We),re[4]));const vt=re[5];vt&&(De=vt)}else G=U;if(!_){let re=!1,We=g.length;G<0&&(g.push(function ue(){return new w.vHH(3100,!1)}()),re=!0),J<0&&(g.push(function xe(){return new w.vHH(3101,!1)}()),re=!0),re&&g.splice(We,0,ve())}return{duration:G,delay:J,easing:De}}(U,g,_)}function gt(U,g={}){return Object.keys(U).forEach(_=>{g[_]=U[_]}),g}function fn(U){const g=new Map;return Object.keys(U).forEach(_=>{g.set(_,U[_])}),g}function cn(U,g=new Map,_){if(_)for(let[R,G]of _)g.set(R,G);for(let[R,G]of U)g.set(R,G);return g}function fi(U,g,_){return _?g+":"+_+";":""}function yi(U){let g="";for(let _=0;_<U.style.length;_++){const R=U.style.item(_);g+=fi(0,R,U.style.getPropertyValue(R))}for(const _ in U.style)U.style.hasOwnProperty(_)&&!_.startsWith("_")&&(g+=fi(0,Ve(_),U.style[_]));U.setAttribute("style",g)}function Ln(U,g,_){U.style&&(g.forEach((R,G)=>{const J=ie(G);_&&!_.has(G)&&_.set(G,U.style[J]),U.style[J]=R}),_t()&&yi(U))}function Jn(U,g){U.style&&(g.forEach((_,R)=>{const G=ie(R);U.style[G]=""}),_t()&&yi(U))}function Me(U){return Array.isArray(U)?1==U.length?U[0]:(0,se.vP)(U):U}const ae=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ye(U){let g=[];if("string"==typeof U){let _;for(;_=ae.exec(U);)g.push(_[1]);ae.lastIndex=0}return g}function dt(U,g,_){const R=U.toString(),G=R.replace(ae,(J,De)=>{let re=g[De];return null==re&&(_.push(function Re(U){return new w.vHH(3003,!1)}()),re=""),re.toString()});return G==R?U:G}function we(U){const g=[];let _=U.next();for(;!_.done;)g.push(_.value),_=U.next();return g}const he=/-+([a-z0-9])/g;function ie(U){return U.replace(he,(...g)=>g[1].toUpperCase())}function Ve(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function on(U,g,_){switch(g.type){case 7:return U.visitTrigger(g,_);case 0:return U.visitState(g,_);case 1:return U.visitTransition(g,_);case 2:return U.visitSequence(g,_);case 3:return U.visitGroup(g,_);case 4:return U.visitAnimate(g,_);case 5:return U.visitKeyframes(g,_);case 6:return U.visitStyle(g,_);case 8:return U.visitReference(g,_);case 9:return U.visitAnimateChild(g,_);case 10:return U.visitAnimateRef(g,_);case 11:return U.visitQuery(g,_);case 12:return U.visitStagger(g,_);default:throw function Ie(U){return new w.vHH(3004,!1)}()}}function An(U,g){return window.getComputedStyle(U)[g]}function Ji(U,g){const _=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(R=>function nr(U,g,_){if(":"==U[0]){const We=function Wt(U,g){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,R)=>parseFloat(R)>parseFloat(_);case":decrement":return(_,R)=>parseFloat(R)<parseFloat(_);default:return g.push(function wt(U){return new w.vHH(3016,!1)}()),"* => *"}}(U,_);if("function"==typeof We)return void g.push(We);U=We}const R=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return _.push(function Te(U){return new w.vHH(3015,!1)}()),g;const G=R[1],J=R[2],De=R[3];g.push(Di(G,De));"<"==J[0]&&!("*"==G&&"*"==De)&&g.push(Di(De,G))}(R,_,g)):_.push(U),_}const En=new Set(["true","1"]),ri=new Set(["false","0"]);function Di(U,g){const _=En.has(U)||ri.has(U),R=En.has(g)||ri.has(g);return(G,J)=>{let De="*"==U||U==G,re="*"==g||g==J;return!De&&_&&"boolean"==typeof G&&(De=G?En.has(U):ri.has(U)),!re&&R&&"boolean"==typeof J&&(re=J?En.has(g):ri.has(g)),De&&re}}const Si=new RegExp("s*:selfs*,?","g");function cr(U,g,_,R){return new Ni(U).build(g,_,R)}class Ni{constructor(g){this._driver=g}build(g,_,R){const G=new ss(_);return this._resetContextStyleTimingState(G),on(this,Me(g),G)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,_){let R=_.queryCount=0,G=_.depCount=0;const J=[],De=[];return"@"==g.name.charAt(0)&&_.errors.push(function $e(){return new w.vHH(3006,!1)}()),g.definitions.forEach(re=>{if(this._resetContextStyleTimingState(_),0==re.type){const We=re,vt=We.name;vt.toString().split(/\s*,\s*/).forEach(ht=>{We.name=ht,J.push(this.visitState(We,_))}),We.name=vt}else if(1==re.type){const We=this.visitTransition(re,_);R+=We.queryCount,G+=We.depCount,De.push(We)}else _.errors.push(function pt(){return new w.vHH(3007,!1)}())}),{type:7,name:g.name,states:J,transitions:De,queryCount:R,depCount:G,options:null}}visitState(g,_){const R=this.visitStyle(g.styles,_),G=g.options&&g.options.params||null;if(R.containsDynamicStyles){const J=new Set,De=G||{};R.styles.forEach(re=>{re instanceof Map&&re.forEach(We=>{Ye(We).forEach(vt=>{De.hasOwnProperty(vt)||J.add(vt)})})}),J.size&&(we(J.values()),_.errors.push(function Tt(U,g){return new w.vHH(3008,!1)}()))}return{type:0,name:g.name,style:R,options:G?{params:G}:null}}visitTransition(g,_){_.queryCount=0,_.depCount=0;const R=on(this,Me(g.animation),_);return{type:1,matchers:Ji(g.expr,_.errors),animation:R,queryCount:_.queryCount,depCount:_.depCount,options:ur(g.options)}}visitSequence(g,_){return{type:2,steps:g.steps.map(R=>on(this,R,_)),options:ur(g.options)}}visitGroup(g,_){const R=_.currentTime;let G=0;const J=g.steps.map(De=>{_.currentTime=R;const re=on(this,De,_);return G=Math.max(G,_.currentTime),re});return _.currentTime=G,{type:3,steps:J,options:ur(g.options)}}visitAnimate(g,_){const R=function _s(U,g){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return Pi(Oe(U,g).duration,0,"");const _=U;if(_.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Pi(0,0,"");return J.dynamic=!0,J.strValue=_,J}const G=Oe(_,g);return Pi(G.duration,G.delay,G.easing)}(g.timings,_.errors);_.currentAnimateTimings=R;let G,J=g.styles?g.styles:(0,se.oB)({});if(5==J.type)G=this.visitKeyframes(J,_);else{let De=g.styles,re=!1;if(!De){re=!0;const vt={};R.easing&&(vt.easing=R.easing),De=(0,se.oB)(vt)}_.currentTime+=R.duration+R.delay;const We=this.visitStyle(De,_);We.isEmptyStep=re,G=We}return _.currentAnimateTimings=null,{type:4,timings:R,style:G,options:null}}visitStyle(g,_){const R=this._makeStyleAst(g,_);return this._validateStyleAst(R,_),R}_makeStyleAst(g,_){const R=[],G=Array.isArray(g.styles)?g.styles:[g.styles];for(let re of G)"string"==typeof re?re===se.l3?R.push(re):_.errors.push(new w.vHH(3002,!1)):R.push(fn(re));let J=!1,De=null;return R.forEach(re=>{if(re instanceof Map&&(re.has("easing")&&(De=re.get("easing"),re.delete("easing")),!J))for(let We of re.values())if(We.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:R,easing:De,offset:g.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(g,_){const R=_.currentAnimateTimings;let G=_.currentTime,J=_.currentTime;R&&J>0&&(J-=R.duration+R.delay),g.styles.forEach(De=>{"string"!=typeof De&&De.forEach((re,We)=>{const vt=_.collectedStyles.get(_.currentQuerySelector),ht=vt.get(We);let tn=!0;ht&&(J!=G&&J>=ht.startTime&&G<=ht.endTime&&(_.errors.push(function at(U,g,_,R,G){return new w.vHH(3010,!1)}()),tn=!1),J=ht.startTime),tn&&vt.set(We,{startTime:J,endTime:G}),_.options&&function Ae(U,g,_){const R=g.params||{},G=Ye(U);G.length&&G.forEach(J=>{R.hasOwnProperty(J)||_.push(function Pe(U){return new w.vHH(3001,!1)}())})}(re,_.options,_.errors)})})}visitKeyframes(g,_){const R={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Ct(){return new w.vHH(3011,!1)}()),R;let J=0;const De=[];let re=!1,We=!1,vt=0;const ht=g.steps.map(L=>{const M=this._makeStyleAst(L,_);let V=null!=M.offset?M.offset:function Mr(U){if("string"==typeof U)return null;let g=null;if(Array.isArray(U))U.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const R=_;g=parseFloat(R.get("offset")),R.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const _=U;g=parseFloat(_.get("offset")),_.delete("offset")}return g}(M.styles),fe=0;return null!=V&&(J++,fe=M.offset=V),We=We||fe<0||fe>1,re=re||fe<vt,vt=fe,De.push(fe),M});We&&_.errors.push(function Ke(){return new w.vHH(3012,!1)}()),re&&_.errors.push(function te(){return new w.vHH(3200,!1)}());const tn=g.steps.length;let Xn=0;J>0&&J<tn?_.errors.push(function ct(){return new w.vHH(3202,!1)}()):0==J&&(Xn=1/(tn-1));const Hn=tn-1,Cn=_.currentTime,xn=_.currentAnimateTimings,C=xn.duration;return ht.forEach((L,M)=>{const V=Xn>0?M==Hn?1:Xn*M:De[M],fe=V*C;_.currentTime=Cn+xn.delay+fe,xn.duration=fe,this._validateStyleAst(L,_),L.offset=V,R.styles.push(L)}),R}visitReference(g,_){return{type:8,animation:on(this,Me(g.animation),_),options:ur(g.options)}}visitAnimateChild(g,_){return _.depCount++,{type:9,options:ur(g.options)}}visitAnimateRef(g,_){return{type:10,animation:this.visitReference(g.animation,_),options:ur(g.options)}}visitQuery(g,_){const R=_.currentQuerySelector,G=g.options||{};_.queryCount++,_.currentQuery=g;const[J,De]=function xr(U){const g=!!U.split(/\s*,\s*/).find(_=>":self"==_);return g&&(U=U.replace(Si,"")),U=U.replace(/@\*/g,Le).replace(/@\w+/g,_=>Le+"-"+_.slice(1)).replace(/:animating/g,yt),[U,g]}(g.selector);_.currentQuerySelector=R.length?R+" "+J:J,xt(_.collectedStyles,_.currentQuerySelector,new Map);const re=on(this,Me(g.animation),_);return _.currentQuery=null,_.currentQuerySelector=R,{type:11,selector:J,limit:G.limit||0,optional:!!G.optional,includeSelf:De,animation:re,originalSelector:g.selector,options:ur(g.options)}}visitStagger(g,_){_.currentQuery||_.errors.push(function ke(){return new w.vHH(3013,!1)}());const R="full"===g.timings?{duration:0,delay:0,easing:"full"}:Oe(g.timings,_.errors,!0);return{type:12,animation:on(this,Me(g.animation),_),timings:R,options:null}}}class ss{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ur(U){return U?(U=gt(U)).params&&(U.params=function Tn(U){return U?gt(U):null}(U.params)):U={},U}function Pi(U,g,_){return{duration:U,delay:g,easing:_}}function vr(U,g,_,R,G,J,De=null,re=!1){return{type:1,element:U,keyframes:g,preStyleProps:_,postStyleProps:R,duration:G,delay:J,totalTime:G+J,easing:De,subTimeline:re}}class Ir{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,_){let R=this._map.get(g);R||this._map.set(g,R=[]),R.push(..._)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const jo=new RegExp(":enter","g"),Tr=new RegExp(":leave","g");function os(U,g,_,R,G,J=new Map,De=new Map,re,We,vt=[]){return(new Co).buildKeyframes(U,g,_,R,G,J,De,re,We,vt)}class Co{buildKeyframes(g,_,R,G,J,De,re,We,vt,ht=[]){vt=vt||new Ir;const tn=new Pr(g,_,vt,G,J,ht,[]);tn.options=We;const Xn=We.delay?je(We.delay):0;tn.currentTimeline.delayNextStep(Xn),tn.currentTimeline.setStyles([De],null,tn.errors,We),on(this,R,tn);const Hn=tn.timelines.filter(Cn=>Cn.containsAnimation());if(Hn.length&&re.size){let Cn;for(let xn=Hn.length-1;xn>=0;xn--){const C=Hn[xn];if(C.element===_){Cn=C;break}}Cn&&!Cn.allowOnlyTimelineStyles()&&Cn.setStyles([re],null,tn.errors,We)}return Hn.length?Hn.map(Cn=>Cn.buildKeyframes()):[vr(_,[],[],[],0,Xn,"",!1)]}visitTrigger(g,_){}visitState(g,_){}visitTransition(g,_){}visitAnimateChild(g,_){const R=_.subInstructions.get(_.element);if(R){const G=_.createSubContext(g.options),J=_.currentTimeline.currentTime,De=this._visitSubInstructions(R,G,G.options);J!=De&&_.transformIntoNewTimeline(De)}_.previousNode=g}visitAnimateRef(g,_){const R=_.createSubContext(g.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],_,R),this.visitReference(g.animation,R),_.transformIntoNewTimeline(R.currentTimeline.currentTime),_.previousNode=g}_applyAnimationRefDelays(g,_,R){for(const G of g){const J=G?.delay;if(J){const De="number"==typeof J?J:je(dt(J,G?.params??{},_.errors));R.delayNextStep(De)}}}_visitSubInstructions(g,_,R){let J=_.currentTimeline.currentTime;const De=null!=R.duration?je(R.duration):null,re=null!=R.delay?je(R.delay):null;return 0!==De&&g.forEach(We=>{const vt=_.appendInstructionToTimeline(We,De,re);J=Math.max(J,vt.duration+vt.delay)}),J}visitReference(g,_){_.updateOptions(g.options,!0),on(this,g.animation,_),_.previousNode=g}visitSequence(g,_){const R=_.subContextCount;let G=_;const J=g.options;if(J&&(J.params||J.delay)&&(G=_.createSubContext(J),G.transformIntoNewTimeline(),null!=J.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=ki);const De=je(J.delay);G.delayNextStep(De)}g.steps.length&&(g.steps.forEach(De=>on(this,De,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>R&&G.transformIntoNewTimeline()),_.previousNode=g}visitGroup(g,_){const R=[];let G=_.currentTimeline.currentTime;const J=g.options&&g.options.delay?je(g.options.delay):0;g.steps.forEach(De=>{const re=_.createSubContext(g.options);J&&re.delayNextStep(J),on(this,De,re),G=Math.max(G,re.currentTimeline.currentTime),R.push(re.currentTimeline)}),R.forEach(De=>_.currentTimeline.mergeTimelineCollectedStyles(De)),_.transformIntoNewTimeline(G),_.previousNode=g}_visitTiming(g,_){if(g.dynamic){const R=g.strValue;return Oe(_.params?dt(R,_.params,_.errors):R,_.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,_){const R=_.currentAnimateTimings=this._visitTiming(g.timings,_),G=_.currentTimeline;R.delay&&(_.incrementTime(R.delay),G.snapshotCurrentStyles());const J=g.style;5==J.type?this.visitKeyframes(J,_):(_.incrementTime(R.duration),this.visitStyle(J,_),G.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=g}visitStyle(g,_){const R=_.currentTimeline,G=_.currentAnimateTimings;!G&&R.hasCurrentStyleProperties()&&R.forwardFrame();const J=G&&G.easing||g.easing;g.isEmptyStep?R.applyEmptyStep(J):R.setStyles(g.styles,J,_.errors,_.options),_.previousNode=g}visitKeyframes(g,_){const R=_.currentAnimateTimings,G=_.currentTimeline.duration,J=R.duration,re=_.createSubContext().currentTimeline;re.easing=R.easing,g.styles.forEach(We=>{re.forwardTime((We.offset||0)*J),re.setStyles(We.styles,We.easing,_.errors,_.options),re.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(re),_.transformIntoNewTimeline(G+J),_.previousNode=g}visitQuery(g,_){const R=_.currentTimeline.currentTime,G=g.options||{},J=G.delay?je(G.delay):0;J&&(6===_.previousNode.type||0==R&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=ki);let De=R;const re=_.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!G.optional,_.errors);_.currentQueryTotal=re.length;let We=null;re.forEach((vt,ht)=>{_.currentQueryIndex=ht;const tn=_.createSubContext(g.options,vt);J&&tn.delayNextStep(J),vt===_.element&&(We=tn.currentTimeline),on(this,g.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),De=Math.max(De,tn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(De),We&&(_.currentTimeline.mergeTimelineCollectedStyles(We),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=g}visitStagger(g,_){const R=_.parentContext,G=_.currentTimeline,J=g.timings,De=Math.abs(J.duration),re=De*(_.currentQueryTotal-1);let We=De*_.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":We=re-We;break;case"full":We=R.currentStaggerTime}const ht=_.currentTimeline;We&&ht.delayNextStep(We);const tn=ht.currentTime;on(this,g.animation,_),_.previousNode=g,R.currentStaggerTime=G.currentTime-tn+(G.startTime-R.currentTimeline.startTime)}}const ki={};class Pr{constructor(g,_,R,G,J,De,re,We){this._driver=g,this.element=_,this.subInstructions=R,this._enterClassName=G,this._leaveClassName=J,this.errors=De,this.timelines=re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ki,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=We||new Or(this._driver,_,0),re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,_){if(!g)return;const R=g;let G=this.options;null!=R.duration&&(G.duration=je(R.duration)),null!=R.delay&&(G.delay=je(R.delay));const J=R.params;if(J){let De=G.params;De||(De=this.options.params={}),Object.keys(J).forEach(re=>{(!_||!De.hasOwnProperty(re))&&(De[re]=dt(J[re],De,this.errors))})}}_copyOptions(){const g={};if(this.options){const _=this.options.params;if(_){const R=g.params={};Object.keys(_).forEach(G=>{R[G]=_[G]})}}return g}createSubContext(g=null,_,R){const G=_||this.element,J=new Pr(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,R||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(g),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(g){return this.previousNode=ki,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,_,R){const G={duration:_??g.duration,delay:this.currentTimeline.currentTime+(R??0)+g.delay,easing:""},J=new Yi(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,G,g.stretchStartingKeyframe);return this.timelines.push(J),G}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,_,R,G,J,De){let re=[];if(G&&re.push(this.element),g.length>0){g=(g=g.replace(jo,"."+this._enterClassName)).replace(Tr,"."+this._leaveClassName);let vt=this._driver.query(this.element,g,1!=R);0!==R&&(vt=R<0?vt.slice(vt.length+R,vt.length):vt.slice(0,R)),re.push(...vt)}return!J&&0==re.length&&De.push(function rt(U){return new w.vHH(3014,!1)}()),re}}class Or{constructor(g,_,R,G){this._driver=g,this.element=_,this.startTime=R,this._elementTimelineStylesLookup=G,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+g),_&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,_){return this.applyStylesToKeyframe(),new Or(this._driver,g,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,_){this._localTimelineStyles.set(g,_),this._globalTimelineStyles.set(g,_),this._styleSummary.set(g,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[_,R]of this._globalTimelineStyles)this._backFill.set(_,R||se.l3),this._currentKeyframe.set(_,se.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,_,R,G){_&&this._previousKeyframe.set("easing",_);const J=G&&G.params||{},De=function hr(U,g){const _=new Map;let R;return U.forEach(G=>{if("*"===G){R=R||g.keys();for(let J of R)_.set(J,se.l3)}else cn(G,_)}),_}(g,this._globalTimelineStyles);for(let[re,We]of De){const vt=dt(We,J,R);this._pendingStyles.set(re,vt),this._localTimelineStyles.has(re)||this._backFill.set(re,this._globalTimelineStyles.get(re)??se.l3),this._updateStyle(re,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,_)=>{this._currentKeyframe.set(_,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,g)}))}snapshotCurrentStyles(){for(let[g,_]of this._localTimelineStyles)this._pendingStyles.set(g,_),this._updateStyle(g,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let _ in this._currentKeyframe)g.push(_);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((_,R)=>{const G=this._styleSummary.get(R);(!G||_.time>G.time)&&this._updateStyle(R,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,_=new Set,R=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((re,We)=>{const vt=cn(re,new Map,this._backFill);vt.forEach((ht,tn)=>{ht===se.k1?g.add(tn):ht===se.l3&&_.add(tn)}),R||vt.set("offset",We/this.duration),G.push(vt)});const J=g.size?we(g.values()):[],De=_.size?we(_.values()):[];if(R){const re=G[0],We=new Map(re);re.set("offset",0),We.set("offset",1),G=[re,We]}return vr(this.element,G,J,De,this.duration,this.startTime,this.easing,!1)}}class Yi extends Or{constructor(g,_,R,G,J,De,re=!1){super(g,_,De.delay),this.keyframes=R,this.preStyleProps=G,this.postStyleProps=J,this._stretchStartingKeyframe=re,this.timings={duration:De.duration,delay:De.delay,easing:De.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:_,duration:R,easing:G}=this.timings;if(this._stretchStartingKeyframe&&_){const J=[],De=R+_,re=_/De,We=cn(g[0]);We.set("offset",0),J.push(We);const vt=cn(g[0]);vt.set("offset",Vs(re)),J.push(vt);const ht=g.length-1;for(let tn=1;tn<=ht;tn++){let Xn=cn(g[tn]);const Hn=Xn.get("offset");Xn.set("offset",Vs((_+Hn*R)/De)),J.push(Xn)}R=De,_=0,G="",g=J}return vr(this.element,g,this.preStyleProps,this.postStyleProps,R,_,G,!0)}}function Vs(U,g=3){const _=Math.pow(10,g-1);return Math.round(U*_)/_}class Fr{}const fr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Hi extends Fr{normalizePropertyName(g,_){return ie(g)}normalizeStyleValue(g,_,R,G){let J="";const De=R.toString().trim();if(fr.has(_)&&0!==R&&"0"!==R)if("number"==typeof R)J="px";else{const re=R.match(/^[+-]?[\d\.]+([a-z]*)$/);re&&0==re[1].length&&G.push(function ot(U,g){return new w.vHH(3005,!1)}())}return De+J}}function js(U,g,_,R,G,J,De,re,We,vt,ht,tn,Xn){return{type:0,element:U,triggerName:g,isRemovalTransition:G,fromState:_,fromStyles:J,toState:R,toStyles:De,timelines:re,queriedElements:We,preStyleProps:vt,postStyleProps:ht,totalTime:tn,errors:Xn}}const zs={};class oo{constructor(g,_,R){this._triggerName=g,this.ast=_,this._stateStyles=R}match(g,_,R,G){return function $s(U,g,_,R,G){return U.some(J=>J(g,_,R,G))}(this.ast.matchers,g,_,R,G)}buildStyles(g,_,R){let G=this._stateStyles.get("*");return void 0!==g&&(G=this._stateStyles.get(g?.toString())||G),G?G.buildStyles(_,R):new Map}build(g,_,R,G,J,De,re,We,vt,ht){const tn=[],Xn=this.ast.options&&this.ast.options.params||zs,Cn=this.buildStyles(R,re&&re.params||zs,tn),xn=We&&We.params||zs,C=this.buildStyles(G,xn,tn),L=new Set,M=new Map,V=new Map,fe="void"===G,Je={params:zo(xn,Xn),delay:this.ast.options?.delay},lt=ht?[]:os(g,_,this.ast.animation,J,De,Cn,C,Je,vt,tn);let Vt=0;if(lt.forEach(Mn=>{Vt=Math.max(Mn.duration+Mn.delay,Vt)}),tn.length)return js(_,this._triggerName,R,G,fe,Cn,C,[],[],M,V,Vt,tn);lt.forEach(Mn=>{const Bn=Mn.element,Kn=xt(M,Bn,new Set);Mn.preStyleProps.forEach($t=>Kn.add($t));const li=xt(V,Bn,new Set);Mn.postStyleProps.forEach($t=>li.add($t)),Bn!==_&&L.add(Bn)});const Sn=we(L.values());return js(_,this._triggerName,R,G,fe,Cn,C,lt,Sn,M,V,Vt)}}function zo(U,g){const _=gt(g);for(const R in U)U.hasOwnProperty(R)&&null!=U[R]&&(_[R]=U[R]);return _}class ys{constructor(g,_,R){this.styles=g,this.defaultParams=_,this.normalizer=R}buildStyles(g,_){const R=new Map,G=gt(this.defaultParams);return Object.keys(g).forEach(J=>{const De=g[J];null!==De&&(G[J]=De)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((De,re)=>{De&&(De=dt(De,G,_));const We=this.normalizer.normalizePropertyName(re,_);De=this.normalizer.normalizeStyleValue(re,We,De,_),R.set(re,De)})}),R}}class ao{constructor(g,_,R){this.name=g,this.ast=_,this._normalizer=R,this.transitionFactories=[],this.states=new Map,_.states.forEach(G=>{this.states.set(G.name,new ys(G.style,G.options&&G.options.params||{},R))}),Qr(this.states,"true","1"),Qr(this.states,"false","0"),_.transitions.forEach(G=>{this.transitionFactories.push(new oo(g,G,this.states))}),this.fallbackTransition=function Is(U,g,_){return new oo(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(De,re)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,_,R,G){return this.transitionFactories.find(De=>De.match(g,_,R,G))||null}matchStyles(g,_,R){return this.fallbackTransition.buildStyles(g,_,R)}}function Qr(U,g,_){U.has(g)?U.has(_)||U.set(_,U.get(g)):U.has(_)&&U.set(g,U.get(_))}const vs=new Ir;class $o{constructor(g,_,R){this.bodyNode=g,this._driver=_,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,_){const R=[],J=cr(this._driver,_,R,[]);if(R.length)throw function ne(U){return new w.vHH(3503,!1)}();this._animations.set(g,J)}_buildPlayer(g,_,R){const G=g.element,J=Yt(0,this._normalizer,0,g.keyframes,_,R);return this._driver.animate(G,J,g.duration,g.delay,g.easing,[],!0)}create(g,_,R={}){const G=[],J=this._animations.get(g);let De;const re=new Map;if(J?(De=os(this._driver,_,J,Gr,Pn,new Map,new Map,R,vs,G),De.forEach(ht=>{const tn=xt(re,ht.element,new Map);ht.postStyleProps.forEach(Xn=>tn.set(Xn,null))})):(G.push(function X(){return new w.vHH(3300,!1)}()),De=[]),G.length)throw function Ee(U){return new w.vHH(3504,!1)}();re.forEach((ht,tn)=>{ht.forEach((Xn,Hn)=>{ht.set(Hn,this._driver.computeStyle(tn,Hn,se.l3))})});const vt=Gt(De.map(ht=>{const tn=re.get(ht.element);return this._buildPlayer(ht,new Map,tn)}));return this._playersById.set(g,vt),vt.onDestroy(()=>this.destroy(g)),this.players.push(vt),vt}destroy(g){const _=this._getPlayer(g);_.destroy(),this._playersById.delete(g);const R=this.players.indexOf(_);R>=0&&this.players.splice(R,1)}_getPlayer(g){const _=this._playersById.get(g);if(!_)throw function Se(U){return new w.vHH(3301,!1)}();return _}listen(g,_,R,G){const J=zt(_,"","","");return dn(this._getPlayer(g),R,J,G),()=>{}}command(g,_,R,G){if("register"==R)return void this.register(g,G[0]);if("create"==R)return void this.create(g,_,G[0]||{});const J=this._getPlayer(g);switch(R){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(g)}}}const Rs="ng-animate-queued",Ws="ng-animate-disabled",Ys=[],lo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ls={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gi="__ng_removed";class jr{get params(){return this.options.params}constructor(g,_=""){this.namespaceId=_;const R=g&&g.hasOwnProperty("value");if(this.value=function Yo(U){return U??null}(R?g.value:g),R){const J=gt(g);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const _=g.params;if(_){const R=this.options.params;Object.keys(_).forEach(G=>{null==R[G]&&(R[G]=_[G])})}}}const zr="void",Xs=new jr(zr);class To{constructor(g,_,R){this.id=g,this.hostElement=_,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,ir(_,this._hostClassName)}listen(g,_,R,G){if(!this._triggers.has(_))throw function pe(U,g){return new w.vHH(3302,!1)}();if(null==R||0==R.length)throw function _e(U){return new w.vHH(3303,!1)}();if(!function Lr(U){return"start"==U||"done"==U}(R))throw function He(U,g){return new w.vHH(3400,!1)}();const J=xt(this._elementListeners,g,[]),De={name:_,phase:R,callback:G};J.push(De);const re=xt(this._engine.statesByElement,g,new Map);return re.has(_)||(ir(g,Lt),ir(g,Lt+"-"+_),re.set(_,Xs)),()=>{this._engine.afterFlush(()=>{const We=J.indexOf(De);We>=0&&J.splice(We,1),this._triggers.has(_)||re.delete(_)})}}register(g,_){return!this._triggers.has(g)&&(this._triggers.set(g,_),!0)}_getTrigger(g){const _=this._triggers.get(g);if(!_)throw function Ce(U){return new w.vHH(3401,!1)}();return _}trigger(g,_,R,G=!0){const J=this._getTrigger(_),De=new Fs(this.id,_,g);let re=this._engine.statesByElement.get(g);re||(ir(g,Lt),ir(g,Lt+"-"+_),this._engine.statesByElement.set(g,re=new Map));let We=re.get(_);const vt=new jr(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&We&&vt.absorbOptions(We.options),re.set(_,vt),We||(We=Xs),vt.value!==zr&&We.value===vt.value){if(!function E(U,g){const _=Object.keys(U),R=Object.keys(g);if(_.length!=R.length)return!1;for(let G=0;G<_.length;G++){const J=_[G];if(!g.hasOwnProperty(J)||U[J]!==g[J])return!1}return!0}(We.params,vt.params)){const xn=[],C=J.matchStyles(We.value,We.params,xn),L=J.matchStyles(vt.value,vt.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{Jn(g,C),Ln(g,L)})}return}const Xn=xt(this._engine.playersByElement,g,[]);Xn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==_&&xn.queued&&xn.destroy()});let Hn=J.matchTransition(We.value,vt.value,g,vt.params),Cn=!1;if(!Hn){if(!G)return;Hn=J.fallbackTransition,Cn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:_,transition:Hn,fromState:We,toState:vt,player:De,isFallbackTransition:Cn}),Cn||(ir(g,Rs),De.onStart(()=>{pr(g,Rs)})),De.onDone(()=>{let xn=this.players.indexOf(De);xn>=0&&this.players.splice(xn,1);const C=this._engine.playersByElement.get(g);if(C){let L=C.indexOf(De);L>=0&&C.splice(L,1)}}),this.players.push(De),Xn.push(De),De}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(_=>_.delete(g)),this._elementListeners.forEach((_,R)=>{this._elementListeners.set(R,_.filter(G=>G.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const _=this._engine.playersByElement.get(g);_&&(_.forEach(R=>R.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,_){const R=this._engine.driver.query(g,Le,!0);R.forEach(G=>{if(G[Gi])return;const J=this._engine.fetchNamespacesByElement(G);J.size?J.forEach(De=>De.triggerLeaveAnimation(G,_,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(g,_,R,G){const J=this._engine.statesByElement.get(g),De=new Map;if(J){const re=[];if(J.forEach((We,vt)=>{if(De.set(vt,We.value),this._triggers.has(vt)){const ht=this.trigger(g,vt,zr,G);ht&&re.push(ht)}}),re.length)return this._engine.markElementAsRemoved(this.id,g,!0,_,De),R&&Gt(re).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const _=this._elementListeners.get(g),R=this._engine.statesByElement.get(g);if(_&&R){const G=new Set;_.forEach(J=>{const De=J.name;if(G.has(De))return;G.add(De);const We=this._triggers.get(De).fallbackTransition,vt=R.get(De)||Xs,ht=new jr(zr),tn=new Fs(this.id,De,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:De,transition:We,fromState:vt,toState:ht,player:tn,isFallbackTransition:!0})})}}removeNode(g,_){const R=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,_),this.triggerLeaveAnimation(g,_,!0))return;let G=!1;if(R.totalAnimations){const J=R.players.length?R.playersByQueriedElement.get(g):[];if(J&&J.length)G=!0;else{let De=g;for(;De=De.parentNode;)if(R.statesByElement.get(De)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(g),G)R.markElementAsRemoved(this.id,g,!1,_);else{const J=g[Gi];(!J||J===lo)&&(R.afterFlush(()=>this.clearElementCache(g)),R.destroyInnerAnimations(g),R._onRemovalComplete(g,_))}}insertNode(g,_){ir(g,this._hostClassName)}drainQueuedTransitions(g){const _=[];return this._queue.forEach(R=>{const G=R.player;if(G.destroyed)return;const J=R.element,De=this._elementListeners.get(J);De&&De.forEach(re=>{if(re.name==R.triggerName){const We=zt(J,R.triggerName,R.fromState.value,R.toState.value);We._data=g,dn(R.player,re.phase,We,re.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):_.push(R)}),this._queue=[],_.sort((R,G)=>{const J=R.transition.ast.depCount,De=G.transition.ast.depCount;return 0==J||0==De?J-De:this._engine.driver.containsElement(R.element,G.element)?1:-1})}destroy(g){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let _=!1;return this._elementListeners.has(g)&&(_=!0),_=!!this._queue.find(R=>R.element===g)||_,_}}class Os{_onRemovalComplete(g,_){this.onRemovalComplete(g,_)}constructor(g,_,R){this.bodyNode=g,this.driver=_,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,J)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(_=>{_.players.forEach(R=>{R.queued&&g.push(R)})}),g}createNamespace(g,_){const R=new To(g,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(R,_):(this.newHostElements.set(_,R),this.collectEnterElement(_)),this._namespaceLookup[g]=R}_balanceNamespaceList(g,_){const R=this._namespaceList,G=this.namespacesByHostElement;if(R.length-1>=0){let De=!1,re=this.driver.getParentElement(_);for(;re;){const We=G.get(re);if(We){const vt=R.indexOf(We);R.splice(vt+1,0,g),De=!0;break}re=this.driver.getParentElement(re)}De||R.unshift(g)}else R.push(g);return G.set(_,g),g}register(g,_){let R=this._namespaceLookup[g];return R||(R=this.createNamespace(g,_)),R}registerTrigger(g,_,R){let G=this._namespaceLookup[g];G&&G.register(_,R)&&this.totalAnimations++}destroy(g,_){if(!g)return;const R=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[g];const G=this._namespaceList.indexOf(R);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>R.destroy(_))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const _=new Set,R=this.statesByElement.get(g);if(R)for(let G of R.values())if(G.namespaceId){const J=this._fetchNamespace(G.namespaceId);J&&_.add(J)}return _}trigger(g,_,R,G){if(bs(_)){const J=this._fetchNamespace(g);if(J)return J.trigger(_,R,G),!0}return!1}insertNode(g,_,R,G){if(!bs(_))return;const J=_[Gi];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const De=this.collectedLeaveElements.indexOf(_);De>=0&&this.collectedLeaveElements.splice(De,1)}if(g){const De=this._fetchNamespace(g);De&&De.insertNode(_,R)}G&&this.collectEnterElement(_)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,_){_?this.disabledNodes.has(g)||(this.disabledNodes.add(g),ir(g,Ws)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),pr(g,Ws))}removeNode(g,_,R,G){if(bs(_)){const J=g?this._fetchNamespace(g):null;if(J?J.removeNode(_,G):this.markElementAsRemoved(g,_,!1,G),R){const De=this.namespacesByHostElement.get(_);De&&De.id!==g&&De.removeNode(_,G)}}else this._onRemovalComplete(_,G)}markElementAsRemoved(g,_,R,G,J){this.collectedLeaveElements.push(_),_[Gi]={namespaceId:g,setForRemoval:G,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:J}}listen(g,_,R,G,J){return bs(_)?this._fetchNamespace(g).listen(_,R,G,J):()=>{}}_buildInstruction(g,_,R,G,J){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,R,G,g.fromState.options,g.toState.options,_,J)}destroyInnerAnimations(g){let _=this.driver.query(g,Le,!0);_.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(g,yt,!0),_.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(g){const _=this.playersByElement.get(g);_&&_.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(g){const _=this.playersByQueriedElement.get(g);_&&_.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Gt(this.players).onDone(()=>g());g()})}processLeaveNode(g){const _=g[Gi];if(_&&_.setForRemoval){if(g[Gi]=lo,_.namespaceId){this.destroyInnerAnimations(g);const R=this._fetchNamespace(_.namespaceId);R&&R.clearElementCache(g)}this._onRemovalComplete(g,_.setForRemoval)}g.classList?.contains(Ws)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(g=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,G)=>this._balanceNamespaceList(R,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)ir(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{_=this._flushAnimations(R,g)}finally{for(let G=0;G<R.length;G++)R[G]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],_.length?Gt(_).onDone(()=>{R.forEach(G=>G())}):R.forEach(G=>G())}}reportError(g){throw function qe(U){return new w.vHH(3402,!1)}()}_flushAnimations(g,_){const R=new Ir,G=[],J=new Map,De=[],re=new Map,We=new Map,vt=new Map,ht=new Set;this.disabledNodes.forEach(Ft=>{ht.add(Ft);const nn=this.driver.query(Ft,".ng-animate-queued",!0);for(let un=0;un<nn.length;un++)ht.add(nn[un])});const tn=this.bodyNode,Xn=Array.from(this.statesByElement.keys()),Hn=Oi(Xn,this.collectedEnterElements),Cn=new Map;let xn=0;Hn.forEach((Ft,nn)=>{const un=Gr+xn++;Cn.set(nn,un),Ft.forEach(Vn=>ir(Vn,un))});const C=[],L=new Set,M=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const nn=this.collectedLeaveElements[Ft],un=nn[Gi];un&&un.setForRemoval&&(C.push(nn),L.add(nn),un.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(Vn=>L.add(Vn)):M.add(nn))}const V=new Map,fe=Oi(Xn,Array.from(L));fe.forEach((Ft,nn)=>{const un=Pn+xn++;V.set(nn,un),Ft.forEach(Vn=>ir(Vn,un))}),g.push(()=>{Hn.forEach((Ft,nn)=>{const un=Cn.get(nn);Ft.forEach(Vn=>pr(Vn,un))}),fe.forEach((Ft,nn)=>{const un=V.get(nn);Ft.forEach(Vn=>pr(Vn,un))}),C.forEach(Ft=>{this.processLeaveNode(Ft)})});const Je=[],lt=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(_).forEach(un=>{const Vn=un.player,wi=un.element;if(Je.push(Vn),this.collectedEnterElements.length){const or=wi[Gi];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(un.triggerName)){const Ci=or.previousTriggersValues.get(un.triggerName),On=this.statesByElement.get(un.element);if(On&&On.has(un.triggerName)){const Zi=On.get(un.triggerName);Zi.value=Ci,On.set(un.triggerName,Zi)}}return void Vn.destroy()}}const Xi=!tn||!this.driver.containsElement(tn,wi),mr=V.get(wi),Ki=Cn.get(wi),mi=this._buildInstruction(un,R,Ki,mr,Xi);if(mi.errors&&mi.errors.length)return void lt.push(mi);if(Xi)return Vn.onStart(()=>Jn(wi,mi.fromStyles)),Vn.onDestroy(()=>Ln(wi,mi.toStyles)),void G.push(Vn);if(un.isFallbackTransition)return Vn.onStart(()=>Jn(wi,mi.fromStyles)),Vn.onDestroy(()=>Ln(wi,mi.toStyles)),void G.push(Vn);const Ns=[];mi.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||Ns.push(or)}),mi.timelines=Ns,R.append(wi,mi.timelines),De.push({instruction:mi,player:Vn,element:wi}),mi.queriedElements.forEach(or=>xt(re,or,[]).push(Vn)),mi.preStyleProps.forEach((or,Ci)=>{if(or.size){let On=We.get(Ci);On||We.set(Ci,On=new Set),or.forEach((Zi,jn)=>On.add(jn))}}),mi.postStyleProps.forEach((or,Ci)=>{let On=vt.get(Ci);On||vt.set(Ci,On=new Set),or.forEach((Zi,jn)=>On.add(jn))})});if(lt.length){const Ft=[];lt.forEach(nn=>{Ft.push(function ye(U,g){return new w.vHH(3505,!1)}())}),Je.forEach(nn=>nn.destroy()),this.reportError(Ft)}const Vt=new Map,Sn=new Map;De.forEach(Ft=>{const nn=Ft.element;R.has(nn)&&(Sn.set(nn,nn),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,Vt))}),G.forEach(Ft=>{const nn=Ft.element;this._getPreviousPlayers(nn,!1,Ft.namespaceId,Ft.triggerName,null).forEach(Vn=>{xt(Vt,nn,[]).push(Vn),Vn.destroy()})});const Mn=C.filter(Ft=>N(Ft,We,vt)),Bn=new Map;uo(Bn,this.driver,M,vt,se.l3).forEach(Ft=>{N(Ft,We,vt)&&Mn.push(Ft)});const li=new Map;Hn.forEach((Ft,nn)=>{uo(li,this.driver,new Set(Ft),We,se.k1)}),Mn.forEach(Ft=>{const nn=Bn.get(Ft),un=li.get(Ft);Bn.set(Ft,new Map([...Array.from(nn?.entries()??[]),...Array.from(un?.entries()??[])]))});const $t=[],Ai=[],Yr={};De.forEach(Ft=>{const{element:nn,player:un,instruction:Vn}=Ft;if(R.has(nn)){if(ht.has(nn))return un.onDestroy(()=>Ln(nn,Vn.toStyles)),un.disabled=!0,un.overrideTotalTime(Vn.totalTime),void G.push(un);let wi=Yr;if(Sn.size>1){let mr=nn;const Ki=[];for(;mr=mr.parentNode;){const mi=Sn.get(mr);if(mi){wi=mi;break}Ki.push(mr)}Ki.forEach(mi=>Sn.set(mi,wi))}const Xi=this._buildAnimation(un.namespaceId,Vn,Vt,J,li,Bn);if(un.setRealPlayer(Xi),wi===Yr)$t.push(un);else{const mr=this.playersByElement.get(wi);mr&&mr.length&&(un.parentPlayer=Gt(mr)),G.push(un)}}else Jn(nn,Vn.fromStyles),un.onDestroy(()=>Ln(nn,Vn.toStyles)),Ai.push(un),ht.has(nn)&&G.push(un)}),Ai.forEach(Ft=>{const nn=J.get(Ft.element);if(nn&&nn.length){const un=Gt(nn);Ft.setRealPlayer(un)}}),G.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<C.length;Ft++){const nn=C[Ft],un=nn[Gi];if(pr(nn,Pn),un&&un.hasAnimation)continue;let Vn=[];if(re.size){let Xi=re.get(nn);Xi&&Xi.length&&Vn.push(...Xi);let mr=this.driver.query(nn,yt,!0);for(let Ki=0;Ki<mr.length;Ki++){let mi=re.get(mr[Ki]);mi&&mi.length&&Vn.push(...mi)}}const wi=Vn.filter(Xi=>!Xi.destroyed);wi.length?ai(this,nn,wi):this.processLeaveNode(nn)}return C.length=0,$t.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const nn=this.players.indexOf(Ft);this.players.splice(nn,1)}),Ft.play()}),$t}elementContainsData(g,_){let R=!1;const G=_[Gi];return G&&G.setForRemoval&&(R=!0),this.playersByElement.has(_)&&(R=!0),this.playersByQueriedElement.has(_)&&(R=!0),this.statesByElement.has(_)&&(R=!0),this._fetchNamespace(g).elementContainsData(_)||R}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,_,R,G,J){let De=[];if(_){const re=this.playersByQueriedElement.get(g);re&&(De=re)}else{const re=this.playersByElement.get(g);if(re){const We=!J||J==zr;re.forEach(vt=>{vt.queued||!We&&vt.triggerName!=G||De.push(vt)})}}return(R||G)&&(De=De.filter(re=>!(R&&R!=re.namespaceId||G&&G!=re.triggerName))),De}_beforeAnimationBuild(g,_,R){const J=_.element,De=_.isRemovalTransition?void 0:g,re=_.isRemovalTransition?void 0:_.triggerName;for(const We of _.timelines){const vt=We.element,ht=vt!==J,tn=xt(R,vt,[]);this._getPreviousPlayers(vt,ht,De,re,_.toState).forEach(Hn=>{const Cn=Hn.getRealPlayer();Cn.beforeDestroy&&Cn.beforeDestroy(),Hn.destroy(),tn.push(Hn)})}Jn(J,_.fromStyles)}_buildAnimation(g,_,R,G,J,De){const re=_.triggerName,We=_.element,vt=[],ht=new Set,tn=new Set,Xn=_.timelines.map(Cn=>{const xn=Cn.element;ht.add(xn);const C=xn[Gi];if(C&&C.removedBeforeQueried)return new se.ZN(Cn.duration,Cn.delay);const L=xn!==We,M=function K(U){const g=[];return I(U,g),g}((R.get(xn)||Ys).map(Vt=>Vt.getRealPlayer())).filter(Vt=>!!Vt.element&&Vt.element===xn),V=J.get(xn),fe=De.get(xn),Je=Yt(0,this._normalizer,0,Cn.keyframes,V,fe),lt=this._buildPlayer(Cn,Je,M);if(Cn.subTimeline&&G&&tn.add(xn),L){const Vt=new Fs(g,re,xn);Vt.setRealPlayer(lt),vt.push(Vt)}return lt});vt.forEach(Cn=>{xt(this.playersByQueriedElement,Cn.element,[]).push(Cn),Cn.onDone(()=>function co(U,g,_){let R=U.get(g);if(R){if(R.length){const G=R.indexOf(_);R.splice(G,1)}0==R.length&&U.delete(g)}return R}(this.playersByQueriedElement,Cn.element,Cn))}),ht.forEach(Cn=>ir(Cn,Fe));const Hn=Gt(Xn);return Hn.onDestroy(()=>{ht.forEach(Cn=>pr(Cn,Fe)),Ln(We,_.toStyles)}),tn.forEach(Cn=>{xt(G,Cn,[]).push(Hn)}),Hn}_buildPlayer(g,_,R){return _.length>0?this.driver.animate(g.element,_,g.duration,g.delay,g.easing,R):new se.ZN(g.duration,g.delay)}}class Fs{constructor(g,_,R){this.namespaceId=g,this.triggerName=_,this.element=R,this._player=new se.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((_,R)=>{_.forEach(G=>dn(g,R,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const _=this._player;_.triggerCallback&&g.onStart(()=>_.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,_){xt(this._queuedCallbacks,g,[]).push(_)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const _=this._player;_.triggerCallback&&_.triggerCallback(g)}}function bs(U){return U&&1===U.nodeType}function Ls(U,g){const _=U.style.display;return U.style.display=g??"none",_}function uo(U,g,_,R,G){const J=[];_.forEach(We=>J.push(Ls(We)));const De=[];R.forEach((We,vt)=>{const ht=new Map;We.forEach(tn=>{const Xn=g.computeStyle(vt,tn,G);ht.set(tn,Xn),(!Xn||0==Xn.length)&&(vt[Gi]=ls,De.push(vt))}),U.set(vt,ht)});let re=0;return _.forEach(We=>Ls(We,J[re++])),De}function Oi(U,g){const _=new Map;if(U.forEach(re=>_.set(re,[])),0==g.length)return _;const G=new Set(g),J=new Map;function De(re){if(!re)return 1;let We=J.get(re);if(We)return We;const vt=re.parentNode;return We=_.has(vt)?vt:G.has(vt)?1:De(vt),J.set(re,We),We}return g.forEach(re=>{const We=De(re);1!==We&&_.get(We).push(re)}),_}function ir(U,g){U.classList?.add(g)}function pr(U,g){U.classList?.remove(g)}function ai(U,g,_){Gt(_).onDone(()=>U.processLeaveNode(g))}function I(U,g){for(let _=0;_<U.length;_++){const R=U[_];R instanceof se.ZE?I(R.players,g):g.push(R)}}function N(U,g,_){const R=_.get(U);if(!R)return!1;let G=g.get(U);return G?R.forEach(J=>G.add(J)):g.set(U,R),_.delete(U),!0}class q{constructor(g,_,R){this.bodyNode=g,this._driver=_,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(G,J)=>{},this._transitionEngine=new Os(g,_,R),this._timelineEngine=new $o(g,_,R),this._transitionEngine.onRemovalComplete=(G,J)=>this.onRemovalComplete(G,J)}registerTrigger(g,_,R,G,J){const De=g+"-"+G;let re=this._triggerCache[De];if(!re){const We=[],ht=cr(this._driver,J,We,[]);if(We.length)throw function qt(U,g){return new w.vHH(3404,!1)}();re=function Bi(U,g,_){return new ao(U,g,_)}(G,ht,this._normalizer),this._triggerCache[De]=re}this._transitionEngine.registerTrigger(_,G,re)}register(g,_){this._transitionEngine.register(g,_)}destroy(g,_){this._transitionEngine.destroy(g,_)}onInsert(g,_,R,G){this._transitionEngine.insertNode(g,_,R,G)}onRemove(g,_,R,G){this._transitionEngine.removeNode(g,_,G||!1,R)}disableAnimations(g,_){this._transitionEngine.markElementAsDisabled(g,_)}process(g,_,R,G){if("@"==R.charAt(0)){const[J,De]=Un(R);this._timelineEngine.command(J,_,De,G)}else this._transitionEngine.trigger(g,_,R,G)}listen(g,_,R,G,J){if("@"==R.charAt(0)){const[De,re]=Un(R);return this._timelineEngine.listen(De,_,re,J)}return this._transitionEngine.listen(g,_,R,G,J)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let et=(()=>{class U{constructor(_,R,G){this._element=_,this._startStyles=R,this._endStyles=G,this._state=0;let J=U.initialStylesByElement.get(_);J||U.initialStylesByElement.set(_,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(Jn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jn(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function ft(U){let g=null;return U.forEach((_,R)=>{(function kt(U){return"display"===U||"position"===U})(R)&&(g=g||new Map,g.set(R,_))}),g}class en{constructor(g,_,R,G){this.element=g,this.keyframes=_,this.options=R,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const _=[];return g.forEach(R=>{_.push(Object.fromEntries(R))}),_}_triggerWebAnimation(g,_,R){return g.animate(this._convertKeyframesToObject(_),R)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,G)=>{"offset"!==G&&g.set(G,this._finished?R:An(this.element,G))}),this.currentSnapshot=g}triggerCallback(g){const _="start"===g?this._onStartFns:this._onDoneFns;_.forEach(R=>R()),_.length=0}}class Mt{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,_){return!1}containsElement(g,_){return Kt(g,_)}getParentElement(g){return Xt(g)}query(g,_,R){return Ri(g,_,R)}computeStyle(g,_,R){return window.getComputedStyle(g)[_]}animate(g,_,R,G,J,De=[]){const We={duration:R,delay:G,fill:0==G?"both":"forwards"};J&&(We.easing=J);const vt=new Map,ht=De.filter(Hn=>Hn instanceof en);(function nt(U,g){return 0===U||0===g})(R,G)&&ht.forEach(Hn=>{Hn.currentSnapshot.forEach((Cn,xn)=>vt.set(xn,Cn))});let tn=function Dn(U){return U.length?U[0]instanceof Map?U:U.map(g=>fn(g)):[]}(_).map(Hn=>cn(Hn));tn=function Nt(U,g,_){if(_.size&&g.length){let R=g[0],G=[];if(_.forEach((J,De)=>{R.has(De)||G.push(De),R.set(De,J)}),G.length)for(let J=1;J<g.length;J++){let De=g[J];G.forEach(re=>De.set(re,An(U,re)))}}return g}(g,tn,vt);const Xn=function be(U,g){let _=null,R=null;return Array.isArray(g)&&g.length?(_=ft(g[0]),g.length>1&&(R=ft(g[g.length-1]))):g instanceof Map&&(_=ft(g)),_||R?new et(U,_,R):null}(g,tn);return new en(g,tn,We,Xn)}}var Yn=F(6895);let Er=(()=>{class U extends se._j{constructor(_,R){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(R.body,{id:"0",encapsulation:w.ifc.None,styles:[],data:{animation:[]}})}build(_){const R=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(_)?(0,se.vP)(_):_;return br(this._renderer,null,R,"register",[G]),new Fi(R,this._renderer)}}return U.\u0275fac=function(_){return new(_||U)(w.LFG(w.FYo),w.LFG(Yn.K0))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();class Fi extends se.LC{constructor(g,_){super(),this._id=g,this._renderer=_}create(g,_){return new rr(this._id,g,_||{},this._renderer)}}class rr{constructor(g,_,R,G){this.id=g,this.element=_,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(g,_){return this._renderer.listen(this.element,`@@${this.id}:${g}`,_)}_command(g,..._){return br(this._renderer,this.element,this.id,g,_)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function br(U,g,_,R,G){return U.setProperty(g,`@@${_}:${R}`,G)}const da="@.disabled";let Ks=(()=>{class U{constructor(_,R,G){this.delegate=_,this.engine=R,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(J,De)=>{const re=De?.parentNode(J);re&&De.removeChild(re,J)}}createRenderer(_,R){const J=this.delegate.createRenderer(_,R);if(!(_&&R&&R.data&&R.data.animation)){let ht=this._rendererCache.get(J);return ht||(ht=new ut("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,ht)),ht}const De=R.id,re=R.id+"-"+this._currentId;this._currentId++,this.engine.register(re,_);const We=ht=>{Array.isArray(ht)?ht.forEach(We):this.engine.registerTrigger(De,re,_,ht.name,ht)};return R.data.animation.forEach(We),new ei(this,re,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,R,G){_>=0&&_<this._microtaskId?this._zone.run(()=>R(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[De,re]=J;De(re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(_){return new(_||U)(w.LFG(w.FYo),w.LFG(q),w.LFG(w.R0b))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})();class ut{constructor(g,_,R,G){this.namespaceId=g,this.delegate=_,this.engine=R,this._onDestroy=G,this.destroyNode=this.delegate.destroyNode?J=>_.destroyNode(J):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,_){return this.delegate.createElement(g,_)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,_){this.delegate.appendChild(g,_),this.engine.onInsert(this.namespaceId,_,g,!1)}insertBefore(g,_,R,G=!0){this.delegate.insertBefore(g,_,R),this.engine.onInsert(this.namespaceId,_,g,G)}removeChild(g,_,R){this.engine.onRemove(this.namespaceId,_,this.delegate,R)}selectRootElement(g,_){return this.delegate.selectRootElement(g,_)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,_,R,G){this.delegate.setAttribute(g,_,R,G)}removeAttribute(g,_,R){this.delegate.removeAttribute(g,_,R)}addClass(g,_){this.delegate.addClass(g,_)}removeClass(g,_){this.delegate.removeClass(g,_)}setStyle(g,_,R,G){this.delegate.setStyle(g,_,R,G)}removeStyle(g,_,R){this.delegate.removeStyle(g,_,R)}setProperty(g,_,R){"@"==_.charAt(0)&&_==da?this.disableAnimations(g,!!R):this.delegate.setProperty(g,_,R)}setValue(g,_){this.delegate.setValue(g,_)}listen(g,_,R){return this.delegate.listen(g,_,R)}disableAnimations(g,_){this.engine.disableAnimations(g,_)}}class ei extends ut{constructor(g,_,R,G,J){super(_,R,G,J),this.factory=g,this.namespaceId=_}setProperty(g,_,R){"@"==_.charAt(0)?"."==_.charAt(1)&&_==da?this.disableAnimations(g,R=void 0===R||!!R):this.engine.process(this.namespaceId,g,_.slice(1),R):this.delegate.setProperty(g,_,R)}listen(g,_,R){if("@"==_.charAt(0)){const G=function Ba(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(g);let J=_.slice(1),De="";return"@"!=J.charAt(0)&&([J,De]=function So(U){const g=U.indexOf(".");return[U.substring(0,g),U.slice(g+1)]}(J)),this.engine.listen(this.namespaceId,G,J,De,re=>{this.factory.scheduleListenerCallback(re._data||-1,R,re)})}return this.delegate.listen(g,_,R)}}const wr=[{provide:se._j,useClass:Er},{provide:Fr,useFactory:function ws(){return new Hi}},{provide:q,useClass:(()=>{class U extends q{constructor(_,R,G,J){super(_.body,R,G)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(_){return new(_||U)(w.LFG(Yn.K0),w.LFG(mn),w.LFG(Fr),w.LFG(w.z2F))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:w.FYo,useFactory:function ho(U,g,_){return new Ks(U,g,_)},deps:[D.se,q,w.R0b]}],Zs=[{provide:mn,useFactory:()=>new Mt},{provide:w.QbO,useValue:"BrowserAnimations"},...wr],Ao=[{provide:mn,useClass:di},{provide:w.QbO,useValue:"NoopAnimations"},...wr];let Ua=(()=>{class U{static withConfig(_){return{ngModule:U,providers:_.disableAnimations?Ao:Zs}}}return U.\u0275fac=function(_){return new(_||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({providers:Zs,imports:[D.b2]}),U})();var sr=F(4843),Jr=F(9167);class $r{bootstrapService;constructor(g){this.bootstrapService=g}canMatch(){return!!this.bootstrapService.isGameActivated}static \u0275fac=function(_){return new(_||$r)(w.LFG(Jr.Q))};static \u0275prov=w.Yz7({token:$r,factory:$r.\u0275fac,providedIn:"root"})}class Ui{bootstrapService;constructor(g){this.bootstrapService=g}canMatch(){return!this.bootstrapService.isGameActivated}static \u0275fac=function(_){return new(_||Ui)(w.LFG(Jr.Q))};static \u0275prov=w.Yz7({token:Ui,factory:Ui.\u0275fac,providedIn:"root"})}const us=[{path:"",canMatch:[Ui],loadComponent:()=>Promise.all([F.e(592),F.e(786)]).then(F.bind(F,1786)).then(U=>U.StartPageComponent)},{path:"",canMatch:[$r],loadChildren:()=>F.e(306).then(F.bind(F,7306)).then(U=>U.GameModule)},{path:"**",redirectTo:"/"}];class hs{static \u0275fac=function(_){return new(_||hs)};static \u0275mod=w.oAB({type:hs});static \u0275inj=w.cJS({imports:[sr.Bz.forRoot(us),sr.Bz]})}var Wr=F(5548);class fo{static \u0275fac=function(_){return new(_||fo)};static \u0275cmp=w.Xpm({type:fo,selectors:[["root"]],decls:1,vars:1,consts:[[3,"isUseSpinner"]],template:function(_,R){1&_&&w._UZ(0,"wrap-router-outlet",0),2&_&&w.Q6J("isUseSpinner",!1)},dependencies:[Wr.U],styles:["[_nghost-%COMP%]{position:relative;display:block;width:100%;height:100%}[_nghost-%COMP%]   wrap-router-outlet[_ngcontent-%COMP%]{width:100%;height:100%}"]})}var Ds=F(4463);class qs{constructor(g,_="/assets/i18n/",R=".json"){this.http=g,this.prefix=_,this.suffix=R}getTranslation(g){return this.http.get(`${this.prefix}${g}${this.suffix}`)}}var gr=F(8465),er=F(6033);class Mo{constructor(g){g.use(g.defaultLang)}static \u0275fac=function(_){return new(_||Mo)(w.LFG(Ds.sK))};static \u0275mod=w.oAB({type:Mo});static \u0275inj=w.cJS({imports:[Ds.aw.forRoot({loader:{provide:Ds.Zw,useFactory:g=>new qs(g),deps:[ce.eN]},defaultLanguage:localStorage.getItem(er.y.CurrentLanguage)||gr.D.En})]})}const pa={provide:le.Bq,useFactory:()=>({autoFocus:!1,hasBackdrop:!0,closeOnNavigation:!0,restoreFocus:!0})};class es{static \u0275fac=function(_){return new(_||es)};static \u0275mod=w.oAB({type:es,bootstrap:[fo]});static \u0275inj=w.cJS({providers:[pa],imports:[Ua,D.b2,hs,ce.JF,le.Is,Mo,Wr.U]})}(0,w.G48)(),D.q6().bootstrapModule(es).catch(U=>console.error(U))},5469:At=>{"use strict";function Ne(W,ne,X){X=X||2;var He,Ce,qe,Q,ye,Be,Xe,Ee=ne&&ne.length,Se=Ee?ne[0]*X:W.length,pe=F(W,0,Se,X,!0),_e=[];if(!pe||pe.next===pe.prev)return _e;if(Ee&&(pe=function ve(W,ne,X,Ee){var pe,_e,qe,Se=[];for(pe=0,_e=ne.length;pe<_e;pe++)(qe=F(W,ne[pe]*Ee,pe<_e-1?ne[pe+1]*Ee:W.length,Ee,!1))===qe.next&&(qe.steiner=!0),Se.push(pt(qe));for(Se.sort(ue),pe=0;pe<Se.length;pe++)X=xe(Se[pe],X);return X}(W,ne,pe,X)),W.length>80*X){He=qe=W[0],Ce=Q=W[1];for(var _t=X;_t<Se;_t+=X)(ye=W[_t])<He&&(He=ye),(Be=W[_t+1])<Ce&&(Ce=Be),ye>qe&&(qe=ye),Be>Q&&(Q=Be);Xe=0!==(Xe=Math.max(qe-He,Q-Ce))?32767/Xe:0}return w(pe,_e,X,He,Ce,Xe,0),_e}function F(W,ne,X,Ee,Se){var pe,_e;if(Se===qt(W,ne,X,Ee)>0)for(pe=ne;pe<X;pe+=Ee)_e=wt(pe,W[pe],W[pe+1],_e);else for(pe=X-Ee;pe>=ne;pe-=Ee)_e=wt(pe,W[pe],W[pe+1],_e);return _e&&at(_e,_e.next)&&(Pt(_e),_e=_e.next),_e}function D(W,ne){if(!W)return W;ne||(ne=W);var Ee,X=W;do{if(Ee=!1,X.steiner||!at(X,X.next)&&0!==bt(X.prev,X,X.next))X=X.next;else{if(Pt(X),(X=ne=X.prev)===X.next)break;Ee=!0}}while(Ee||X!==ne);return ne}function w(W,ne,X,Ee,Se,pe,_e){if(W){!_e&&pe&&function Ie(W,ne,X,Ee){var Se=W;do{0===Se.z&&(Se.z=$e(Se.x,Se.y,ne,X,Ee)),Se.prevZ=Se.prev,Se.nextZ=Se.next,Se=Se.next}while(Se!==W);Se.prevZ.nextZ=null,Se.prevZ=null,function ot(W){var ne,X,Ee,Se,pe,_e,He,Ce,qe=1;do{for(X=W,W=null,pe=null,_e=0;X;){for(_e++,Ee=X,He=0,ne=0;ne<qe&&(He++,Ee=Ee.nextZ);ne++);for(Ce=qe;He>0||Ce>0&&Ee;)0!==He&&(0===Ce||!Ee||X.z<=Ee.z)?(Se=X,X=X.nextZ,He--):(Se=Ee,Ee=Ee.nextZ,Ce--),pe?pe.nextZ=Se:W=Se,Se.prevZ=pe,pe=Se;X=Ee}pe.nextZ=null,qe*=2}while(_e>1)}(Se)}(W,Ee,Se,pe);for(var Ce,qe,He=W;W.prev!==W.next;)if(Ce=W.prev,qe=W.next,pe?le(W,Ee,Se,pe):ce(W))ne.push(Ce.i/X|0),ne.push(W.i/X|0),ne.push(qe.i/X|0),Pt(W),W=qe.next,He=qe.next;else if((W=qe)===He){_e?1===_e?w(W=se(D(W),ne,X),ne,X,Ee,Se,pe,2):2===_e&&ee(W,ne,X,Ee,Se,pe):w(D(W),ne,X,Ee,Se,pe,1);break}}}function ce(W){var ne=W.prev,X=W,Ee=W.next;if(bt(ne,X,Ee)>=0)return!1;for(var Se=ne.x,pe=X.x,_e=Ee.x,He=ne.y,Ce=X.y,qe=Ee.y,Q=Se<pe?Se<_e?Se:_e:pe<_e?pe:_e,ye=He<Ce?He<qe?He:qe:Ce<qe?Ce:qe,Be=Se>pe?Se>_e?Se:_e:pe>_e?pe:_e,Xe=He>Ce?He>qe?He:qe:Ce>qe?Ce:qe,_t=Ee.next;_t!==ne;){if(_t.x>=Q&&_t.x<=Be&&_t.y>=ye&&_t.y<=Xe&&Tt(Se,He,pe,Ce,_e,qe,_t.x,_t.y)&&bt(_t.prev,_t,_t.next)>=0)return!1;_t=_t.next}return!0}function le(W,ne,X,Ee){var Se=W.prev,pe=W,_e=W.next;if(bt(Se,pe,_e)>=0)return!1;for(var He=Se.x,Ce=pe.x,qe=_e.x,Q=Se.y,ye=pe.y,Be=_e.y,Xe=He<Ce?He<qe?He:qe:Ce<qe?Ce:qe,_t=Q<ye?Q<Be?Q:Be:ye<Be?ye:Be,Gt=He>Ce?He>qe?He:qe:Ce>qe?Ce:qe,Yt=Q>ye?Q>Be?Q:Be:ye>Be?ye:Be,dn=$e(Xe,_t,ne,X,Ee),_n=$e(Gt,Yt,ne,X,Ee),zt=W.prevZ,xt=W.nextZ;zt&&zt.z>=dn&&xt&&xt.z<=_n;){if(zt.x>=Xe&&zt.x<=Gt&&zt.y>=_t&&zt.y<=Yt&&zt!==Se&&zt!==_e&&Tt(He,Q,Ce,ye,qe,Be,zt.x,zt.y)&&bt(zt.prev,zt,zt.next)>=0||(zt=zt.prevZ,xt.x>=Xe&&xt.x<=Gt&&xt.y>=_t&&xt.y<=Yt&&xt!==Se&&xt!==_e&&Tt(He,Q,Ce,ye,qe,Be,xt.x,xt.y)&&bt(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;zt&&zt.z>=dn;){if(zt.x>=Xe&&zt.x<=Gt&&zt.y>=_t&&zt.y<=Yt&&zt!==Se&&zt!==_e&&Tt(He,Q,Ce,ye,qe,Be,zt.x,zt.y)&&bt(zt.prev,zt,zt.next)>=0)return!1;zt=zt.prevZ}for(;xt&&xt.z<=_n;){if(xt.x>=Xe&&xt.x<=Gt&&xt.y>=_t&&xt.y<=Yt&&xt!==Se&&xt!==_e&&Tt(He,Q,Ce,ye,qe,Be,xt.x,xt.y)&&bt(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function se(W,ne,X){var Ee=W;do{var Se=Ee.prev,pe=Ee.next.next;!at(Se,pe)&&Ct(Se,Ee,Ee.next,pe)&&ke(Se,pe)&&ke(pe,Se)&&(ne.push(Se.i/X|0),ne.push(Ee.i/X|0),ne.push(pe.i/X|0),Pt(Ee),Pt(Ee.next),Ee=W=pe),Ee=Ee.next}while(Ee!==W);return D(Ee)}function ee(W,ne,X,Ee,Se,pe){var _e=W;do{for(var He=_e.next.next;He!==_e.prev;){if(_e.i!==He.i&&Ze(_e,He)){var Ce=Te(_e,He);return _e=D(_e,_e.next),Ce=D(Ce,Ce.next),w(_e,ne,X,Ee,Se,pe,0),void w(Ce,ne,X,Ee,Se,pe,0)}He=He.next}_e=_e.next}while(_e!==W)}function ue(W,ne){return W.x-ne.x}function xe(W,ne){var X=function Pe(W,ne){var _e,X=ne,Ee=W.x,Se=W.y,pe=-1/0;do{if(Se<=X.y&&Se>=X.next.y&&X.next.y!==X.y){var He=X.x+(Se-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(He<=Ee&&He>pe&&(pe=He,_e=X.x<X.next.x?X:X.next,He===Ee))return _e}X=X.next}while(X!==ne);if(!_e)return null;var Be,Ce=_e,qe=_e.x,Q=_e.y,ye=1/0;X=_e;do{Ee>=X.x&&X.x>=qe&&Ee!==X.x&&Tt(Se<Q?Ee:pe,Se,qe,Q,Se<Q?pe:Ee,Se,X.x,X.y)&&(Be=Math.abs(Se-X.y)/(Ee-X.x),ke(X,W)&&(Be<ye||Be===ye&&(X.x>_e.x||X.x===_e.x&&Re(_e,X)))&&(_e=X,ye=Be)),X=X.next}while(X!==Ce);return _e}(W,ne);if(!X)return ne;var Ee=Te(X,W);return D(Ee,Ee.next),D(X,X.next)}function Re(W,ne){return bt(W.prev,W,ne.prev)<0&&bt(ne.next,W,W.next)<0}function $e(W,ne,X,Ee,Se){return(W=1431655765&((W=858993459&((W=252645135&((W=16711935&((W=(W-X)*Se|0)|W<<8))|W<<4))|W<<2))|W<<1))|(ne=1431655765&((ne=858993459&((ne=252645135&((ne=16711935&((ne=(ne-Ee)*Se|0)|ne<<8))|ne<<4))|ne<<2))|ne<<1))<<1}function pt(W){var ne=W,X=W;do{(ne.x<X.x||ne.x===X.x&&ne.y<X.y)&&(X=ne),ne=ne.next}while(ne!==W);return X}function Tt(W,ne,X,Ee,Se,pe,_e,He){return(Se-_e)*(ne-He)>=(W-_e)*(pe-He)&&(W-_e)*(Ee-He)>=(X-_e)*(ne-He)&&(X-_e)*(pe-He)>=(Se-_e)*(Ee-He)}function Ze(W,ne){return W.next.i!==ne.i&&W.prev.i!==ne.i&&!function ct(W,ne){var X=W;do{if(X.i!==W.i&&X.next.i!==W.i&&X.i!==ne.i&&X.next.i!==ne.i&&Ct(X,X.next,W,ne))return!0;X=X.next}while(X!==W);return!1}(W,ne)&&(ke(W,ne)&&ke(ne,W)&&function rt(W,ne){var X=W,Ee=!1,Se=(W.x+ne.x)/2,pe=(W.y+ne.y)/2;do{X.y>pe!=X.next.y>pe&&X.next.y!==X.y&&Se<(X.next.x-X.x)*(pe-X.y)/(X.next.y-X.y)+X.x&&(Ee=!Ee),X=X.next}while(X!==W);return Ee}(W,ne)&&(bt(W.prev,W,ne.prev)||bt(W,ne.prev,ne))||at(W,ne)&&bt(W.prev,W,W.next)>0&&bt(ne.prev,ne,ne.next)>0)}function bt(W,ne,X){return(ne.y-W.y)*(X.x-ne.x)-(ne.x-W.x)*(X.y-ne.y)}function at(W,ne){return W.x===ne.x&&W.y===ne.y}function Ct(W,ne,X,Ee){var Se=te(bt(W,ne,X)),pe=te(bt(W,ne,Ee)),_e=te(bt(X,Ee,W)),He=te(bt(X,Ee,ne));return!!(Se!==pe&&_e!==He||0===Se&&Ke(W,X,ne)||0===pe&&Ke(W,Ee,ne)||0===_e&&Ke(X,W,Ee)||0===He&&Ke(X,ne,Ee))}function Ke(W,ne,X){return ne.x<=Math.max(W.x,X.x)&&ne.x>=Math.min(W.x,X.x)&&ne.y<=Math.max(W.y,X.y)&&ne.y>=Math.min(W.y,X.y)}function te(W){return W>0?1:W<0?-1:0}function ke(W,ne){return bt(W.prev,W,W.next)<0?bt(W,ne,W.next)>=0&&bt(W,W.prev,ne)>=0:bt(W,ne,W.prev)<0||bt(W,W.next,ne)<0}function Te(W,ne){var X=new Ot(W.i,W.x,W.y),Ee=new Ot(ne.i,ne.x,ne.y),Se=W.next,pe=ne.prev;return W.next=ne,ne.prev=W,X.next=Se,Se.prev=X,Ee.next=X,X.prev=Ee,pe.next=Ee,Ee.prev=pe,Ee}function wt(W,ne,X,Ee){var Se=new Ot(W,ne,X);return Ee?(Se.next=Ee.next,Se.prev=Ee,Ee.next.prev=Se,Ee.next=Se):(Se.prev=Se,Se.next=Se),Se}function Pt(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function Ot(W,ne,X){this.i=W,this.x=ne,this.y=X,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qt(W,ne,X,Ee){for(var Se=0,pe=ne,_e=X-Ee;pe<X;pe+=Ee)Se+=(W[_e]-W[pe])*(W[pe+1]+W[_e+1]),_e=pe;return Se}At.exports=Ne,At.exports.default=Ne,Ne.deviation=function(W,ne,X,Ee){var Se=ne&&ne.length,_e=Math.abs(qt(W,0,Se?ne[0]*X:W.length,X));if(Se)for(var He=0,Ce=ne.length;He<Ce;He++)_e-=Math.abs(qt(W,ne[He]*X,He<Ce-1?ne[He+1]*X:W.length,X));var ye=0;for(He=0;He<Ee.length;He+=3){var Be=Ee[He]*X,Xe=Ee[He+1]*X,_t=Ee[He+2]*X;ye+=Math.abs((W[Be]-W[_t])*(W[Xe+1]-W[Be+1])-(W[Be]-W[Xe])*(W[_t+1]-W[Be+1]))}return 0===_e&&0===ye?0:Math.abs((ye-_e)/_e)},Ne.flatten=function(W){for(var ne=W[0][0].length,X={vertices:[],holes:[],dimensions:ne},Ee=0,Se=0;Se<W.length;Se++){for(var pe=0;pe<W[Se].length;pe++)for(var _e=0;_e<ne;_e++)X.vertices.push(W[Se][pe][_e]);Se>0&&X.holes.push(Ee+=W[Se-1].length)}return X}},2005:At=>{"use strict";var Ne=Object.prototype.hasOwnProperty,F="~";function D(){}function w(ee,ve,ue){this.fn=ee,this.context=ve,this.once=ue||!1}function ce(ee,ve,ue,xe,Pe){if("function"!=typeof ue)throw new TypeError("The listener must be a function");var Re=new w(ue,xe||ee,Pe),Ie=F?F+ve:ve;return ee._events[Ie]?ee._events[Ie].fn?ee._events[Ie]=[ee._events[Ie],Re]:ee._events[Ie].push(Re):(ee._events[Ie]=Re,ee._eventsCount++),ee}function le(ee,ve){0==--ee._eventsCount?ee._events=new D:delete ee._events[ve]}function se(){this._events=new D,this._eventsCount=0}Object.create&&(D.prototype=Object.create(null),(new D).__proto__||(F=!1)),se.prototype.eventNames=function(){var ue,xe,ve=[];if(0===this._eventsCount)return ve;for(xe in ue=this._events)Ne.call(ue,xe)&&ve.push(F?xe.slice(1):xe);return Object.getOwnPropertySymbols?ve.concat(Object.getOwnPropertySymbols(ue)):ve},se.prototype.listeners=function(ve){var xe=this._events[F?F+ve:ve];if(!xe)return[];if(xe.fn)return[xe.fn];for(var Pe=0,Re=xe.length,Ie=new Array(Re);Pe<Re;Pe++)Ie[Pe]=xe[Pe].fn;return Ie},se.prototype.listenerCount=function(ve){var xe=this._events[F?F+ve:ve];return xe?xe.fn?1:xe.length:0},se.prototype.emit=function(ve,ue,xe,Pe,Re,Ie){var ot=F?F+ve:ve;if(!this._events[ot])return!1;var Tt,Ze,$e=this._events[ot],pt=arguments.length;if($e.fn){switch($e.once&&this.removeListener(ve,$e.fn,void 0,!0),pt){case 1:return $e.fn.call($e.context),!0;case 2:return $e.fn.call($e.context,ue),!0;case 3:return $e.fn.call($e.context,ue,xe),!0;case 4:return $e.fn.call($e.context,ue,xe,Pe),!0;case 5:return $e.fn.call($e.context,ue,xe,Pe,Re),!0;case 6:return $e.fn.call($e.context,ue,xe,Pe,Re,Ie),!0}for(Ze=1,Tt=new Array(pt-1);Ze<pt;Ze++)Tt[Ze-1]=arguments[Ze];$e.fn.apply($e.context,Tt)}else{var at,bt=$e.length;for(Ze=0;Ze<bt;Ze++)switch($e[Ze].once&&this.removeListener(ve,$e[Ze].fn,void 0,!0),pt){case 1:$e[Ze].fn.call($e[Ze].context);break;case 2:$e[Ze].fn.call($e[Ze].context,ue);break;case 3:$e[Ze].fn.call($e[Ze].context,ue,xe);break;case 4:$e[Ze].fn.call($e[Ze].context,ue,xe,Pe);break;default:if(!Tt)for(at=1,Tt=new Array(pt-1);at<pt;at++)Tt[at-1]=arguments[at];$e[Ze].fn.apply($e[Ze].context,Tt)}}return!0},se.prototype.on=function(ve,ue,xe){return ce(this,ve,ue,xe,!1)},se.prototype.once=function(ve,ue,xe){return ce(this,ve,ue,xe,!0)},se.prototype.removeListener=function(ve,ue,xe,Pe){var Re=F?F+ve:ve;if(!this._events[Re])return this;if(!ue)return le(this,Re),this;var Ie=this._events[Re];if(Ie.fn)Ie.fn===ue&&(!Pe||Ie.once)&&(!xe||Ie.context===xe)&&le(this,Re);else{for(var ot=0,$e=[],pt=Ie.length;ot<pt;ot++)(Ie[ot].fn!==ue||Pe&&!Ie[ot].once||xe&&Ie[ot].context!==xe)&&$e.push(Ie[ot]);$e.length?this._events[Re]=1===$e.length?$e[0]:$e:le(this,Re)}return this},se.prototype.removeAllListeners=function(ve){var ue;return ve?this._events[ue=F?F+ve:ve]&&le(this,ue):(this._events=new D,this._eventsCount=0),this},se.prototype.off=se.prototype.removeListener,se.prototype.addListener=se.prototype.on,se.prefixed=F,se.EventEmitter=se,At.exports=se},516:At=>{"use strict";function Ne(F,D){return Object.prototype.hasOwnProperty.call(F,D)}At.exports=function(F,D,w,ce){w=w||"=";var le={};if("string"!=typeof F||0===F.length)return le;var se=/\+/g;F=F.split(D=D||"&");var ee=1e3;ce&&"number"==typeof ce.maxKeys&&(ee=ce.maxKeys);var ve=F.length;ee>0&&ve>ee&&(ve=ee);for(var ue=0;ue<ve;++ue){var Re,Ie,ot,$e,xe=F[ue].replace(se,"%20"),Pe=xe.indexOf(w);Pe>=0?(Re=xe.substr(0,Pe),Ie=xe.substr(Pe+1)):(Re=xe,Ie=""),ot=decodeURIComponent(Re),$e=decodeURIComponent(Ie),Ne(le,ot)?Array.isArray(le[ot])?le[ot].push($e):le[ot]=[le[ot],$e]:le[ot]=$e}return le}},5776:At=>{"use strict";var Ne=function(F){switch(typeof F){case"string":return F;case"boolean":return F?"true":"false";case"number":return isFinite(F)?F:"";default:return""}};At.exports=function(F,D,w,ce){return D=D||"&",w=w||"=",null===F&&(F=void 0),"object"==typeof F?Object.keys(F).map(function(le){var se=encodeURIComponent(Ne(le))+w;return Array.isArray(F[le])?F[le].map(function(ee){return se+encodeURIComponent(Ne(ee))}).join(D):se+encodeURIComponent(Ne(F[le]))}).join(D):ce?encodeURIComponent(Ne(ce))+w+encodeURIComponent(Ne(F)):""}},7137:(At,Ne,F)=>{"use strict";Ne.decode=Ne.parse=F(516),Ne.encode=Ne.stringify=F(5776)},1135:(At,Ne,F)=>{"use strict";F.d(Ne,{X:()=>w});var D=F(7579);class w extends D.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const se=super._subscribe(le);return!se.closed&&le.next(this._value),se}getValue(){const{hasError:le,thrownError:se,_value:ee}=this;if(le)throw se;return this._throwIfClosed(),ee}next(le){super.next(this._value=le)}}},9751:(At,Ne,F)=>{"use strict";F.d(Ne,{y:()=>ue});var D=F(930),w=F(727),ce=F(8822),le=F(9635),se=F(2416),ee=F(576),ve=F(2806);let ue=(()=>{class Ie{constructor($e){$e&&(this._subscribe=$e)}lift($e){const pt=new Ie;return pt.source=this,pt.operator=$e,pt}subscribe($e,pt,Tt){const Ze=function Re(Ie){return Ie&&Ie instanceof D.Lv||function Pe(Ie){return Ie&&(0,ee.m)(Ie.next)&&(0,ee.m)(Ie.error)&&(0,ee.m)(Ie.complete)}(Ie)&&(0,w.Nn)(Ie)}($e)?$e:new D.Hp($e,pt,Tt);return(0,ve.x)(()=>{const{operator:bt,source:at}=this;Ze.add(bt?bt.call(Ze,at):at?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe($e){try{return this._subscribe($e)}catch(pt){$e.error(pt)}}forEach($e,pt){return new(pt=xe(pt))((Tt,Ze)=>{const bt=new D.Hp({next:at=>{try{$e(at)}catch(Ct){Ze(Ct),bt.unsubscribe()}},error:Ze,complete:Tt});this.subscribe(bt)})}_subscribe($e){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe($e)}[ce.L](){return this}pipe(...$e){return(0,le.U)($e)(this)}toPromise($e){return new($e=xe($e))((pt,Tt)=>{let Ze;this.subscribe(bt=>Ze=bt,bt=>Tt(bt),()=>pt(Ze))})}}return Ie.create=ot=>new Ie(ot),Ie})();function xe(Ie){var ot;return null!==(ot=Ie??se.v.Promise)&&void 0!==ot?ot:Promise}},7579:(At,Ne,F)=>{"use strict";F.d(Ne,{x:()=>ve});var D=F(9751),w=F(727);const le=(0,F(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),ee=F(2806);let ve=(()=>{class xe extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Re){const Ie=new ue(this,this);return Ie.operator=Re,Ie}_throwIfClosed(){if(this.closed)throw new le}next(Re){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ie of this.currentObservers)Ie.next(Re)}})}error(Re){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Re;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().error(Re)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Re}=this;for(;Re.length;)Re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Re;return(null===(Re=this.observers)||void 0===Re?void 0:Re.length)>0}_trySubscribe(Re){return this._throwIfClosed(),super._trySubscribe(Re)}_subscribe(Re){return this._throwIfClosed(),this._checkFinalizedStatuses(Re),this._innerSubscribe(Re)}_innerSubscribe(Re){const{hasError:Ie,isStopped:ot,observers:$e}=this;return Ie||ot?w.Lc:(this.currentObservers=null,$e.push(Re),new w.w0(()=>{this.currentObservers=null,(0,se.P)($e,Re)}))}_checkFinalizedStatuses(Re){const{hasError:Ie,thrownError:ot,isStopped:$e}=this;Ie?Re.error(ot):$e&&Re.complete()}asObservable(){const Re=new D.y;return Re.source=this,Re}}return xe.create=(Pe,Re)=>new ue(Pe,Re),xe})();class ue extends ve{constructor(Pe,Re){super(),this.destination=Pe,this.source=Re}next(Pe){var Re,Ie;null===(Ie=null===(Re=this.destination)||void 0===Re?void 0:Re.next)||void 0===Ie||Ie.call(Re,Pe)}error(Pe){var Re,Ie;null===(Ie=null===(Re=this.destination)||void 0===Re?void 0:Re.error)||void 0===Ie||Ie.call(Re,Pe)}complete(){var Pe,Re;null===(Re=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===Re||Re.call(Pe)}_subscribe(Pe){var Re,Ie;return null!==(Ie=null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(Pe))&&void 0!==Ie?Ie:w.Lc}}},930:(At,Ne,F)=>{"use strict";F.d(Ne,{Hp:()=>Tt,Lv:()=>Ie});var D=F(576),w=F(727),ce=F(2416),le=F(7849),se=F(5032);const ee=xe("C",void 0,void 0);function xe(Ke,te,ct){return{kind:Ke,value:te,error:ct}}var Pe=F(3410),Re=F(2806);class Ie extends w.w0{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,w.Nn)(te)&&te.add(this)):this.destination=Ct}static create(te,ct,ke){return new Tt(te,ct,ke)}next(te){this.isStopped?at(function ue(Ke){return xe("N",Ke,void 0)}(te),this):this._next(te)}error(te){this.isStopped?at(function ve(Ke){return xe("E",void 0,Ke)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?at(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function $e(Ke,te){return ot.call(Ke,te)}class pt{constructor(te){this.partialObserver=te}next(te){const{partialObserver:ct}=this;if(ct.next)try{ct.next(te)}catch(ke){Ze(ke)}}error(te){const{partialObserver:ct}=this;if(ct.error)try{ct.error(te)}catch(ke){Ze(ke)}else Ze(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(ct){Ze(ct)}}}class Tt extends Ie{constructor(te,ct,ke){let rt;if(super(),(0,D.m)(te)||!te)rt={next:te??void 0,error:ct??void 0,complete:ke??void 0};else{let Te;this&&ce.v.useDeprecatedNextContext?(Te=Object.create(te),Te.unsubscribe=()=>this.unsubscribe(),rt={next:te.next&&$e(te.next,Te),error:te.error&&$e(te.error,Te),complete:te.complete&&$e(te.complete,Te)}):rt=te}this.destination=new pt(rt)}}function Ze(Ke){ce.v.useDeprecatedSynchronousErrorHandling?(0,Re.O)(Ke):(0,le.h)(Ke)}function at(Ke,te){const{onStoppedNotification:ct}=ce.v;ct&&Pe.z.setTimeout(()=>ct(Ke,te))}const Ct={closed:!0,next:se.Z,error:function bt(Ke){throw Ke},complete:se.Z}},727:(At,Ne,F)=>{"use strict";F.d(Ne,{Lc:()=>ee,w0:()=>se,Nn:()=>ve});var D=F(576);const ce=(0,F(3888).d)(xe=>function(Re){xe(this),this.message=Re?`${Re.length} errors occurred during unsubscription:\n${Re.map((Ie,ot)=>`${ot+1}) ${Ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Re});var le=F(8737);class se{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:Re}=this;if(Re)if(this._parentage=null,Array.isArray(Re))for(const $e of Re)$e.remove(this);else Re.remove(this);const{initialTeardown:Ie}=this;if((0,D.m)(Ie))try{Ie()}catch($e){Pe=$e instanceof ce?$e.errors:[$e]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const $e of ot)try{ue($e)}catch(pt){Pe=Pe??[],pt instanceof ce?Pe=[...Pe,...pt.errors]:Pe.push(pt)}}if(Pe)throw new ce(Pe)}}add(Pe){var Re;if(Pe&&Pe!==this)if(this.closed)ue(Pe);else{if(Pe instanceof se){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(Re=this._finalizers)&&void 0!==Re?Re:[]).push(Pe)}}_hasParent(Pe){const{_parentage:Re}=this;return Re===Pe||Array.isArray(Re)&&Re.includes(Pe)}_addParent(Pe){const{_parentage:Re}=this;this._parentage=Array.isArray(Re)?(Re.push(Pe),Re):Re?[Re,Pe]:Pe}_removeParent(Pe){const{_parentage:Re}=this;Re===Pe?this._parentage=null:Array.isArray(Re)&&(0,le.P)(Re,Pe)}remove(Pe){const{_finalizers:Re}=this;Re&&(0,le.P)(Re,Pe),Pe instanceof se&&Pe._removeParent(this)}}se.EMPTY=(()=>{const xe=new se;return xe.closed=!0,xe})();const ee=se.EMPTY;function ve(xe){return xe instanceof se||xe&&"closed"in xe&&(0,D.m)(xe.remove)&&(0,D.m)(xe.add)&&(0,D.m)(xe.unsubscribe)}function ue(xe){(0,D.m)(xe)?xe():xe.unsubscribe()}},2416:(At,Ne,F)=>{"use strict";F.d(Ne,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(At,Ne,F)=>{"use strict";F.d(Ne,{a:()=>Pe});var D=F(9751),w=F(4742),ce=F(2076),le=F(4671),se=F(3268),ee=F(3269),ve=F(1810),ue=F(5403),xe=F(9672);function Pe(...ot){const $e=(0,ee.yG)(ot),pt=(0,ee.jO)(ot),{args:Tt,keys:Ze}=(0,w.D)(ot);if(0===Tt.length)return(0,ce.D)([],$e);const bt=new D.y(function Re(ot,$e,pt=le.y){return Tt=>{Ie($e,()=>{const{length:Ze}=ot,bt=new Array(Ze);let at=Ze,Ct=Ze;for(let Ke=0;Ke<Ze;Ke++)Ie($e,()=>{const te=(0,ce.D)(ot[Ke],$e);let ct=!1;te.subscribe((0,ue.x)(Tt,ke=>{bt[Ke]=ke,ct||(ct=!0,Ct--),Ct||Tt.next(pt(bt.slice()))},()=>{--at||Tt.complete()}))},Tt)},Tt)}}(Tt,$e,Ze?at=>(0,ve.n)(Ze,at):le.y));return pt?bt.pipe((0,se.Z)(pt)):bt}function Ie(ot,$e,pt){ot?(0,xe.f)(pt,ot,$e):$e()}},7272:(At,Ne,F)=>{"use strict";F.d(Ne,{z:()=>se});var D=F(8189),ce=F(3269),le=F(2076);function se(...ee){return function w(){return(0,D.J)(1)}()((0,le.D)(ee,(0,ce.yG)(ee)))}},9770:(At,Ne,F)=>{"use strict";F.d(Ne,{P:()=>ce});var D=F(9751),w=F(8421);function ce(le){return new D.y(se=>{(0,w.Xf)(le()).subscribe(se)})}},515:(At,Ne,F)=>{"use strict";F.d(Ne,{E:()=>w});const w=new(F(9751).y)(se=>se.complete())},4128:(At,Ne,F)=>{"use strict";F.d(Ne,{D:()=>ue});var D=F(9751),w=F(4742),ce=F(8421),le=F(3269),se=F(5403),ee=F(3268),ve=F(1810);function ue(...xe){const Pe=(0,le.jO)(xe),{args:Re,keys:Ie}=(0,w.D)(xe),ot=new D.y($e=>{const{length:pt}=Re;if(!pt)return void $e.complete();const Tt=new Array(pt);let Ze=pt,bt=pt;for(let at=0;at<pt;at++){let Ct=!1;(0,ce.Xf)(Re[at]).subscribe((0,se.x)($e,Ke=>{Ct||(Ct=!0,bt--),Tt[at]=Ke},()=>Ze--,void 0,()=>{(!Ze||!Ct)&&(bt||$e.next(Ie?(0,ve.n)(Ie,Tt):Tt),$e.complete())}))}});return Pe?ot.pipe((0,ee.Z)(Pe)):ot}},2076:(At,Ne,F)=>{"use strict";F.d(Ne,{D:()=>ke});var D=F(8421),w=F(9672),ce=F(4482),le=F(5403);function se(rt,Te=0){return(0,ce.e)((wt,Pt)=>{wt.subscribe((0,le.x)(Pt,Ot=>(0,w.f)(Pt,rt,()=>Pt.next(Ot),Te),()=>(0,w.f)(Pt,rt,()=>Pt.complete(),Te),Ot=>(0,w.f)(Pt,rt,()=>Pt.error(Ot),Te)))})}function ee(rt,Te=0){return(0,ce.e)((wt,Pt)=>{Pt.add(rt.schedule(()=>wt.subscribe(Pt),Te))})}var xe=F(9751),Re=F(2202),Ie=F(576);function $e(rt,Te){if(!rt)throw new Error("Iterable cannot be null");return new xe.y(wt=>{(0,w.f)(wt,Te,()=>{const Pt=rt[Symbol.asyncIterator]();(0,w.f)(wt,Te,()=>{Pt.next().then(Ot=>{Ot.done?wt.complete():wt.next(Ot.value)})},0,!0)})})}var pt=F(3670),Tt=F(8239),Ze=F(1144),bt=F(6495),at=F(2206),Ct=F(4532),Ke=F(3260);function ke(rt,Te){return Te?function ct(rt,Te){if(null!=rt){if((0,pt.c)(rt))return function ve(rt,Te){return(0,D.Xf)(rt).pipe(ee(Te),se(Te))}(rt,Te);if((0,Ze.z)(rt))return function Pe(rt,Te){return new xe.y(wt=>{let Pt=0;return Te.schedule(function(){Pt===rt.length?wt.complete():(wt.next(rt[Pt++]),wt.closed||this.schedule())})})}(rt,Te);if((0,Tt.t)(rt))return function ue(rt,Te){return(0,D.Xf)(rt).pipe(ee(Te),se(Te))}(rt,Te);if((0,at.D)(rt))return $e(rt,Te);if((0,bt.T)(rt))return function ot(rt,Te){return new xe.y(wt=>{let Pt;return(0,w.f)(wt,Te,()=>{Pt=rt[Re.h](),(0,w.f)(wt,Te,()=>{let Ot,qt;try{({value:Ot,done:qt}=Pt.next())}catch(W){return void wt.error(W)}qt?wt.complete():wt.next(Ot)},0,!0)}),()=>(0,Ie.m)(Pt?.return)&&Pt.return()})}(rt,Te);if((0,Ke.L)(rt))return function te(rt,Te){return $e((0,Ke.Q)(rt),Te)}(rt,Te)}throw(0,Ct.z)(rt)}(rt,Te):(0,D.Xf)(rt)}},8421:(At,Ne,F)=>{"use strict";F.d(Ne,{Xf:()=>ot});var D=F(655),w=F(1144),ce=F(8239),le=F(9751),se=F(3670),ee=F(2206),ve=F(4532),ue=F(6495),xe=F(3260),Pe=F(576),Re=F(7849),Ie=F(8822);function ot(Ke){if(Ke instanceof le.y)return Ke;if(null!=Ke){if((0,se.c)(Ke))return function $e(Ke){return new le.y(te=>{const ct=Ke[Ie.L]();if((0,Pe.m)(ct.subscribe))return ct.subscribe(te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,w.z)(Ke))return function pt(Ke){return new le.y(te=>{for(let ct=0;ct<Ke.length&&!te.closed;ct++)te.next(Ke[ct]);te.complete()})}(Ke);if((0,ce.t)(Ke))return function Tt(Ke){return new le.y(te=>{Ke.then(ct=>{te.closed||(te.next(ct),te.complete())},ct=>te.error(ct)).then(null,Re.h)})}(Ke);if((0,ee.D)(Ke))return bt(Ke);if((0,ue.T)(Ke))return function Ze(Ke){return new le.y(te=>{for(const ct of Ke)if(te.next(ct),te.closed)return;te.complete()})}(Ke);if((0,xe.L)(Ke))return function at(Ke){return bt((0,xe.Q)(Ke))}(Ke)}throw(0,ve.z)(Ke)}function bt(Ke){return new le.y(te=>{(function Ct(Ke,te){var ct,ke,rt,Te;return(0,D.mG)(this,void 0,void 0,function*(){try{for(ct=(0,D.KL)(Ke);!(ke=yield ct.next()).done;)if(te.next(ke.value),te.closed)return}catch(wt){rt={error:wt}}finally{try{ke&&!ke.done&&(Te=ct.return)&&(yield Te.call(ct))}finally{if(rt)throw rt.error}}te.complete()})})(Ke,te).catch(ct=>te.error(ct))})}},6451:(At,Ne,F)=>{"use strict";F.d(Ne,{T:()=>ee});var D=F(8189),w=F(8421),ce=F(515),le=F(3269),se=F(2076);function ee(...ve){const ue=(0,le.yG)(ve),xe=(0,le._6)(ve,1/0),Pe=ve;return Pe.length?1===Pe.length?(0,w.Xf)(Pe[0]):(0,D.J)(xe)((0,se.D)(Pe,ue)):ce.E}},9646:(At,Ne,F)=>{"use strict";F.d(Ne,{of:()=>ce});var D=F(3269),w=F(2076);function ce(...le){const se=(0,D.yG)(le);return(0,w.D)(le,se)}},2843:(At,Ne,F)=>{"use strict";F.d(Ne,{_:()=>ce});var D=F(9751),w=F(576);function ce(le,se){const ee=(0,w.m)(le)?le:()=>le,ve=ue=>ue.error(ee());return new D.y(se?ue=>se.schedule(ve,0,ue):ve)}},5403:(At,Ne,F)=>{"use strict";F.d(Ne,{x:()=>w});var D=F(930);function w(le,se,ee,ve,ue){return new ce(le,se,ee,ve,ue)}class ce extends D.Lv{constructor(se,ee,ve,ue,xe,Pe){super(se),this.onFinalize=xe,this.shouldUnsubscribe=Pe,this._next=ee?function(Re){try{ee(Re)}catch(Ie){se.error(Ie)}}:super._next,this._error=ue?function(Re){try{ue(Re)}catch(Ie){se.error(Ie)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(Re){se.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},262:(At,Ne,F)=>{"use strict";F.d(Ne,{K:()=>le});var D=F(8421),w=F(5403),ce=F(4482);function le(se){return(0,ce.e)((ee,ve)=>{let Pe,ue=null,xe=!1;ue=ee.subscribe((0,w.x)(ve,void 0,void 0,Re=>{Pe=(0,D.Xf)(se(Re,le(se)(ee))),ue?(ue.unsubscribe(),ue=null,Pe.subscribe(ve)):xe=!0})),xe&&(ue.unsubscribe(),ue=null,Pe.subscribe(ve))})}},4351:(At,Ne,F)=>{"use strict";F.d(Ne,{b:()=>ce});var D=F(5577),w=F(576);function ce(le,se){return(0,w.m)(se)?(0,D.z)(le,se,1):(0,D.z)(le,1)}},9300:(At,Ne,F)=>{"use strict";F.d(Ne,{h:()=>ce});var D=F(4482),w=F(5403);function ce(le,se){return(0,D.e)((ee,ve)=>{let ue=0;ee.subscribe((0,w.x)(ve,xe=>le.call(se,xe,ue++)&&ve.next(xe)))})}},8746:(At,Ne,F)=>{"use strict";F.d(Ne,{x:()=>w});var D=F(4482);function w(ce){return(0,D.e)((le,se)=>{try{le.subscribe(se)}finally{se.add(ce)}})}},4004:(At,Ne,F)=>{"use strict";F.d(Ne,{U:()=>ce});var D=F(4482),w=F(5403);function ce(le,se){return(0,D.e)((ee,ve)=>{let ue=0;ee.subscribe((0,w.x)(ve,xe=>{ve.next(le.call(se,xe,ue++))}))})}},8189:(At,Ne,F)=>{"use strict";F.d(Ne,{J:()=>ce});var D=F(5577),w=F(4671);function ce(le=1/0){return(0,D.z)(w.y,le)}},5577:(At,Ne,F)=>{"use strict";F.d(Ne,{z:()=>ue});var D=F(4004),w=F(8421),ce=F(4482),le=F(9672),se=F(5403),ve=F(576);function ue(xe,Pe,Re=1/0){return(0,ve.m)(Pe)?ue((Ie,ot)=>(0,D.U)(($e,pt)=>Pe(Ie,$e,ot,pt))((0,w.Xf)(xe(Ie,ot))),Re):("number"==typeof Pe&&(Re=Pe),(0,ce.e)((Ie,ot)=>function ee(xe,Pe,Re,Ie,ot,$e,pt,Tt){const Ze=[];let bt=0,at=0,Ct=!1;const Ke=()=>{Ct&&!Ze.length&&!bt&&Pe.complete()},te=ke=>bt<Ie?ct(ke):Ze.push(ke),ct=ke=>{$e&&Pe.next(ke),bt++;let rt=!1;(0,w.Xf)(Re(ke,at++)).subscribe((0,se.x)(Pe,Te=>{ot?.(Te),$e?te(Te):Pe.next(Te)},()=>{rt=!0},void 0,()=>{if(rt)try{for(bt--;Ze.length&&bt<Ie;){const Te=Ze.shift();pt?(0,le.f)(Pe,pt,()=>ct(Te)):ct(Te)}Ke()}catch(Te){Pe.error(Te)}}))};return xe.subscribe((0,se.x)(Pe,te,()=>{Ct=!0,Ke()})),()=>{Tt?.()}}(Ie,ot,xe,Re)))}},3099:(At,Ne,F)=>{"use strict";F.d(Ne,{B:()=>se});var D=F(8421),w=F(7579),ce=F(930),le=F(4482);function se(ve={}){const{connector:ue=(()=>new w.x),resetOnError:xe=!0,resetOnComplete:Pe=!0,resetOnRefCountZero:Re=!0}=ve;return Ie=>{let ot,$e,pt,Tt=0,Ze=!1,bt=!1;const at=()=>{$e?.unsubscribe(),$e=void 0},Ct=()=>{at(),ot=pt=void 0,Ze=bt=!1},Ke=()=>{const te=ot;Ct(),te?.unsubscribe()};return(0,le.e)((te,ct)=>{Tt++,!bt&&!Ze&&at();const ke=pt=pt??ue();ct.add(()=>{Tt--,0===Tt&&!bt&&!Ze&&($e=ee(Ke,Re))}),ke.subscribe(ct),!ot&&Tt>0&&(ot=new ce.Hp({next:rt=>ke.next(rt),error:rt=>{bt=!0,at(),$e=ee(Ct,xe,rt),ke.error(rt)},complete:()=>{Ze=!0,at(),$e=ee(Ct,Pe),ke.complete()}}),(0,D.Xf)(te).subscribe(ot))})(Ie)}}function ee(ve,ue,...xe){if(!0===ue)return void ve();if(!1===ue)return;const Pe=new ce.Hp({next:()=>{Pe.unsubscribe(),ve()}});return(0,D.Xf)(ue(...xe)).subscribe(Pe)}},8675:(At,Ne,F)=>{"use strict";F.d(Ne,{O:()=>le});var D=F(7272),w=F(3269),ce=F(4482);function le(...se){const ee=(0,w.yG)(se);return(0,ce.e)((ve,ue)=>{(ee?(0,D.z)(se,ve,ee):(0,D.z)(se,ve)).subscribe(ue)})}},3900:(At,Ne,F)=>{"use strict";F.d(Ne,{w:()=>le});var D=F(8421),w=F(4482),ce=F(5403);function le(se,ee){return(0,w.e)((ve,ue)=>{let xe=null,Pe=0,Re=!1;const Ie=()=>Re&&!xe&&ue.complete();ve.subscribe((0,ce.x)(ue,ot=>{xe?.unsubscribe();let $e=0;const pt=Pe++;(0,D.Xf)(se(ot,pt)).subscribe(xe=(0,ce.x)(ue,Tt=>ue.next(ee?ee(ot,Tt,pt,$e++):Tt),()=>{xe=null,Ie()}))},()=>{Re=!0,Ie()}))})}},5698:(At,Ne,F)=>{"use strict";F.d(Ne,{q:()=>le});var D=F(515),w=F(4482),ce=F(5403);function le(se){return se<=0?()=>D.E:(0,w.e)((ee,ve)=>{let ue=0;ee.subscribe((0,ce.x)(ve,xe=>{++ue<=se&&(ve.next(xe),se<=ue&&ve.complete())}))})}},2722:(At,Ne,F)=>{"use strict";F.d(Ne,{R:()=>se});var D=F(4482),w=F(5403),ce=F(8421),le=F(5032);function se(ee){return(0,D.e)((ve,ue)=>{(0,ce.Xf)(ee).subscribe((0,w.x)(ue,()=>ue.complete(),le.Z)),!ue.closed&&ve.subscribe(ue)})}},8505:(At,Ne,F)=>{"use strict";F.d(Ne,{b:()=>se});var D=F(576),w=F(4482),ce=F(5403),le=F(4671);function se(ee,ve,ue){const xe=(0,D.m)(ee)||ve||ue?{next:ee,error:ve,complete:ue}:ee;return xe?(0,w.e)((Pe,Re)=>{var Ie;null===(Ie=xe.subscribe)||void 0===Ie||Ie.call(xe);let ot=!0;Pe.subscribe((0,ce.x)(Re,$e=>{var pt;null===(pt=xe.next)||void 0===pt||pt.call(xe,$e),Re.next($e)},()=>{var $e;ot=!1,null===($e=xe.complete)||void 0===$e||$e.call(xe),Re.complete()},$e=>{var pt;ot=!1,null===(pt=xe.error)||void 0===pt||pt.call(xe,$e),Re.error($e)},()=>{var $e,pt;ot&&(null===($e=xe.unsubscribe)||void 0===$e||$e.call(xe)),null===(pt=xe.finalize)||void 0===pt||pt.call(xe)}))}):le.y}},4408:(At,Ne,F)=>{"use strict";F.d(Ne,{o:()=>se});var D=F(727);class w extends D.w0{constructor(ve,ue){super()}schedule(ve,ue=0){return this}}const ce={setInterval(ee,ve,...ue){const{delegate:xe}=ce;return xe?.setInterval?xe.setInterval(ee,ve,...ue):setInterval(ee,ve,...ue)},clearInterval(ee){const{delegate:ve}=ce;return(ve?.clearInterval||clearInterval)(ee)},delegate:void 0};var le=F(8737);class se extends w{constructor(ve,ue){super(ve,ue),this.scheduler=ve,this.work=ue,this.pending=!1}schedule(ve,ue=0){var xe;if(this.closed)return this;this.state=ve;const Pe=this.id,Re=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(Re,Pe,ue)),this.pending=!0,this.delay=ue,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(Re,this.id,ue),this}requestAsyncId(ve,ue,xe=0){return ce.setInterval(ve.flush.bind(ve,this),xe)}recycleAsyncId(ve,ue,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return ue;null!=ue&&ce.clearInterval(ue)}execute(ve,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(ve,ue);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,ue){let Pe,xe=!1;try{this.work(ve)}catch(Re){xe=!0,Pe=Re||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:ve,scheduler:ue}=this,{actions:xe}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(xe,this),null!=ve&&(this.id=this.recycleAsyncId(ue,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(At,Ne,F)=>{"use strict";F.d(Ne,{v:()=>ce});var D=F(6063);class w{constructor(se,ee=w.now){this.schedulerActionCtor=se,this.now=ee}schedule(se,ee=0,ve){return new this.schedulerActionCtor(this,se).schedule(ve,ee)}}w.now=D.l.now;class ce extends w{constructor(se,ee=w.now){super(se,ee),this.actions=[],this._active=!1}flush(se){const{actions:ee}=this;if(this._active)return void ee.push(se);let ve;this._active=!0;do{if(ve=se.execute(se.state,se.delay))break}while(se=ee.shift());if(this._active=!1,ve){for(;se=ee.shift();)se.unsubscribe();throw ve}}}},4986:(At,Ne,F)=>{"use strict";F.d(Ne,{P:()=>le,z:()=>ce});var D=F(4408);const ce=new(F(7565).v)(D.o),le=ce},6063:(At,Ne,F)=>{"use strict";F.d(Ne,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(At,Ne,F)=>{"use strict";F.d(Ne,{z:()=>D});const D={setTimeout(w,ce,...le){const{delegate:se}=D;return se?.setTimeout?se.setTimeout(w,ce,...le):setTimeout(w,ce,...le)},clearTimeout(w){const{delegate:ce}=D;return(ce?.clearTimeout||clearTimeout)(w)},delegate:void 0}},2202:(At,Ne,F)=>{"use strict";F.d(Ne,{h:()=>w});const w=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,Ne,F)=>{"use strict";F.d(Ne,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,Ne,F)=>{"use strict";F.d(Ne,{_6:()=>ee,jO:()=>le,yG:()=>se});var D=F(576),w=F(3532);function ce(ve){return ve[ve.length-1]}function le(ve){return(0,D.m)(ce(ve))?ve.pop():void 0}function se(ve){return(0,w.K)(ce(ve))?ve.pop():void 0}function ee(ve,ue){return"number"==typeof ce(ve)?ve.pop():ue}},4742:(At,Ne,F)=>{"use strict";F.d(Ne,{D:()=>se});const{isArray:D}=Array,{getPrototypeOf:w,prototype:ce,keys:le}=Object;function se(ve){if(1===ve.length){const ue=ve[0];if(D(ue))return{args:ue,keys:null};if(function ee(ve){return ve&&"object"==typeof ve&&w(ve)===ce}(ue)){const xe=le(ue);return{args:xe.map(Pe=>ue[Pe]),keys:xe}}}return{args:ve,keys:null}}},8737:(At,Ne,F)=>{"use strict";function D(w,ce){if(w){const le=w.indexOf(ce);0<=le&&w.splice(le,1)}}F.d(Ne,{P:()=>D})},3888:(At,Ne,F)=>{"use strict";function D(w){const le=w(se=>{Error.call(se),se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ne,{d:()=>D})},1810:(At,Ne,F)=>{"use strict";function D(w,ce){return w.reduce((le,se,ee)=>(le[se]=ce[ee],le),{})}F.d(Ne,{n:()=>D})},2806:(At,Ne,F)=>{"use strict";F.d(Ne,{O:()=>le,x:()=>ce});var D=F(2416);let w=null;function ce(se){if(D.v.useDeprecatedSynchronousErrorHandling){const ee=!w;if(ee&&(w={errorThrown:!1,error:null}),se(),ee){const{errorThrown:ve,error:ue}=w;if(w=null,ve)throw ue}}else se()}function le(se){D.v.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=se)}},9672:(At,Ne,F)=>{"use strict";function D(w,ce,le,se=0,ee=!1){const ve=ce.schedule(function(){le(),ee?w.add(this.schedule(null,se)):this.unsubscribe()},se);if(w.add(ve),!ee)return ve}F.d(Ne,{f:()=>D})},4671:(At,Ne,F)=>{"use strict";function D(w){return w}F.d(Ne,{y:()=>D})},1144:(At,Ne,F)=>{"use strict";F.d(Ne,{z:()=>D});const D=w=>w&&"number"==typeof w.length&&"function"!=typeof w},2206:(At,Ne,F)=>{"use strict";F.d(Ne,{D:()=>w});var D=F(576);function w(ce){return Symbol.asyncIterator&&(0,D.m)(ce?.[Symbol.asyncIterator])}},576:(At,Ne,F)=>{"use strict";function D(w){return"function"==typeof w}F.d(Ne,{m:()=>D})},3670:(At,Ne,F)=>{"use strict";F.d(Ne,{c:()=>ce});var D=F(8822),w=F(576);function ce(le){return(0,w.m)(le[D.L])}},6495:(At,Ne,F)=>{"use strict";F.d(Ne,{T:()=>ce});var D=F(2202),w=F(576);function ce(le){return(0,w.m)(le?.[D.h])}},8239:(At,Ne,F)=>{"use strict";F.d(Ne,{t:()=>w});var D=F(576);function w(ce){return(0,D.m)(ce?.then)}},3260:(At,Ne,F)=>{"use strict";F.d(Ne,{L:()=>le,Q:()=>ce});var D=F(655),w=F(576);function ce(se){return(0,D.FC)(this,arguments,function*(){const ve=se.getReader();try{for(;;){const{value:ue,done:xe}=yield(0,D.qq)(ve.read());if(xe)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(ue)}}finally{ve.releaseLock()}})}function le(se){return(0,w.m)(se?.getReader)}},3532:(At,Ne,F)=>{"use strict";F.d(Ne,{K:()=>w});var D=F(576);function w(ce){return ce&&(0,D.m)(ce.schedule)}},4482:(At,Ne,F)=>{"use strict";F.d(Ne,{A:()=>w,e:()=>ce});var D=F(576);function w(le){return(0,D.m)(le?.lift)}function ce(le){return se=>{if(w(se))return se.lift(function(ee){try{return le(ee,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(At,Ne,F)=>{"use strict";F.d(Ne,{Z:()=>le});var D=F(4004);const{isArray:w}=Array;function le(se){return(0,D.U)(ee=>function ce(se,ee){return w(ee)?se(...ee):se(ee)}(se,ee))}},5032:(At,Ne,F)=>{"use strict";function D(){}F.d(Ne,{Z:()=>D})},9635:(At,Ne,F)=>{"use strict";F.d(Ne,{U:()=>ce,z:()=>w});var D=F(4671);function w(...le){return ce(le)}function ce(le){return 0===le.length?D.y:1===le.length?le[0]:function(ee){return le.reduce((ve,ue)=>ue(ve),ee)}}},7849:(At,Ne,F)=>{"use strict";F.d(Ne,{h:()=>ce});var D=F(2416),w=F(3410);function ce(le){w.z.setTimeout(()=>{const{onUnhandledError:se}=D.v;if(!se)throw le;se(le)})}},4532:(At,Ne,F)=>{"use strict";function D(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ne,{z:()=>D})},1308:function(At,Ne,F){var D;At=F.nmd(At),function(w){"object"==typeof global&&global;var ee,ve=2147483647,Tt=/^xn--/,Ze=/[^\x20-\x7E]/,bt=/[\x2E\u3002\uFF0E\uFF61]/g,at={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ke=Math.floor,te=String.fromCharCode;function ke(pe){throw RangeError(at[pe])}function rt(pe,_e){for(var He=pe.length,Ce=[];He--;)Ce[He]=_e(pe[He]);return Ce}function Te(pe,_e){var He=pe.split("@"),Ce="";return He.length>1&&(Ce=He[0]+"@",pe=He[1]),Ce+rt((pe=pe.replace(bt,".")).split("."),_e).join(".")}function wt(pe){for(var qe,Q,_e=[],He=0,Ce=pe.length;He<Ce;)(qe=pe.charCodeAt(He++))>=55296&&qe<=56319&&He<Ce?56320==(64512&(Q=pe.charCodeAt(He++)))?_e.push(((1023&qe)<<10)+(1023&Q)+65536):(_e.push(qe),He--):_e.push(qe);return _e}function Pt(pe){return rt(pe,function(_e){var He="";return _e>65535&&(He+=te((_e-=65536)>>>10&1023|55296),_e=56320|1023&_e),He+te(_e)}).join("")}function Ot(pe){return pe-48<10?pe-22:pe-65<26?pe-65:pe-97<26?pe-97:36}function qt(pe,_e){return pe+22+75*(pe<26)-((0!=_e)<<5)}function W(pe,_e,He){var Ce=0;for(pe=He?Ke(pe/700):pe>>1,pe+=Ke(pe/_e);pe>455;Ce+=36)pe=Ke(pe/35);return Ke(Ce+36*pe/(pe+38))}function ne(pe){var Ce,Be,Xe,_t,Gt,Yt,dn,_n,zt,xt,_e=[],He=pe.length,qe=0,Q=128,ye=72;for((Be=pe.lastIndexOf("-"))<0&&(Be=0),Xe=0;Xe<Be;++Xe)pe.charCodeAt(Xe)>=128&&ke("not-basic"),_e.push(pe.charCodeAt(Xe));for(_t=Be>0?Be+1:0;_t<He;){for(Gt=qe,Yt=1,dn=36;_t>=He&&ke("invalid-input"),((_n=Ot(pe.charCodeAt(_t++)))>=36||_n>Ke((ve-qe)/Yt))&&ke("overflow"),qe+=_n*Yt,!(_n<(zt=dn<=ye?1:dn>=ye+26?26:dn-ye));dn+=36)Yt>Ke(ve/(xt=36-zt))&&ke("overflow"),Yt*=xt;ye=W(qe-Gt,Ce=_e.length+1,0==Gt),Ke(qe/Ce)>ve-Q&&ke("overflow"),Q+=Ke(qe/Ce),qe%=Ce,_e.splice(qe++,0,Q)}return Pt(_e)}function X(pe){var _e,He,Ce,qe,Q,ye,Be,Xe,_t,Gt,Yt,_n,zt,xt,Un,dn=[];for(_n=(pe=wt(pe)).length,_e=128,He=0,Q=72,ye=0;ye<_n;++ye)(Yt=pe[ye])<128&&dn.push(te(Yt));for(Ce=qe=dn.length,qe&&dn.push("-");Ce<_n;){for(Be=ve,ye=0;ye<_n;++ye)(Yt=pe[ye])>=_e&&Yt<Be&&(Be=Yt);for(Be-_e>Ke((ve-He)/(zt=Ce+1))&&ke("overflow"),He+=(Be-_e)*zt,_e=Be,ye=0;ye<_n;++ye)if((Yt=pe[ye])<_e&&++He>ve&&ke("overflow"),Yt==_e){for(Xe=He,_t=36;!(Xe<(Gt=_t<=Q?1:_t>=Q+26?26:_t-Q));_t+=36)dn.push(te(qt(Gt+(Un=Xe-Gt)%(xt=36-Gt),0))),Xe=Ke(Un/xt);dn.push(te(qt(Xe,0))),Q=W(He,zt,Ce==qe),He=0,++Ce}++He,++_e}return dn.join("")}ee={version:"1.3.2",ucs2:{decode:wt,encode:Pt},decode:ne,encode:X,toASCII:function Se(pe){return Te(pe,function(_e){return Ze.test(_e)?"xn--"+X(_e):_e})},toUnicode:function Ee(pe){return Te(pe,function(_e){return Tt.test(_e)?ne(_e.slice(4).toLowerCase()):_e})}},void 0!==(D=function(){return ee}.call(Ne,F,Ne,At))&&(At.exports=D)}()},8762:(At,Ne,F)=>{"use strict";var w=F(1308),ce=F(796);function le(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Ne.Qc=Ct,Ne.DB=function te(ke,rt){return Ct(ke,!1,!0).resolve(rt)},Ne.WU=function Ke(ke){return ce.isString(ke)&&(ke=Ct(ke)),ke instanceof le?ke.format():le.prototype.format.call(ke)};var se=/^([a-z0-9.+-]+:)/i,ee=/:[0-9]*$/,ve=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Pe=["'"].concat(xe),Re=["%","/","?",";","#"].concat(Pe),Ie=["/","?","#"],$e=/^[+a-z0-9A-Z_-]{0,63}$/,pt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tt={javascript:!0,"javascript:":!0},Ze={javascript:!0,"javascript:":!0},bt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},at=F(7137);function Ct(ke,rt,Te){if(ke&&ce.isObject(ke)&&ke instanceof le)return ke;var wt=new le;return wt.parse(ke,rt,Te),wt}le.prototype.parse=function(ke,rt,Te){if(!ce.isString(ke))throw new TypeError("Parameter 'url' must be a string, not "+typeof ke);var wt=ke.indexOf("?"),Pt=-1!==wt&&wt<ke.indexOf("#")?"?":"#",Ot=ke.split(Pt);Ot[0]=Ot[0].replace(/\\/g,"/");var W=ke=Ot.join(Pt);if(W=W.trim(),!Te&&1===ke.split("#").length){var ne=ve.exec(W);if(ne)return this.path=W,this.href=W,this.pathname=ne[1],ne[2]?(this.search=ne[2],this.query=rt?at.parse(this.search.substr(1)):this.search.substr(1)):rt&&(this.search="",this.query={}),this}var X=se.exec(W);if(X){var Ee=(X=X[0]).toLowerCase();this.protocol=Ee,W=W.substr(X.length)}if(Te||X||W.match(/^\/\/[^@\/]+@[^@\/]+/)){var Se="//"===W.substr(0,2);Se&&(!X||!Ze[X])&&(W=W.substr(2),this.slashes=!0)}if(!Ze[X]&&(Se||X&&!bt[X])){for(var pe=-1,_e=0;_e<Ie.length;_e++)-1!==(He=W.indexOf(Ie[_e]))&&(-1===pe||He<pe)&&(pe=He);var Ce,qe;for(-1!==(qe=-1===pe?W.lastIndexOf("@"):W.lastIndexOf("@",pe))&&(Ce=W.slice(0,qe),W=W.slice(qe+1),this.auth=decodeURIComponent(Ce)),pe=-1,_e=0;_e<Re.length;_e++){var He;-1!==(He=W.indexOf(Re[_e]))&&(-1===pe||He<pe)&&(pe=He)}-1===pe&&(pe=W.length),this.host=W.slice(0,pe),W=W.slice(pe),this.parseHost(),this.hostname=this.hostname||"";var Q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Q)for(var ye=this.hostname.split(/\./),Be=(_e=0,ye.length);_e<Be;_e++){var Xe=ye[_e];if(Xe&&!Xe.match($e)){for(var _t="",Gt=0,Yt=Xe.length;Gt<Yt;Gt++)Xe.charCodeAt(Gt)>127?_t+="x":_t+=Xe[Gt];if(!_t.match($e)){var dn=ye.slice(0,_e),_n=ye.slice(_e+1),zt=Xe.match(pt);zt&&(dn.push(zt[1]),_n.unshift(zt[2])),_n.length&&(W="/"+_n.join(".")+W),this.hostname=dn.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Q||(this.hostname=w.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==W[0]&&(W="/"+W))}if(!Tt[Ee])for(_e=0,Be=Pe.length;_e<Be;_e++){var an=Pe[_e];if(-1!==W.indexOf(an)){var ni=encodeURIComponent(an);ni===an&&(ni=escape(an)),W=W.split(an).join(ni)}}var Wn=W.indexOf("#");-1!==Wn&&(this.hash=W.substr(Wn),W=W.slice(0,Wn));var Xt=W.indexOf("?");return-1!==Xt?(this.search=W.substr(Xt),this.query=W.substr(Xt+1),rt&&(this.query=at.parse(this.query)),W=W.slice(0,Xt)):rt&&(this.search="",this.query={}),W&&(this.pathname=W),bt[Ee]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},le.prototype.format=function(){var ke=this.auth||"";ke&&(ke=(ke=encodeURIComponent(ke)).replace(/%3A/i,":"),ke+="@");var rt=this.protocol||"",Te=this.pathname||"",wt=this.hash||"",Pt=!1,Ot="";this.host?Pt=ke+this.host:this.hostname&&(Pt=ke+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Pt+=":"+this.port)),this.query&&ce.isObject(this.query)&&Object.keys(this.query).length&&(Ot=at.stringify(this.query));var qt=this.search||Ot&&"?"+Ot||"";return rt&&":"!==rt.substr(-1)&&(rt+=":"),this.slashes||(!rt||bt[rt])&&!1!==Pt?(Pt="//"+(Pt||""),Te&&"/"!==Te.charAt(0)&&(Te="/"+Te)):Pt||(Pt=""),wt&&"#"!==wt.charAt(0)&&(wt="#"+wt),qt&&"?"!==qt.charAt(0)&&(qt="?"+qt),rt+Pt+(Te=Te.replace(/[?#]/g,function(W){return encodeURIComponent(W)}))+(qt=qt.replace("#","%23"))+wt},le.prototype.resolve=function(ke){return this.resolveObject(Ct(ke,!1,!0)).format()},le.prototype.resolveObject=function(ke){if(ce.isString(ke)){var rt=new le;rt.parse(ke,!1,!0),ke=rt}for(var Te=new le,wt=Object.keys(this),Pt=0;Pt<wt.length;Pt++){var Ot=wt[Pt];Te[Ot]=this[Ot]}if(Te.hash=ke.hash,""===ke.href)return Te.href=Te.format(),Te;if(ke.slashes&&!ke.protocol){for(var qt=Object.keys(ke),W=0;W<qt.length;W++){var ne=qt[W];"protocol"!==ne&&(Te[ne]=ke[ne])}return bt[Te.protocol]&&Te.hostname&&!Te.pathname&&(Te.path=Te.pathname="/"),Te.href=Te.format(),Te}if(ke.protocol&&ke.protocol!==Te.protocol){if(!bt[ke.protocol]){for(var X=Object.keys(ke),Ee=0;Ee<X.length;Ee++){var Se=X[Ee];Te[Se]=ke[Se]}return Te.href=Te.format(),Te}if(Te.protocol=ke.protocol,ke.host||Ze[ke.protocol])Te.pathname=ke.pathname;else{for(var Be=(ke.pathname||"").split("/");Be.length&&!(ke.host=Be.shift()););ke.host||(ke.host=""),ke.hostname||(ke.hostname=""),""!==Be[0]&&Be.unshift(""),Be.length<2&&Be.unshift(""),Te.pathname=Be.join("/")}return Te.search=ke.search,Te.query=ke.query,Te.host=ke.host||"",Te.auth=ke.auth,Te.hostname=ke.hostname||ke.host,Te.port=ke.port,(Te.pathname||Te.search)&&(Te.path=(Te.pathname||"")+(Te.search||"")),Te.slashes=Te.slashes||ke.slashes,Te.href=Te.format(),Te}var He=Te.pathname&&"/"===Te.pathname.charAt(0),Ce=ke.host||ke.pathname&&"/"===ke.pathname.charAt(0),qe=Ce||He||Te.host&&ke.pathname,Q=qe,ye=Te.pathname&&Te.pathname.split("/")||[],Xe=(Be=ke.pathname&&ke.pathname.split("/")||[],Te.protocol&&!bt[Te.protocol]);if(Xe&&(Te.hostname="",Te.port=null,Te.host&&(""===ye[0]?ye[0]=Te.host:ye.unshift(Te.host)),Te.host="",ke.protocol&&(ke.hostname=null,ke.port=null,ke.host&&(""===Be[0]?Be[0]=ke.host:Be.unshift(ke.host)),ke.host=null),qe=qe&&(""===Be[0]||""===ye[0])),Ce)Te.host=ke.host||""===ke.host?ke.host:Te.host,Te.hostname=ke.hostname||""===ke.hostname?ke.hostname:Te.hostname,Te.search=ke.search,Te.query=ke.query,ye=Be;else if(Be.length)ye||(ye=[]),ye.pop(),ye=ye.concat(Be),Te.search=ke.search,Te.query=ke.query;else if(!ce.isNullOrUndefined(ke.search))return Xe&&(Te.hostname=Te.host=ye.shift(),(_t=!!(Te.host&&Te.host.indexOf("@")>0)&&Te.host.split("@"))&&(Te.auth=_t.shift(),Te.host=Te.hostname=_t.shift())),Te.search=ke.search,Te.query=ke.query,(!ce.isNull(Te.pathname)||!ce.isNull(Te.search))&&(Te.path=(Te.pathname?Te.pathname:"")+(Te.search?Te.search:"")),Te.href=Te.format(),Te;if(!ye.length)return Te.pathname=null,Te.path=Te.search?"/"+Te.search:null,Te.href=Te.format(),Te;for(var Gt=ye.slice(-1)[0],Yt=(Te.host||ke.host||ye.length>1)&&("."===Gt||".."===Gt)||""===Gt,dn=0,_n=ye.length;_n>=0;_n--)"."===(Gt=ye[_n])?ye.splice(_n,1):".."===Gt?(ye.splice(_n,1),dn++):dn&&(ye.splice(_n,1),dn--);if(!qe&&!Q)for(;dn--;dn)ye.unshift("..");qe&&""!==ye[0]&&(!ye[0]||"/"!==ye[0].charAt(0))&&ye.unshift(""),Yt&&"/"!==ye.join("/").substr(-1)&&ye.push("");var _t,zt=""===ye[0]||ye[0]&&"/"===ye[0].charAt(0);return Xe&&(Te.hostname=Te.host=zt?"":ye.length?ye.shift():"",(_t=!!(Te.host&&Te.host.indexOf("@")>0)&&Te.host.split("@"))&&(Te.auth=_t.shift(),Te.host=Te.hostname=_t.shift())),(qe=qe||Te.host&&ye.length)&&!zt&&ye.unshift(""),ye.length?Te.pathname=ye.join("/"):(Te.pathname=null,Te.path=null),(!ce.isNull(Te.pathname)||!ce.isNull(Te.search))&&(Te.path=(Te.pathname?Te.pathname:"")+(Te.search?Te.search:"")),Te.auth=ke.auth||Te.auth,Te.slashes=Te.slashes||ke.slashes,Te.href=Te.format(),Te},le.prototype.parseHost=function(){var ke=this.host,rt=ee.exec(ke);rt&&(":"!==(rt=rt[0])&&(this.port=rt.substr(1)),ke=ke.substr(0,ke.length-rt.length)),ke&&(this.hostname=ke)}},796:At=>{"use strict";At.exports={isString:function(Ne){return"string"==typeof Ne},isObject:function(Ne){return"object"==typeof Ne&&null!==Ne},isNull:function(Ne){return null===Ne},isNullOrUndefined:function(Ne){return null==Ne}}},655:(At,Ne,F)=>{"use strict";function Ie(ne,X,Ee,Se){return new(Ee||(Ee=Promise))(function(_e,He){function Ce(ye){try{Q(Se.next(ye))}catch(Be){He(Be)}}function qe(ye){try{Q(Se.throw(ye))}catch(Be){He(Be)}}function Q(ye){ye.done?_e(ye.value):function pe(_e){return _e instanceof Ee?_e:new Ee(function(He){He(_e)})}(ye.value).then(Ce,qe)}Q((Se=Se.apply(ne,X||[])).next())})}function Ke(ne){return this instanceof Ke?(this.v=ne,this):new Ke(ne)}function te(ne,X,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,Se=Ee.apply(ne,X||[]),_e=[];return pe={},He("next"),He("throw"),He("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function He(Xe){Se[Xe]&&(pe[Xe]=function(_t){return new Promise(function(Gt,Yt){_e.push([Xe,_t,Gt,Yt])>1||Ce(Xe,_t)})})}function Ce(Xe,_t){try{!function qe(Xe){Xe.value instanceof Ke?Promise.resolve(Xe.value.v).then(Q,ye):Be(_e[0][2],Xe)}(Se[Xe](_t))}catch(Gt){Be(_e[0][3],Gt)}}function Q(Xe){Ce("next",Xe)}function ye(Xe){Ce("throw",Xe)}function Be(Xe,_t){Xe(_t),_e.shift(),_e.length&&Ce(_e[0][0],_e[0][1])}}function ke(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,X=ne[Symbol.asyncIterator];return X?X.call(ne):(ne=function Tt(ne){var X="function"==typeof Symbol&&Symbol.iterator,Ee=X&&ne[X],Se=0;if(Ee)return Ee.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Se>=ne.length&&(ne=void 0),{value:ne&&ne[Se++],done:!ne}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),Ee={},Se("next"),Se("throw"),Se("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Se(_e){Ee[_e]=ne[_e]&&function(He){return new Promise(function(Ce,qe){!function pe(_e,He,Ce,qe){Promise.resolve(qe).then(function(Q){_e({value:Q,done:Ce})},He)}(Ce,qe,(He=ne[_e](He)).done,He.value)})}}}F.d(Ne,{FC:()=>te,KL:()=>ke,mG:()=>Ie,qq:()=>Ke})},7340:(At,Ne,F)=>{"use strict";F.d(Ne,{IO:()=>pt,LC:()=>w,SB:()=>xe,X$:()=>le,ZE:()=>at,ZN:()=>bt,_j:()=>D,eR:()=>Re,jt:()=>se,k1:()=>Ct,l3:()=>ce,oB:()=>ue,pV:()=>ot,ru:()=>ee,vP:()=>ve});class D{}class w{}const ce="*";function le(Ke,te){return{type:7,name:Ke,definitions:te,options:{}}}function se(Ke,te=null){return{type:4,styles:te,timings:Ke}}function ee(Ke,te=null){return{type:3,steps:Ke,options:te}}function ve(Ke,te=null){return{type:2,steps:Ke,options:te}}function ue(Ke){return{type:6,styles:Ke,offset:null}}function xe(Ke,te,ct){return{type:0,name:Ke,styles:te,options:ct}}function Re(Ke,te,ct=null){return{type:1,expr:Ke,animation:te,options:ct}}function ot(Ke=null){return{type:9,options:Ke}}function pt(Ke,te,ct=null){return{type:11,selector:Ke,animation:te,options:ct}}function Ze(Ke){Promise.resolve().then(Ke)}class bt{constructor(te=0,ct=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=te+ct}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(te=>te()),this._onDoneFns=[])}onStart(te){this._originalOnStartFns.push(te),this._onStartFns.push(te)}onDone(te){this._originalOnDoneFns.push(te),this._onDoneFns.push(te)}onDestroy(te){this._onDestroyFns.push(te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(te=>te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(te=>te()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(te){this._position=this.totalTime?te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(te){const ct="start"==te?this._onStartFns:this._onDoneFns;ct.forEach(ke=>ke()),ct.length=0}}class at{constructor(te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=te;let ct=0,ke=0,rt=0;const Te=this.players.length;0==Te?Ze(()=>this._onFinish()):this.players.forEach(wt=>{wt.onDone(()=>{++ct==Te&&this._onFinish()}),wt.onDestroy(()=>{++ke==Te&&this._onDestroy()}),wt.onStart(()=>{++rt==Te&&this._onStart()})}),this.totalTime=this.players.reduce((wt,Pt)=>Math.max(wt,Pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(te=>te()),this._onDoneFns=[])}init(){this.players.forEach(te=>te.init())}onStart(te){this._onStartFns.push(te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(te=>te()),this._onStartFns=[])}onDone(te){this._onDoneFns.push(te)}onDestroy(te){this._onDestroyFns.push(te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(te=>te.play())}pause(){this.players.forEach(te=>te.pause())}restart(){this.players.forEach(te=>te.restart())}finish(){this._onFinish(),this.players.forEach(te=>te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(te=>te.destroy()),this._onDestroyFns.forEach(te=>te()),this._onDestroyFns=[])}reset(){this.players.forEach(te=>te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(te){const ct=te*this.totalTime;this.players.forEach(ke=>{const rt=ke.totalTime?Math.min(1,ct/ke.totalTime):1;ke.setPosition(rt)})}getPosition(){const te=this.players.reduce((ct,ke)=>null===ct||ke.totalTime>ct.totalTime?ke:ct,null);return null!=te?te.getPosition():0}beforeDestroy(){this.players.forEach(te=>{te.beforeDestroy&&te.beforeDestroy()})}triggerCallback(te){const ct="start"==te?this._onStartFns:this._onDoneFns;ct.forEach(ke=>ke()),ct.length=0}}const Ct="!"},2016:(At,Ne,F)=>{"use strict";F.d(Ne,{rt:()=>dt,tE:()=>Ln,qV:()=>di,qm:()=>Ye,ic:()=>an,X6:()=>Lt,yG:()=>Le});var D=F(6895),w=F(4650),ce=F(3353),le=F(1135),se=F(7579),ee=F(9646),ve=F(9521),ue=F(5698),xe=F(9300);function Pe(we){return(0,xe.h)((he,ie)=>we<=ie)}var Re=F(4671),Ie=F(4482),ot=F(5403);function pt(we,he){return we===he}var Tt=F(2722),Ze=F(1281);let bt=(()=>{class we{create(ie){return typeof MutationObserver>"u"?null:new MutationObserver(ie)}}return we.\u0275fac=function(ie){return new(ie||we)},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),Ke=(()=>{class we{}return we.\u0275fac=function(ie){return new(ie||we)},we.\u0275mod=w.oAB({type:we}),we.\u0275inj=w.cJS({providers:[bt]}),we})();var te=F(9841),ct=F(7272),ke=F(9751),rt=F(4986),wt=F(4004),Pt=F(8675);const qt=new Set;let W,ne=(()=>{class we{constructor(ie){this._platform=ie,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ee}matchMedia(ie){return(this._platform.WEBKIT||this._platform.BLINK)&&function X(we){if(!qt.has(we))try{W||(W=document.createElement("style"),W.setAttribute("type","text/css"),document.head.appendChild(W)),W.sheet&&(W.sheet.insertRule(`@media ${we} {body{ }}`,0),qt.add(we))}catch(he){console.error(he)}}(ie),this._matchMedia(ie)}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(ce.t4))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Ee(we){return{matches:"all"===we||""===we,media:we,addListener:()=>{},removeListener:()=>{}}}let Se=(()=>{class we{constructor(ie,Ve){this._mediaMatcher=ie,this._zone=Ve,this._queries=new Map,this._destroySubject=new se.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ie){return pe((0,Ze.Eq)(ie)).some(nt=>this._registerQuery(nt).mql.matches)}observe(ie){const nt=pe((0,Ze.Eq)(ie)).map(on=>this._registerQuery(on).observable);let Nt=(0,te.a)(nt);return Nt=(0,ct.z)(Nt.pipe((0,ue.q)(1)),Nt.pipe(Pe(1),function Te(we,he=rt.z){return(0,Ie.e)((ie,Ve)=>{let nt=null,Nt=null,on=null;const An=()=>{if(nt){nt.unsubscribe(),nt=null;const oi=Nt;Nt=null,Ve.next(oi)}};function Ei(){const oi=on+we,Kr=he.now();if(Kr<oi)return nt=this.schedule(void 0,oi-Kr),void Ve.add(nt);An()}ie.subscribe((0,ot.x)(Ve,oi=>{Nt=oi,on=he.now(),nt||(nt=he.schedule(Ei,we),Ve.add(nt))},()=>{An(),Ve.complete()},void 0,()=>{Nt=nt=null}))})}(0))),Nt.pipe((0,wt.U)(on=>{const An={matches:!1,breakpoints:{}};return on.forEach(({matches:Ei,query:oi})=>{An.matches=An.matches||Ei,An.breakpoints[oi]=Ei}),An}))}_registerQuery(ie){if(this._queries.has(ie))return this._queries.get(ie);const Ve=this._mediaMatcher.matchMedia(ie),Nt={observable:new ke.y(on=>{const An=Ei=>this._zone.run(()=>on.next(Ei));return Ve.addListener(An),()=>{Ve.removeListener(An)}}).pipe((0,Pt.O)(Ve),(0,wt.U)(({matches:on})=>({query:ie,matches:on})),(0,Tt.R)(this._destroySubject)),mql:Ve};return this._queries.set(ie,Nt),Nt}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(ne),w.LFG(w.R0b))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function pe(we){return we.map(he=>he.split(",")).reduce((he,ie)=>he.concat(ie)).map(he=>he.trim())}let an=(()=>{class we{constructor(ie){this._platform=ie}isDisabled(ie){return ie.hasAttribute("disabled")}isVisible(ie){return function Wn(we){return!!(we.offsetWidth||we.offsetHeight||"function"==typeof we.getClientRects&&we.getClientRects().length)}(ie)&&"visible"===getComputedStyle(ie).visibility}isTabbable(ie){if(!this._platform.isBrowser)return!1;const Ve=function ni(we){try{return we.frameElement}catch{return null}}(function Ri(we){return we.ownerDocument&&we.ownerDocument.defaultView||window}(ie));if(Ve&&(-1===bn(Ve)||!this.isVisible(Ve)))return!1;let nt=ie.nodeName.toLowerCase(),Nt=bn(ie);return ie.hasAttribute("contenteditable")?-1!==Nt:!("iframe"===nt||"object"===nt||this._platform.WEBKIT&&this._platform.IOS&&!function gn(we){let he=we.nodeName.toLowerCase(),ie="input"===he&&we.type;return"text"===ie||"password"===ie||"select"===he||"textarea"===he}(ie))&&("audio"===nt?!!ie.hasAttribute("controls")&&-1!==Nt:"video"===nt?-1!==Nt&&(null!==Nt||this._platform.FIREFOX||ie.hasAttribute("controls")):ie.tabIndex>=0)}isFocusable(ie,Ve){return function Kt(we){return!function $i(we){return function si(we){return"input"==we.nodeName.toLowerCase()}(we)&&"hidden"==we.type}(we)&&(function Xt(we){let he=we.nodeName.toLowerCase();return"input"===he||"select"===he||"button"===he||"textarea"===he}(we)||function Hr(we){return function Ii(we){return"a"==we.nodeName.toLowerCase()}(we)&&we.hasAttribute("href")}(we)||we.hasAttribute("contenteditable")||lr(we))}(ie)&&!this.isDisabled(ie)&&(Ve?.ignoreVisibility||this.isVisible(ie))}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(ce.t4))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function lr(we){if(!we.hasAttribute("tabindex")||void 0===we.tabIndex)return!1;let he=we.getAttribute("tabindex");return!(!he||isNaN(parseInt(he,10)))}function bn(we){if(!lr(we))return null;const he=parseInt(we.getAttribute("tabindex")||"",10);return isNaN(he)?-1:he}class hi{get enabled(){return this._enabled}set enabled(he){this._enabled=he,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(he,this._startAnchor),this._toggleAnchorTabIndex(he,this._endAnchor))}constructor(he,ie,Ve,nt,Nt=!1){this._element=he,this._checker=ie,this._ngZone=Ve,this._document=nt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Nt||this.attachAnchors()}destroy(){const he=this._startAnchor,ie=this._endAnchor;he&&(he.removeEventListener("focus",this.startAnchorListener),he.remove()),ie&&(ie.removeEventListener("focus",this.endAnchorListener),ie.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(he){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusInitialElement(he)))})}focusFirstTabbableElementWhenReady(he){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusFirstTabbableElement(he)))})}focusLastTabbableElementWhenReady(he){return new Promise(ie=>{this._executeOnStable(()=>ie(this.focusLastTabbableElement(he)))})}_getRegionBoundary(he){const ie=this._element.querySelectorAll(`[cdk-focus-region-${he}], [cdkFocusRegion${he}], [cdk-focus-${he}]`);return"start"==he?ie.length?ie[0]:this._getFirstTabbableElement(this._element):ie.length?ie[ie.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(he){const ie=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ie){if(!this._checker.isFocusable(ie)){const Ve=this._getFirstTabbableElement(ie);return Ve?.focus(he),!!Ve}return ie.focus(he),!0}return this.focusFirstTabbableElement(he)}focusFirstTabbableElement(he){const ie=this._getRegionBoundary("start");return ie&&ie.focus(he),!!ie}focusLastTabbableElement(he){const ie=this._getRegionBoundary("end");return ie&&ie.focus(he),!!ie}hasAttached(){return this._hasAttached}_getFirstTabbableElement(he){if(this._checker.isFocusable(he)&&this._checker.isTabbable(he))return he;const ie=he.children;for(let Ve=0;Ve<ie.length;Ve++){const nt=ie[Ve].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ie[Ve]):null;if(nt)return nt}return null}_getLastTabbableElement(he){if(this._checker.isFocusable(he)&&this._checker.isTabbable(he))return he;const ie=he.children;for(let Ve=ie.length-1;Ve>=0;Ve--){const nt=ie[Ve].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ie[Ve]):null;if(nt)return nt}return null}_createAnchor(){const he=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,he),he.classList.add("cdk-visually-hidden"),he.classList.add("cdk-focus-trap-anchor"),he.setAttribute("aria-hidden","true"),he}_toggleAnchorTabIndex(he,ie){he?ie.setAttribute("tabindex","0"):ie.removeAttribute("tabindex")}toggleAnchors(he){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(he,this._startAnchor),this._toggleAnchorTabIndex(he,this._endAnchor))}_executeOnStable(he){this._ngZone.isStable?he():this._ngZone.onStable.pipe((0,ue.q)(1)).subscribe(he)}}let di=(()=>{class we{constructor(ie,Ve,nt){this._checker=ie,this._ngZone=Ve,this._document=nt}create(ie,Ve=!1){return new hi(ie,this._checker,this._ngZone,this._document,Ve)}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(an),w.LFG(w.R0b),w.LFG(D.K0))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Lt(we){return 0===we.buttons||0===we.offsetX&&0===we.offsetY}function Le(we){const he=we.touches&&we.touches[0]||we.changedTouches&&we.changedTouches[0];return!(!he||-1!==he.identifier||null!=he.radiusX&&1!==he.radiusX||null!=he.radiusY&&1!==he.radiusY)}const Fe=new w.OlP("cdk-input-modality-detector-options"),yt={ignoreKeys:[ve.zL,ve.jx,ve.b2,ve.MW,ve.JU]},ge=(0,ce.i$)({passive:!0,capture:!0});let Oe=(()=>{class we{get mostRecentModality(){return this._modality.value}constructor(ie,Ve,nt,Nt){this._platform=ie,this._mostRecentTarget=null,this._modality=new le.X(null),this._lastTouchMs=0,this._onKeydown=on=>{this._options?.ignoreKeys?.some(An=>An===on.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ce.sA)(on))},this._onMousedown=on=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lt(on)?"keyboard":"mouse"),this._mostRecentTarget=(0,ce.sA)(on))},this._onTouchstart=on=>{Le(on)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ce.sA)(on))},this._options={...yt,...Nt},this.modalityDetected=this._modality.pipe(Pe(1)),this.modalityChanged=this.modalityDetected.pipe(function $e(we,he=Re.y){return we=we??pt,(0,Ie.e)((ie,Ve)=>{let nt,Nt=!0;ie.subscribe((0,ot.x)(Ve,on=>{const An=he(on);(Nt||!we(nt,An))&&(Nt=!1,nt=An,Ve.next(on))}))})}()),ie.isBrowser&&Ve.runOutsideAngular(()=>{nt.addEventListener("keydown",this._onKeydown,ge),nt.addEventListener("mousedown",this._onMousedown,ge),nt.addEventListener("touchstart",this._onTouchstart,ge)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ge),document.removeEventListener("mousedown",this._onMousedown,ge),document.removeEventListener("touchstart",this._onTouchstart,ge))}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(ce.t4),w.LFG(w.R0b),w.LFG(D.K0),w.LFG(Fe,8))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const fi=new w.OlP("cdk-focus-monitor-default-options"),yi=(0,ce.i$)({passive:!0,capture:!0});let Ln=(()=>{class we{constructor(ie,Ve,nt,Nt,on){this._ngZone=ie,this._platform=Ve,this._inputModalityDetector=nt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se.x,this._rootNodeFocusAndBlurListener=An=>{for(let oi=(0,ce.sA)(An);oi;oi=oi.parentElement)"focus"===An.type?this._onFocus(An,oi):this._onBlur(An,oi)},this._document=Nt,this._detectionMode=on?.detectionMode||0}monitor(ie,Ve=!1){const nt=(0,Ze.fI)(ie);if(!this._platform.isBrowser||1!==nt.nodeType)return(0,ee.of)(null);const Nt=(0,ce.kV)(nt)||this._getDocument(),on=this._elementInfo.get(nt);if(on)return Ve&&(on.checkChildren=!0),on.subject;const An={checkChildren:Ve,subject:new se.x,rootNode:Nt};return this._elementInfo.set(nt,An),this._registerGlobalListeners(An),An.subject}stopMonitoring(ie){const Ve=(0,Ze.fI)(ie),nt=this._elementInfo.get(Ve);nt&&(nt.subject.complete(),this._setClasses(Ve),this._elementInfo.delete(Ve),this._removeGlobalListeners(nt))}focusVia(ie,Ve,nt){const Nt=(0,Ze.fI)(ie);Nt===this._getDocument().activeElement?this._getClosestElementsInfo(Nt).forEach(([An,Ei])=>this._originChanged(An,Ve,Ei)):(this._setOrigin(Ve),"function"==typeof Nt.focus&&Nt.focus(nt))}ngOnDestroy(){this._elementInfo.forEach((ie,Ve)=>this.stopMonitoring(Ve))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ie){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ie)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ie&&this._isLastInteractionFromInputLabel(ie)?"mouse":"program"}_shouldBeAttributedToTouch(ie){return 1===this._detectionMode||!!ie?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ie,Ve){ie.classList.toggle("cdk-focused",!!Ve),ie.classList.toggle("cdk-touch-focused","touch"===Ve),ie.classList.toggle("cdk-keyboard-focused","keyboard"===Ve),ie.classList.toggle("cdk-mouse-focused","mouse"===Ve),ie.classList.toggle("cdk-program-focused","program"===Ve)}_setOrigin(ie,Ve=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ie,this._originFromTouchInteraction="touch"===ie&&Ve,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ie,Ve){const nt=this._elementInfo.get(Ve),Nt=(0,ce.sA)(ie);!nt||!nt.checkChildren&&Ve!==Nt||this._originChanged(Ve,this._getFocusOrigin(Nt),nt)}_onBlur(ie,Ve){const nt=this._elementInfo.get(Ve);!nt||nt.checkChildren&&ie.relatedTarget instanceof Node&&Ve.contains(ie.relatedTarget)||(this._setClasses(Ve),this._emitOrigin(nt,null))}_emitOrigin(ie,Ve){ie.subject.observers.length&&this._ngZone.run(()=>ie.subject.next(Ve))}_registerGlobalListeners(ie){if(!this._platform.isBrowser)return;const Ve=ie.rootNode,nt=this._rootNodeFocusListenerCount.get(Ve)||0;nt||this._ngZone.runOutsideAngular(()=>{Ve.addEventListener("focus",this._rootNodeFocusAndBlurListener,yi),Ve.addEventListener("blur",this._rootNodeFocusAndBlurListener,yi)}),this._rootNodeFocusListenerCount.set(Ve,nt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Tt.R)(this._stopInputModalityDetector)).subscribe(Nt=>{this._setOrigin(Nt,!0)}))}_removeGlobalListeners(ie){const Ve=ie.rootNode;if(this._rootNodeFocusListenerCount.has(Ve)){const nt=this._rootNodeFocusListenerCount.get(Ve);nt>1?this._rootNodeFocusListenerCount.set(Ve,nt-1):(Ve.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yi),Ve.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yi),this._rootNodeFocusListenerCount.delete(Ve))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ie,Ve,nt){this._setClasses(ie,Ve),this._emitOrigin(nt,Ve),this._lastFocusOrigin=Ve}_getClosestElementsInfo(ie){const Ve=[];return this._elementInfo.forEach((nt,Nt)=>{(Nt===ie||nt.checkChildren&&Nt.contains(ie))&&Ve.push([Nt,nt])}),Ve}_isLastInteractionFromInputLabel(ie){const{_mostRecentTarget:Ve,mostRecentModality:nt}=this._inputModalityDetector;if("mouse"!==nt||!Ve||Ve===ie||"INPUT"!==ie.nodeName&&"TEXTAREA"!==ie.nodeName||ie.disabled)return!1;const Nt=ie.labels;if(Nt)for(let on=0;on<Nt.length;on++)if(Nt[on].contains(Ve))return!0;return!1}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(w.R0b),w.LFG(ce.t4),w.LFG(Oe),w.LFG(D.K0,8),w.LFG(fi,8))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();const Me="cdk-high-contrast-black-on-white",Ae="cdk-high-contrast-white-on-black",ae="cdk-high-contrast-active";let Ye=(()=>{class we{constructor(ie,Ve){this._platform=ie,this._document=Ve,this._breakpointSubscription=(0,w.f3M)(Se).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ie=this._document.createElement("div");ie.style.backgroundColor="rgb(1,2,3)",ie.style.position="absolute",this._document.body.appendChild(ie);const Ve=this._document.defaultView||window,nt=Ve&&Ve.getComputedStyle?Ve.getComputedStyle(ie):null,Nt=(nt&&nt.backgroundColor||"").replace(/ /g,"");switch(ie.remove(),Nt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ie=this._document.body.classList;ie.remove(ae,Me,Ae),this._hasCheckedHighContrastMode=!0;const Ve=this.getHighContrastMode();1===Ve?ie.add(ae,Me):2===Ve&&ie.add(ae,Ae)}}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(ce.t4),w.LFG(D.K0))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),dt=(()=>{class we{constructor(ie){ie._applyBodyHighContrastModeCssClasses()}}return we.\u0275fac=function(ie){return new(ie||we)(w.LFG(Ye))},we.\u0275mod=w.oAB({type:we}),we.\u0275inj=w.cJS({imports:[Ke]}),we})()},445:(At,Ne,F)=>{"use strict";F.d(Ne,{Is:()=>ve,vT:()=>xe});var D=F(4650),w=F(6895);const ce=new D.OlP("cdk-dir-doc",{providedIn:"root",factory:function le(){return(0,D.f3M)(w.K0)}}),se=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ve=(()=>{class Pe{constructor(Ie){this.value="ltr",this.change=new D.vpe,Ie&&(this.value=function ee(Pe){const Re=Pe?.toLowerCase()||"";return"auto"===Re&&typeof navigator<"u"&&navigator?.language?se.test(navigator.language)?"rtl":"ltr":"rtl"===Re?"rtl":"ltr"}((Ie.body?Ie.body.dir:null)||(Ie.documentElement?Ie.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Pe.\u0275fac=function(Ie){return new(Ie||Pe)(D.LFG(ce,8))},Pe.\u0275prov=D.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),xe=(()=>{class Pe{}return Pe.\u0275fac=function(Ie){return new(Ie||Pe)},Pe.\u0275mod=D.oAB({type:Pe}),Pe.\u0275inj=D.cJS({}),Pe})()},1281:(At,Ne,F)=>{"use strict";F.d(Ne,{Eq:()=>se,HM:()=>ee,Ig:()=>w,fI:()=>ve,su:()=>ce});var D=F(4650);function w(xe){return null!=xe&&"false"!=`${xe}`}function ce(xe,Pe=0){return function le(xe){return!isNaN(parseFloat(xe))&&!isNaN(Number(xe))}(xe)?Number(xe):Pe}function se(xe){return Array.isArray(xe)?xe:[xe]}function ee(xe){return null==xe?"":"string"==typeof xe?xe:`${xe}px`}function ve(xe){return xe instanceof D.SBq?xe.nativeElement:xe}},9521:(At,Ne,F)=>{"use strict";F.d(Ne,{JU:()=>ee,MW:()=>Ri,Vb:()=>cr,b2:()=>Si,hY:()=>Re,jx:()=>ve,zL:()=>ue});const ee=16,ve=17,ue=18,Re=27,Ri=91,Si=224;function cr(kn,...Ni){return Ni.length?Ni.some(xr=>kn[xr]):kn.altKey||kn.shiftKey||kn.ctrlKey||kn.metaKey}},3353:(At,Ne,F)=>{"use strict";F.d(Ne,{Mq:()=>$e,Oy:()=>Ke,_i:()=>pt,ht:()=>at,i$:()=>Re,kV:()=>bt,sA:()=>Ct,t4:()=>le});var D=F(4650),w=F(6895);let ce;try{ce=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ce=!1}let xe,Ie,ot,Tt,le=(()=>{class te{constructor(ke){this._platformId=ke,this.isBrowser=this._platformId?(0,w.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ce)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return te.\u0275fac=function(ke){return new(ke||te)(D.LFG(D.Lbi))},te.\u0275prov=D.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})();function Re(te){return function Pe(){if(null==xe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xe=!0}))}finally{xe=xe||!1}return xe}()?te:!!te.capture}function $e(){if(null==ot){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ot=!1,ot;if("scrollBehavior"in document.documentElement.style)ot=!0;else{const te=Element.prototype.scrollTo;ot=!!te&&!/\{\s*\[native code\]\s*\}/.test(te.toString())}}return ot}function pt(){if("object"!=typeof document||!document)return 0;if(null==Ie){const te=document.createElement("div"),ct=te.style;te.dir="rtl",ct.width="1px",ct.overflow="auto",ct.visibility="hidden",ct.pointerEvents="none",ct.position="absolute";const ke=document.createElement("div"),rt=ke.style;rt.width="2px",rt.height="1px",te.appendChild(ke),document.body.appendChild(te),Ie=0,0===te.scrollLeft&&(te.scrollLeft=1,Ie=0===te.scrollLeft?1:2),te.remove()}return Ie}function bt(te){if(function Ze(){if(null==Tt){const te=typeof document<"u"?document.head:null;Tt=!(!te||!te.createShadowRoot&&!te.attachShadow)}return Tt}()){const ct=te.getRootNode?te.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ct instanceof ShadowRoot)return ct}return null}function at(){let te=typeof document<"u"&&document?document.activeElement:null;for(;te&&te.shadowRoot;){const ct=te.shadowRoot.activeElement;if(ct===te)break;te=ct}return te}function Ct(te){return te.composedPath?te.composedPath()[0]:te.target}function Ke(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(At,Ne,F)=>{"use strict";F.d(Ne,{Do:()=>at,EM:()=>zr,HT:()=>le,JF:()=>co,K0:()=>ee,Mx:()=>Ji,NF:()=>Ys,O5:()=>xr,S$:()=>Tt,V_:()=>xe,Ye:()=>Ct,ax:()=>cr,b0:()=>bt,bD:()=>Ws,ez:()=>Wo,q:()=>ce,w_:()=>se});var D=F(4650);let w=null;function ce(){return w}function le(C){w||(w=C)}class se{}const ee=new D.OlP("DocumentToken");let ve=(()=>{class C{historyGo(M){throw new Error("Not implemented")}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=D.Yz7({token:C,factory:function(){return function ue(){return(0,D.LFG)(Pe)}()},providedIn:"platform"}),C})();const xe=new D.OlP("Location Initialized");let Pe=(()=>{class C extends ve{constructor(M){super(),this._doc=M,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(M){const V=ce().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",M,!1),()=>V.removeEventListener("popstate",M)}onHashChange(M){const V=ce().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",M,!1),()=>V.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,V,fe){Re()?this._history.pushState(M,V,fe):this._location.hash=fe}replaceState(M,V,fe){Re()?this._history.replaceState(M,V,fe):this._location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return C.\u0275fac=function(M){return new(M||C)(D.LFG(ee))},C.\u0275prov=D.Yz7({token:C,factory:function(){return function Ie(){return new Pe((0,D.LFG)(ee))}()},providedIn:"platform"}),C})();function Re(){return!!window.history.pushState}function ot(C,L){if(0==C.length)return L;if(0==L.length)return C;let M=0;return C.endsWith("/")&&M++,L.startsWith("/")&&M++,2==M?C+L.substring(1):1==M?C+L:C+"/"+L}function $e(C){const L=C.match(/#|\?|$/),M=L&&L.index||C.length;return C.slice(0,M-("/"===C[M-1]?1:0))+C.slice(M)}function pt(C){return C&&"?"!==C[0]?"?"+C:C}let Tt=(()=>{class C{historyGo(M){throw new Error("Not implemented")}}return C.\u0275fac=function(M){return new(M||C)},C.\u0275prov=D.Yz7({token:C,factory:function(){return(0,D.f3M)(bt)},providedIn:"root"}),C})();const Ze=new D.OlP("appBaseHref");let bt=(()=>{class C extends Tt{constructor(M,V){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,D.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ot(this._baseHref,M)}path(M=!1){const V=this._platformLocation.pathname+pt(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&M?`${V}${fe}`:V}pushState(M,V,fe,Je){const lt=this.prepareExternalUrl(fe+pt(Je));this._platformLocation.pushState(M,V,lt)}replaceState(M,V,fe,Je){const lt=this.prepareExternalUrl(fe+pt(Je));this._platformLocation.replaceState(M,V,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return C.\u0275fac=function(M){return new(M||C)(D.LFG(ve),D.LFG(Ze,8))},C.\u0275prov=D.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),at=(()=>{class C extends Tt{constructor(M,V){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(M){const V=ot(this._baseHref,M);return V.length>0?"#"+V:V}pushState(M,V,fe,Je){let lt=this.prepareExternalUrl(fe+pt(Je));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(M,V,lt)}replaceState(M,V,fe,Je){let lt=this.prepareExternalUrl(fe+pt(Je));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(M,V,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return C.\u0275fac=function(M){return new(M||C)(D.LFG(ve),D.LFG(Ze,8))},C.\u0275prov=D.Yz7({token:C,factory:C.\u0275fac}),C})(),Ct=(()=>{class C{constructor(M){this._subject=new D.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const V=this._locationStrategy.getBaseHref();this._basePath=function ke(C){if(new RegExp("^(https?:)?//").test(C)){const[,M]=C.split(/\/\/[^\/]+/);return M}return C}($e(ct(V))),this._locationStrategy.onPopState(fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:fe.state,type:fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,V=""){return this.path()==this.normalize(M+pt(V))}normalize(M){return C.stripTrailingSlash(function te(C,L){return C&&new RegExp(`^${C}([/;?#]|$)`).test(L)?L.substring(C.length):L}(this._basePath,ct(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,V="",fe=null){this._locationStrategy.pushState(fe,"",M,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+pt(V)),fe)}replaceState(M,V="",fe=null){this._locationStrategy.replaceState(fe,"",M,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+pt(V)),fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",V){this._urlChangeListeners.forEach(fe=>fe(M,V))}subscribe(M,V,fe){return this._subject.subscribe({next:M,error:V,complete:fe})}}return C.normalizeQueryParams=pt,C.joinWithSlash=ot,C.stripTrailingSlash=$e,C.\u0275fac=function(M){return new(M||C)(D.LFG(Tt))},C.\u0275prov=D.Yz7({token:C,factory:function(){return function Ke(){return new Ct((0,D.LFG)(Tt))}()},providedIn:"root"}),C})();function ct(C){return C.replace(/\/index.html$/,"")}function Ji(C,L){L=encodeURIComponent(L);for(const M of C.split(";")){const V=M.indexOf("="),[fe,Je]=-1==V?[M,""]:[M.slice(0,V),M.slice(V+1)];if(fe.trim()===L)return decodeURIComponent(Je)}return null}class Si{constructor(L,M,V,fe){this.$implicit=L,this.ngForOf=M,this.index=V,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class C{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,V,fe){this._viewContainer=M,this._template=V,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const V=this._viewContainer;M.forEachOperation((fe,Je,lt)=>{if(null==fe.previousIndex)V.createEmbeddedView(this._template,new Si(fe.item,this._ngForOf,-1,-1),null===lt?void 0:lt);else if(null==lt)V.remove(null===Je?void 0:Je);else if(null!==Je){const Vt=V.get(Je);V.move(Vt,lt),kn(Vt,fe)}});for(let fe=0,Je=V.length;fe<Je;fe++){const Vt=V.get(fe).context;Vt.index=fe,Vt.count=Je,Vt.ngForOf=this._ngForOf}M.forEachIdentityChange(fe=>{kn(V.get(fe.currentIndex),fe)})}static ngTemplateContextGuard(M,V){return!0}}return C.\u0275fac=function(M){return new(M||C)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},C.\u0275dir=D.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function kn(C,L){C.context.$implicit=L.item}let xr=(()=>{class C{constructor(M,V){this._viewContainer=M,this._context=new Tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ss("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ss("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,V){return!0}}return C.\u0275fac=function(M){return new(M||C)(D.Y36(D.s_b),D.Y36(D.Rgc))},C.\u0275dir=D.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class Tn{constructor(){this.$implicit=null,this.ngIf=null}}function ss(C,L){if(L&&!L.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,D.AaK)(L)}'.`)}let Wo=(()=>{class C{}return C.\u0275fac=function(M){return new(M||C)},C.\u0275mod=D.oAB({type:C}),C.\u0275inj=D.cJS({}),C})();const Ws="browser";function Ys(C){return C===Ws}let zr=(()=>{class C{}return C.\u0275prov=(0,D.Yz7)({token:C,providedIn:"root",factory:()=>new Xs((0,D.LFG)(ee),window)}),C})();class Xs{constructor(L,M){this.document=L,this.window=M,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const M=function Os(C,L){const M=C.getElementById(L)||C.getElementsByName(L)[0];if(M)return M;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const V=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let fe=V.currentNode;for(;fe;){const Je=fe.shadowRoot;if(Je){const lt=Je.getElementById(L)||Je.querySelector(`[name="${L}"]`);if(lt)return lt}fe=V.nextNode()}}return null}(this.document,L);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=L)}}scrollToElement(L){const M=L.getBoundingClientRect(),V=M.left+this.window.pageXOffset,fe=M.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(V-Je[0],fe-Je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=To(this.window.history)||To(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function To(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class co{}},529:(At,Ne,F)=>{"use strict";F.d(Ne,{JF:()=>Le,eN:()=>X});var D=F(6895),w=F(4650),ce=F(9646),le=F(9751),se=F(4351),ee=F(9300),ve=F(4004);class ue{}class xe{}class Pe{constructor(ge){this.normalizedNames=new Map,this.lazyUpdate=null,ge?this.lazyInit="string"==typeof ge?()=>{this.headers=new Map,ge.split("\n").forEach(Oe=>{const St=Oe.indexOf(":");if(St>0){const gt=Oe.slice(0,St),fn=gt.toLowerCase(),Dn=Oe.slice(St+1).trim();this.maybeSetNormalizedName(gt,fn),this.headers.has(fn)?this.headers.get(fn).push(Dn):this.headers.set(fn,[Dn])}})}:()=>{this.headers=new Map,Object.keys(ge).forEach(Oe=>{let St=ge[Oe];const gt=Oe.toLowerCase();"string"==typeof St&&(St=[St]),St.length>0&&(this.headers.set(gt,St),this.maybeSetNormalizedName(Oe,gt))})}:this.headers=new Map}has(ge){return this.init(),this.headers.has(ge.toLowerCase())}get(ge){this.init();const Oe=this.headers.get(ge.toLowerCase());return Oe&&Oe.length>0?Oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ge){return this.init(),this.headers.get(ge.toLowerCase())||null}append(ge,Oe){return this.clone({name:ge,value:Oe,op:"a"})}set(ge,Oe){return this.clone({name:ge,value:Oe,op:"s"})}delete(ge,Oe){return this.clone({name:ge,value:Oe,op:"d"})}maybeSetNormalizedName(ge,Oe){this.normalizedNames.has(Oe)||this.normalizedNames.set(Oe,ge)}init(){this.lazyInit&&(this.lazyInit instanceof Pe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ge=>this.applyUpdate(ge)),this.lazyUpdate=null))}copyFrom(ge){ge.init(),Array.from(ge.headers.keys()).forEach(Oe=>{this.headers.set(Oe,ge.headers.get(Oe)),this.normalizedNames.set(Oe,ge.normalizedNames.get(Oe))})}clone(ge){const Oe=new Pe;return Oe.lazyInit=this.lazyInit&&this.lazyInit instanceof Pe?this.lazyInit:this,Oe.lazyUpdate=(this.lazyUpdate||[]).concat([ge]),Oe}applyUpdate(ge){const Oe=ge.name.toLowerCase();switch(ge.op){case"a":case"s":let St=ge.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(ge.name,Oe);const gt=("a"===ge.op?this.headers.get(Oe):void 0)||[];gt.push(...St),this.headers.set(Oe,gt);break;case"d":const fn=ge.value;if(fn){let Dn=this.headers.get(Oe);if(!Dn)return;Dn=Dn.filter(Gn=>-1===fn.indexOf(Gn)),0===Dn.length?(this.headers.delete(Oe),this.normalizedNames.delete(Oe)):this.headers.set(Oe,Dn)}else this.headers.delete(Oe),this.normalizedNames.delete(Oe)}}forEach(ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(Oe=>ge(this.normalizedNames.get(Oe),this.headers.get(Oe)))}}class Ie{encodeKey(ge){return Tt(ge)}encodeValue(ge){return Tt(ge)}decodeKey(ge){return decodeURIComponent(ge)}decodeValue(ge){return decodeURIComponent(ge)}}const $e=/%(\d[a-f0-9])/gi,pt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tt(je){return encodeURIComponent(je).replace($e,(ge,Oe)=>pt[Oe]??ge)}function Ze(je){return`${je}`}class bt{constructor(ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ge.encoder||new Ie,ge.fromString){if(ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ot(je,ge){const Oe=new Map;return je.length>0&&je.replace(/^\?/,"").split("&").forEach(gt=>{const fn=gt.indexOf("="),[Dn,Gn]=-1==fn?[ge.decodeKey(gt),""]:[ge.decodeKey(gt.slice(0,fn)),ge.decodeValue(gt.slice(fn+1))],cn=Oe.get(Dn)||[];cn.push(Gn),Oe.set(Dn,cn)}),Oe}(ge.fromString,this.encoder)}else ge.fromObject?(this.map=new Map,Object.keys(ge.fromObject).forEach(Oe=>{const St=ge.fromObject[Oe],gt=Array.isArray(St)?St.map(Ze):[Ze(St)];this.map.set(Oe,gt)})):this.map=null}has(ge){return this.init(),this.map.has(ge)}get(ge){this.init();const Oe=this.map.get(ge);return Oe?Oe[0]:null}getAll(ge){return this.init(),this.map.get(ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ge,Oe){return this.clone({param:ge,value:Oe,op:"a"})}appendAll(ge){const Oe=[];return Object.keys(ge).forEach(St=>{const gt=ge[St];Array.isArray(gt)?gt.forEach(fn=>{Oe.push({param:St,value:fn,op:"a"})}):Oe.push({param:St,value:gt,op:"a"})}),this.clone(Oe)}set(ge,Oe){return this.clone({param:ge,value:Oe,op:"s"})}delete(ge,Oe){return this.clone({param:ge,value:Oe,op:"d"})}toString(){return this.init(),this.keys().map(ge=>{const Oe=this.encoder.encodeKey(ge);return this.map.get(ge).map(St=>Oe+"="+this.encoder.encodeValue(St)).join("&")}).filter(ge=>""!==ge).join("&")}clone(ge){const Oe=new bt({encoder:this.encoder});return Oe.cloneFrom=this.cloneFrom||this,Oe.updates=(this.updates||[]).concat(ge),Oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ge=>this.map.set(ge,this.cloneFrom.map.get(ge))),this.updates.forEach(ge=>{switch(ge.op){case"a":case"s":const Oe=("a"===ge.op?this.map.get(ge.param):void 0)||[];Oe.push(Ze(ge.value)),this.map.set(ge.param,Oe);break;case"d":if(void 0===ge.value){this.map.delete(ge.param);break}{let St=this.map.get(ge.param)||[];const gt=St.indexOf(Ze(ge.value));-1!==gt&&St.splice(gt,1),St.length>0?this.map.set(ge.param,St):this.map.delete(ge.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(ge,Oe){return this.map.set(ge,Oe),this}get(ge){return this.map.has(ge)||this.map.set(ge,ge.defaultValue()),this.map.get(ge)}delete(ge){return this.map.delete(ge),this}has(ge){return this.map.has(ge)}keys(){return this.map.keys()}}function te(je){return typeof ArrayBuffer<"u"&&je instanceof ArrayBuffer}function ct(je){return typeof Blob<"u"&&je instanceof Blob}function ke(je){return typeof FormData<"u"&&je instanceof FormData}class Te{constructor(ge,Oe,St,gt){let fn;if(this.url=Oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ge.toUpperCase(),function Ke(je){switch(je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||gt?(this.body=void 0!==St?St:null,fn=gt):fn=St,fn&&(this.reportProgress=!!fn.reportProgress,this.withCredentials=!!fn.withCredentials,fn.responseType&&(this.responseType=fn.responseType),fn.headers&&(this.headers=fn.headers),fn.context&&(this.context=fn.context),fn.params&&(this.params=fn.params)),this.headers||(this.headers=new Pe),this.context||(this.context=new Ct),this.params){const Dn=this.params.toString();if(0===Dn.length)this.urlWithParams=Oe;else{const Gn=Oe.indexOf("?");this.urlWithParams=Oe+(-1===Gn?"?":Gn<Oe.length-1?"&":"")+Dn}}else this.params=new bt,this.urlWithParams=Oe}serializeBody(){return null===this.body?null:te(this.body)||ct(this.body)||ke(this.body)||function rt(je){return typeof URLSearchParams<"u"&&je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:ct(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ge={}){const Oe=ge.method||this.method,St=ge.url||this.url,gt=ge.responseType||this.responseType,fn=void 0!==ge.body?ge.body:this.body,Dn=void 0!==ge.withCredentials?ge.withCredentials:this.withCredentials,Gn=void 0!==ge.reportProgress?ge.reportProgress:this.reportProgress;let cn=ge.headers||this.headers,fi=ge.params||this.params;const yi=ge.context??this.context;return void 0!==ge.setHeaders&&(cn=Object.keys(ge.setHeaders).reduce((Ln,Jn)=>Ln.set(Jn,ge.setHeaders[Jn]),cn)),ge.setParams&&(fi=Object.keys(ge.setParams).reduce((Ln,Jn)=>Ln.set(Jn,ge.setParams[Jn]),fi)),new Te(Oe,St,fn,{params:fi,headers:cn,context:yi,reportProgress:Gn,responseType:gt,withCredentials:Dn})}}var wt=(()=>((wt=wt||{})[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt))();class Pt{constructor(ge,Oe=200,St="OK"){this.headers=ge.headers||new Pe,this.status=void 0!==ge.status?ge.status:Oe,this.statusText=ge.statusText||St,this.url=ge.url||null,this.ok=this.status>=200&&this.status<300}}class Ot extends Pt{constructor(ge={}){super(ge),this.type=wt.ResponseHeader}clone(ge={}){return new Ot({headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class qt extends Pt{constructor(ge={}){super(ge),this.type=wt.Response,this.body=void 0!==ge.body?ge.body:null}clone(ge={}){return new qt({body:void 0!==ge.body?ge.body:this.body,headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}class W extends Pt{constructor(ge){super(ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ge.url||"(unknown url)"}`:`Http failure response for ${ge.url||"(unknown url)"}: ${ge.status} ${ge.statusText}`,this.error=ge.error||null}}function ne(je,ge){return{body:ge,headers:je.headers,context:je.context,observe:je.observe,params:je.params,reportProgress:je.reportProgress,responseType:je.responseType,withCredentials:je.withCredentials}}let X=(()=>{class je{constructor(Oe){this.handler=Oe}request(Oe,St,gt={}){let fn;if(Oe instanceof Te)fn=Oe;else{let cn,fi;cn=gt.headers instanceof Pe?gt.headers:new Pe(gt.headers),gt.params&&(fi=gt.params instanceof bt?gt.params:new bt({fromObject:gt.params})),fn=new Te(Oe,St,void 0!==gt.body?gt.body:null,{headers:cn,context:gt.context,params:fi,reportProgress:gt.reportProgress,responseType:gt.responseType||"json",withCredentials:gt.withCredentials})}const Dn=(0,ce.of)(fn).pipe((0,se.b)(cn=>this.handler.handle(cn)));if(Oe instanceof Te||"events"===gt.observe)return Dn;const Gn=Dn.pipe((0,ee.h)(cn=>cn instanceof qt));switch(gt.observe||"body"){case"body":switch(fn.responseType){case"arraybuffer":return Gn.pipe((0,ve.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return Gn.pipe((0,ve.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return Gn.pipe((0,ve.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return Gn.pipe((0,ve.U)(cn=>cn.body))}case"response":return Gn;default:throw new Error(`Unreachable: unhandled observe type ${gt.observe}}`)}}delete(Oe,St={}){return this.request("DELETE",Oe,St)}get(Oe,St={}){return this.request("GET",Oe,St)}head(Oe,St={}){return this.request("HEAD",Oe,St)}jsonp(Oe,St){return this.request("JSONP",Oe,{params:(new bt).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Oe,St={}){return this.request("OPTIONS",Oe,St)}patch(Oe,St,gt={}){return this.request("PATCH",Oe,ne(gt,St))}post(Oe,St,gt={}){return this.request("POST",Oe,ne(gt,St))}put(Oe,St,gt={}){return this.request("PUT",Oe,ne(gt,St))}}return je.\u0275fac=function(Oe){return new(Oe||je)(w.LFG(ue))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();function Ee(je,ge){return ge(je)}function Se(je,ge){return(Oe,St)=>ge.intercept(Oe,{handle:gt=>je(gt,St)})}const _e=new w.OlP("HTTP_INTERCEPTORS"),He=new w.OlP("HTTP_INTERCEPTOR_FNS");function Ce(){let je=null;return(ge,Oe)=>(null===je&&(je=((0,w.f3M)(_e,{optional:!0})??[]).reduceRight(Se,Ee)),je(ge,Oe))}let qe=(()=>{class je extends ue{constructor(Oe,St){super(),this.backend=Oe,this.injector=St,this.chain=null}handle(Oe){if(null===this.chain){const St=Array.from(new Set(this.injector.get(He)));this.chain=St.reduceRight((gt,fn)=>function pe(je,ge,Oe){return(St,gt)=>Oe.runInContext(()=>ge(St,fn=>je(fn,gt)))}(gt,fn,this.injector),Ee)}return this.chain(Oe,St=>this.backend.handle(St))}}return je.\u0275fac=function(Oe){return new(Oe||je)(w.LFG(xe),w.LFG(w.lqb))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();const Un=/^\)\]\}',?\n/;let ni=(()=>{class je{constructor(Oe){this.xhrFactory=Oe}handle(Oe){if("JSONP"===Oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new le.y(St=>{const gt=this.xhrFactory.build();if(gt.open(Oe.method,Oe.urlWithParams),Oe.withCredentials&&(gt.withCredentials=!0),Oe.headers.forEach((Me,Ae)=>gt.setRequestHeader(Me,Ae.join(","))),Oe.headers.has("Accept")||gt.setRequestHeader("Accept","application/json, text/plain, */*"),!Oe.headers.has("Content-Type")){const Me=Oe.detectContentTypeHeader();null!==Me&&gt.setRequestHeader("Content-Type",Me)}if(Oe.responseType){const Me=Oe.responseType.toLowerCase();gt.responseType="json"!==Me?Me:"text"}const fn=Oe.serializeBody();let Dn=null;const Gn=()=>{if(null!==Dn)return Dn;const Me=gt.statusText||"OK",Ae=new Pe(gt.getAllResponseHeaders()),ae=function an(je){return"responseURL"in je&&je.responseURL?je.responseURL:/^X-Request-URL:/m.test(je.getAllResponseHeaders())?je.getResponseHeader("X-Request-URL"):null}(gt)||Oe.url;return Dn=new Ot({headers:Ae,status:gt.status,statusText:Me,url:ae}),Dn},cn=()=>{let{headers:Me,status:Ae,statusText:ae,url:Ye}=Gn(),dt=null;204!==Ae&&(dt=typeof gt.response>"u"?gt.responseText:gt.response),0===Ae&&(Ae=dt?200:0);let we=Ae>=200&&Ae<300;if("json"===Oe.responseType&&"string"==typeof dt){const he=dt;dt=dt.replace(Un,"");try{dt=""!==dt?JSON.parse(dt):null}catch(ie){dt=he,we&&(we=!1,dt={error:ie,text:dt})}}we?(St.next(new qt({body:dt,headers:Me,status:Ae,statusText:ae,url:Ye||void 0})),St.complete()):St.error(new W({error:dt,headers:Me,status:Ae,statusText:ae,url:Ye||void 0}))},fi=Me=>{const{url:Ae}=Gn(),ae=new W({error:Me,status:gt.status||0,statusText:gt.statusText||"Unknown Error",url:Ae||void 0});St.error(ae)};let yi=!1;const Ln=Me=>{yi||(St.next(Gn()),yi=!0);let Ae={type:wt.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(Ae.total=Me.total),"text"===Oe.responseType&&gt.responseText&&(Ae.partialText=gt.responseText),St.next(Ae)},Jn=Me=>{let Ae={type:wt.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(Ae.total=Me.total),St.next(Ae)};return gt.addEventListener("load",cn),gt.addEventListener("error",fi),gt.addEventListener("timeout",fi),gt.addEventListener("abort",fi),Oe.reportProgress&&(gt.addEventListener("progress",Ln),null!==fn&&gt.upload&&gt.upload.addEventListener("progress",Jn)),gt.send(fn),St.next({type:wt.Sent}),()=>{gt.removeEventListener("error",fi),gt.removeEventListener("abort",fi),gt.removeEventListener("load",cn),gt.removeEventListener("timeout",fi),Oe.reportProgress&&(gt.removeEventListener("progress",Ln),null!==fn&&gt.upload&&gt.upload.removeEventListener("progress",Jn)),gt.readyState!==gt.DONE&&gt.abort()}})}}return je.\u0275fac=function(Oe){return new(Oe||je)(w.LFG(D.JF))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();const Wn=new w.OlP("XSRF_ENABLED"),Xt="XSRF-TOKEN",$i=new w.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Xt}),Hr="X-XSRF-TOKEN",si=new w.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Hr});class Ii{}let lr=(()=>{class je{constructor(Oe,St,gt){this.doc=Oe,this.platform=St,this.cookieName=gt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Oe=this.doc.cookie||"";return Oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(Oe,this.cookieName),this.lastCookieString=Oe),this.lastToken}}return je.\u0275fac=function(Oe){return new(Oe||je)(w.LFG(D.K0),w.LFG(w.Lbi),w.LFG($i))},je.\u0275prov=w.Yz7({token:je,factory:je.\u0275fac}),je})();function bn(je,ge){const Oe=je.url.toLowerCase();if(!(0,w.f3M)(Wn)||"GET"===je.method||"HEAD"===je.method||Oe.startsWith("http://")||Oe.startsWith("https://"))return ge(je);const St=(0,w.f3M)(Ii).getToken(),gt=(0,w.f3M)(si);return null!=St&&!je.headers.has(gt)&&(je=je.clone({headers:je.headers.set(gt,St)})),ge(je)}var Kt=(()=>((Kt=Kt||{})[Kt.Interceptors=0]="Interceptors",Kt[Kt.LegacyInterceptors=1]="LegacyInterceptors",Kt[Kt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Kt[Kt.NoXsrfProtection=3]="NoXsrfProtection",Kt[Kt.JsonpSupport=4]="JsonpSupport",Kt[Kt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Kt))();function Ri(je,ge){return{\u0275kind:je,\u0275providers:ge}}function hi(...je){const ge=[X,ni,qe,{provide:ue,useExisting:qe},{provide:xe,useExisting:ni},{provide:He,useValue:bn,multi:!0},{provide:Wn,useValue:!0},{provide:Ii,useClass:lr}];for(const Oe of je)ge.push(...Oe.\u0275providers);return(0,w.MR2)(ge)}const mn=new w.OlP("LEGACY_INTERCEPTOR_FN");function Ar({cookieName:je,headerName:ge}){const Oe=[];return void 0!==je&&Oe.push({provide:$i,useValue:je}),void 0!==ge&&Oe.push({provide:si,useValue:ge}),Ri(Kt.CustomXsrfConfiguration,Oe)}let Le=(()=>{class je{}return je.\u0275fac=function(Oe){return new(Oe||je)},je.\u0275mod=w.oAB({type:je}),je.\u0275inj=w.cJS({providers:[hi(Ri(Kt.LegacyInterceptors,[{provide:mn,useFactory:Ce},{provide:He,useExisting:mn,multi:!0}]),Ar({cookieName:Xt,headerName:Hr}))]}),je})()},4650:(At,Ne,F)=>{"use strict";F.d(Ne,{$8M:()=>ul,$WT:()=>Vr,$Z:()=>ef,AFp:()=>Xy,ALo:()=>py,AaK:()=>ue,CHM:()=>Ba,CRH:()=>Cy,CZH:()=>Sf,CqO:()=>Pm,D6c:()=>mw,EJc:()=>Pb,EiD:()=>gc,EpF:()=>Im,F$t:()=>km,F4k:()=>Rm,FYo:()=>Id,FiY:()=>dl,G48:()=>Qb,Gf:()=>wy,GfV:()=>Rd,Gpc:()=>Re,Hsn:()=>Bm,Ikx:()=>hg,JOm:()=>vo,JVY:()=>hd,JZr:()=>Tt,KtG:()=>So,L6k:()=>sp,LAX:()=>ap,LFG:()=>Fe,Lbi:()=>Ab,Lck:()=>CE,MAs:()=>Am,MMx:()=>bg,MR2:()=>pp,NdJ:()=>tg,OlP:()=>vi,Oqu:()=>ug,P3R:()=>wd,PXZ:()=>Yb,Q6J:()=>Kp,QGY:()=>eg,QbO:()=>Mb,Qsj:()=>xp,R0b:()=>Do,RDi:()=>io,Rgc:()=>xh,SBq:()=>il,Sil:()=>Fb,Suo:()=>Dy,TTD:()=>jr,TgZ:()=>pf,Udp:()=>ag,W1O:()=>Ay,WFA:()=>ng,XFs:()=>Xt,Xpm:()=>Ve,Xts:()=>Bu,Y36:()=>Pa,YKP:()=>ey,YNc:()=>Sm,Yjl:()=>Zr,Yz7:()=>Be,Z0I:()=>Yt,ZZ4:()=>Wg,_Bn:()=>J_,_UZ:()=>qp,_Vd:()=>Ml,_c5:()=>pw,_uU:()=>a_,aQg:()=>Yg,c2e:()=>Ib,cJS:()=>_t,cg1:()=>fg,d8E:()=>dg,dDg:()=>jb,dqk:()=>bn,eBb:()=>op,eFA:()=>av,ekj:()=>lg,eoX:()=>rv,evT:()=>Xu,f3M:()=>je,g9A:()=>Zy,h0i:()=>eu,hGG:()=>gw,hij:()=>yf,iGM:()=>by,ifc:()=>Ln,ip1:()=>Yy,jDz:()=>ny,kL8:()=>x_,lG2:()=>Kr,lcZ:()=>gy,lqb:()=>Ma,lri:()=>nv,mCW:()=>Sa,n5z:()=>iu,oAB:()=>An,oxw:()=>Nm,pB0:()=>dd,q3G:()=>zi,qLn:()=>Ia,qOj:()=>$l,qZA:()=>gf,qzn:()=>el,rWj:()=>iv,sBO:()=>Jb,s_b:()=>Cf,soG:()=>Af,tBr:()=>$a,tb:()=>qy,tp0:()=>fl,uIk:()=>Xp,vHH:()=>Ze,vpe:()=>ha,wAp:()=>Rn,xp6:()=>Gd,z2F:()=>Mf,z3N:()=>ko,zSh:()=>Ec,zs3:()=>rl});var D=F(7579),w=F(727),ce=F(9751),le=F(6451),se=F(3099);function ee(t){for(let i in t)if(t[i]===ee)return i;throw Error("Could not find renamed property on target object.")}function ve(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function ue(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ue).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function xe(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Pe=ee({__forward_ref__:ee});function Re(t){return t.__forward_ref__=Re,t.toString=function(){return ue(this())},t}function Ie(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(Pe)&&t.__forward_ref__===Re}function $e(t){return t&&!!t.\u0275providers}const Tt="https://g.co/ng/security#xss";class Ze extends Error{constructor(i,s){super(function bt(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}(i,s)),this.code=i}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function ke(t,i){throw new Ze(-201,!1)}function He(t,i){null==t&&function Ce(t,i,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function Be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gt(t){return dn(t,Un)||dn(t,ni)}function Yt(t){return null!==Gt(t)}function dn(t,i){return t.hasOwnProperty(i)?t[i]:null}function xt(t){return t&&(t.hasOwnProperty(an)||t.hasOwnProperty(Wn))?t[an]:null}const Un=ee({\u0275prov:ee}),an=ee({\u0275inj:ee}),ni=ee({ngInjectableDef:ee}),Wn=ee({ngInjectorDef:ee});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let $i;function si(t){const i=$i;return $i=t,i}function Ii(t,i,s){const a=Gt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Xt.Optional?null:void 0!==i?i:void ke(ue(t))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hi={},di="__NG_DI_FLAG__",mn="ngTempTokenPath",Ar=/\n/gm,Gr="__source";let Pn;function Lt(t){const i=Pn;return Pn=t,i}function Le(t,i=Xt.Default){if(void 0===Pn)throw new Ze(-203,!1);return null===Pn?Ii(t,void 0,i):Pn.get(t,i&Xt.Optional?null:void 0,i)}function Fe(t,i=Xt.Default){return(function Hr(){return $i}()||Le)(Ie(t),i)}function je(t,i=Xt.Default){return Fe(t,ge(i))}function ge(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Oe(t){const i=[];for(let s=0;s<t.length;s++){const a=Ie(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ze(900,!1);let c,h=Xt.Default;for(let p=0;p<a.length;p++){const b=a[p],S=gt(b);"number"==typeof S?-1===S?c=b.token:h|=S:c=b}i.push(Fe(c,h))}else i.push(Fe(a))}return i}function St(t,i){return t[di]=i,t.prototype[di]=i,t}function gt(t){return t[di]}function Gn(t){return{toString:t}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),Ln=(()=>{return(t=Ln||(Ln={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ln;var t})();const Jn={},Me=[],Ae=ee({\u0275cmp:ee}),ae=ee({\u0275dir:ee}),Ye=ee({\u0275pipe:ee}),dt=ee({\u0275mod:ee}),we=ee({\u0275fac:ee}),he=ee({__NG_ELEMENT_ID__:ee});let ie=0;function Ve(t){return Gn(()=>{const s=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Me,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ln.Emulated,id:"c"+ie++,styles:t.styles||Me,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=t.dependencies,p=t.features;return c.inputs=oi(t.inputs,a),c.outputs=oi(t.outputs),p&&p.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Nt).filter(on):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(Wi).filter(on):null,c})}function Nt(t){return qn(t)||bi(t)}function on(t){return null!==t}function An(t){return Gn(()=>({type:t.type,bootstrap:t.bootstrap||Me,declarations:t.declarations||Me,imports:t.imports||Me,exports:t.exports||Me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function oi(t,i){if(null==t)return Jn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,i&&(i[c]=h)}return s}const Kr=Ve;function Zr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qn(t){return t[Ae]||null}function bi(t){return t[ae]||null}function Wi(t){return t[Ye]||null}function Vr(t){const i=qn(t)||bi(t)||Wi(t);return null!==i&&i.standalone}function Ji(t,i){const s=t[dt]||null;if(!s&&!0===i)throw new Error(`Type ${ue(t)} does not have '\u0275mod' property.`);return s}function hr(t){return Array.isArray(t)&&"object"==typeof t[1]}function dr(t){return Array.isArray(t)&&!0===t[1]}function Fr(t){return 0!=(4&t.flags)}function qr(t){return t.componentOffset>-1}function fr(t){return 1==(1&t.flags)}function Hi(t){return null!==t.template}function js(t){return 0!=(256&t[2])}function ls(t,i){return t.hasOwnProperty(we)?t[we]:null}class Gi{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function jr(){return zr}function zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=To),Xs}function Xs(){const t=Fs(this),i=t?.current;if(i){const s=t.previous;if(s===Jn)t.previous=i;else for(let a in i)s[a]=i[a];t.current=null,this.ngOnChanges(i)}}function To(t,i,s,a){const c=this.declaredInputs[s],h=Fs(t)||function co(t,i){return t[Os]=i}(t,{previous:Jn,current:null}),p=h.current||(h.current={}),b=h.previous,S=b[c];p[c]=new Gi(S&&S.currentValue,i,b===Jn),t[a]=i}jr.ngInherit=!0;const Os="__ngSimpleChanges__";function Fs(t){return t[Os]||null}function Oi(t){for(;Array.isArray(t);)t=t[0];return t}function pr(t,i){return Oi(i[t])}function ai(t,i){return Oi(i[t.index])}function I(t,i){return t.data[i]}function E(t,i){return t[i]}function N(t,i){const s=i[t];return hr(s)?s:s[0]}function be(t){return 64==(64&t[2])}function ft(t,i){return null==i?null:t[i]}function kt(t){t[18]=0}function en(t,i){t[5]+=i;let s=t,a=t[3];for(;null!==a&&(1===i&&1===s[5]||-1===i&&0===s[5]);)a[5]+=i,s=a,a=a[3]}const Mt={lFrame:U(null),bindingsEnabled:!0};function cs(){return Mt.bindingsEnabled}function ut(){return Mt.lFrame.lView}function ei(){return Mt.lFrame.tView}function Ba(t){return Mt.lFrame.contextLView=t,t[8]}function So(t){return Mt.lFrame.contextLView=null,t}function Li(){let t=ws();for(;null!==t&&64===t.type;)t=t.parent;return t}function ws(){return Mt.lFrame.currentTNode}function wr(t,i){const s=Mt.lFrame;s.currentTNode=t,s.isParent=i}function Zs(){return Mt.lFrame.isParent}function Ao(){Mt.lFrame.isParent=!1}function $r(){return Mt.lFrame.bindingIndex++}function Wr(t,i){const s=Mt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ds(i)}function Ds(t){Mt.lFrame.currentDirectiveIndex=t}function qs(t){const i=Mt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function gr(){return Mt.lFrame.currentQueryIndex}function er(t){Mt.lFrame.currentQueryIndex=t}function Mo(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function pa(t,i,s){if(s&Xt.SkipSelf){let c=i,h=t;for(;!(c=c.parent,null!==c||s&Xt.Host||(c=Mo(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,t=h}const a=Mt.lFrame=po();return a.currentTNode=i,a.lView=t,!0}function es(t){const i=po(),s=t[1];Mt.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function po(){const t=Mt.lFrame,i=null===t?null:t.child;return null===i?U(t):i}function U(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function g(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _=g;function R(){const t=g();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function De(){return Mt.lFrame.selectedIndex}function re(t){Mt.lFrame.selectedIndex=t}function We(){const t=Mt.lFrame;return I(t.tView,t.selectedIndex)}function xn(t,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:z}=h;p&&(t.contentHooks||(t.contentHooks=[])).push(-s,p),b&&((t.contentHooks||(t.contentHooks=[])).push(s,b),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,b)),S&&(t.viewHooks||(t.viewHooks=[])).push(-s,S),k&&((t.viewHooks||(t.viewHooks=[])).push(s,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,k)),null!=z&&(t.destroyHooks||(t.destroyHooks=[])).push(s,z)}}function C(t,i,s){V(t,i,3,s)}function L(t,i,s,a){(3&t[2])===s&&V(t,i,s,a)}function M(t,i){let s=t[2];(3&s)===i&&(s&=2047,s+=1,t[2]=s)}function V(t,i,s,a){const h=a??-1,p=i.length-1;let b=0;for(let S=void 0!==a?65535&t[18]:0;S<p;S++)if("number"==typeof i[S+1]){if(b=i[S],null!=a&&b>=a)break}else i[S]<0&&(t[18]+=65536),(b<h||-1==h)&&(fe(t,s,i,S),t[18]=(4294901760&t[18])+S+2),S++}function fe(t,i,s,a){const c=s[a]<0,h=s[a+1],b=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{h.call(b)}finally{}}}else try{h.call(b)}finally{}}class lt{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Yr(t,i,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],p=s[a++],b=s[a++];t.setAttribute(i,p,b,h)}else{const h=c,p=s[++a];nn(h)?t.setProperty(i,h,p):t.setAttribute(i,h,p),a++}}return a}function Ft(t){return 3===t||4===t||6===t}function nn(t){return 64===t.charCodeAt(0)}function un(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const c=i[a];"number"==typeof c?s=c:0===s||Vn(t,s,c,null,-1===s||2===s?i[++a]:null)}}return t}function Vn(t,i,s,a,c){let h=0,p=t.length;if(-1===i)p=-1;else for(;h<t.length;){const b=t[h++];if("number"==typeof b){if(b===i){p=-1;break}if(b>i){p=h-1;break}}}for(;h<t.length;){const b=t[h];if("number"==typeof b)break;if(b===s){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==p&&(t.splice(p,0,i),h=p+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function wi(t){return-1!==t}function Xi(t){return 32767&t}function Ki(t,i){let s=function mr(t){return t>>16}(t),a=i;for(;s>0;)a=a[15],s--;return a}let mi=!0;function Ns(t){const i=mi;return mi=t,i}let On=0;const Zi={};function Ko(t,i){const s=Io(t,i);if(-1!==s)return s;const a=i[1];a.firstCreatePass&&(t.injectorIndex=i.length,Zo(a.data,t),Zo(i,null),Zo(a.blueprint,null));const c=ga(t,i),h=t.injectorIndex;if(wi(c)){const p=Xi(c),b=Ki(c,i),S=b[1].data;for(let k=0;k<8;k++)i[h+k]=b[p+k]|S[p+k]}return i[h+8]=c,h}function Zo(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Io(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function ga(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=i;for(;null!==c;){if(a=Ga(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function xi(t,i,s){!function jn(t,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(he)&&(a=s[he]),null==a&&(a=s[he]=On++);const c=255&a;i.data[t+(c>>5)]|=1<<c}(t,i,s)}function qi(t,i,s){if(s&Xt.Optional||void 0!==t)return t;ke()}function go(t,i,s,a){if(s&Xt.Optional&&void 0===a&&(a=null),!(s&(Xt.Self|Xt.Host))){const c=t[9],h=si(void 0);try{return c?c.get(i,a,s&Xt.Optional):Ii(i,a,s&Xt.Optional)}finally{si(h)}}return qi(a,0,s)}function Cs(t,i,s,a=Xt.Default,c){if(null!==t){if(1024&i[2]){const p=function Po(t,i,s,a,c){let h=t,p=i;for(;null!==h&&null!==p&&1024&p[2]&&!(256&p[2]);){const b=Ha(h,p,s,a|Xt.Self,Zi);if(b!==Zi)return b;let S=h.parent;if(!S){const k=p[21];if(k){const z=k.get(s,Zi,a);if(z!==Zi)return z}S=Ga(p),p=p[15]}h=S}return c}(t,i,s,a,Zi);if(p!==Zi)return p}const h=Ha(t,i,s,a,Zi);if(h!==Zi)return h}return go(i,s,a,c)}function Ha(t,i,s,a,c){const h=function Vi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(he)?t[he]:void 0;return"number"==typeof i?i>=0?255&i:Qo:i}(s);if("function"==typeof h){if(!pa(i,t,a))return a&Xt.Host?qi(c,0,a):go(i,s,a,c);try{const p=h(a);if(null!=p||a&Xt.Optional)return p;ke()}finally{_()}}else if("number"==typeof h){let p=null,b=Io(t,i),S=-1,k=a&Xt.Host?i[16][6]:null;for((-1===b||a&Xt.SkipSelf)&&(S=-1===b?ga(t,i):i[b+8],-1!==S&&ma(a,!1)?(p=i[1],b=Xi(S),i=Ki(S,i)):b=-1);-1!==b;){const z=i[1];if(Qs(h,b,z.data)){const de=Ql(b,i,s,p,a,k);if(de!==Zi)return de}S=i[b+8],-1!==S&&ma(a,i[1].data[b+8]===k)&&Qs(h,b,i)?(p=z,b=Xi(S),i=Ki(S,i)):b=-1}}return c}function Ql(t,i,s,a,c,h){const p=i[1],b=p.data[t+8],z=mo(b,p,s,null==a?qr(b)&&mi:a!=p&&0!=(3&b.type),c&Xt.Host&&h===b);return null!==z?qo(i,p,z,b):Zi}function mo(t,i,s,a,c){const h=t.providerIndexes,p=i.data,b=1048575&h,S=t.directiveStart,z=h>>20,Ue=c?b+z:t.directiveEnd;for(let tt=a?b:b+z;tt<Ue;tt++){const Et=p[tt];if(tt<S&&s===Et||tt>=S&&Et.type===s)return tt}if(c){const tt=p[S];if(tt&&Hi(tt)&&tt.type===s)return S}return null}function qo(t,i,s,a){let c=t[s];const h=i.data;if(function Vt(t){return t instanceof lt}(c)){const p=c;p.resolving&&function Ke(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}(h[s]));const b=Ns(p.canSeeViewProviders);p.resolving=!0;const S=p.injectImpl?si(p.injectImpl):null;pa(t,a,Xt.Default);try{c=t[s]=p.factory(void 0,h,t,a),i.firstCreatePass&&s>=a.directiveStart&&function Cn(t,i,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(a){const p=zr(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,p)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],i)}finally{null!==S&&si(S),Ns(b),p.resolving=!1,_()}}return c}function Qs(t,i,s){return!!(s[i+(t>>5)]&1<<t)}function ma(t,i){return!(t&Xt.Self||t&Xt.Host&&i)}class ks{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Cs(this._tNode,this._lView,i,ge(a),s)}}function Qo(){return new ks(Li(),ut())}function iu(t){return Gn(()=>{const i=t.prototype.constructor,s=i[we]||Js(i),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[we]||Js(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Js(t){return ot(t)?()=>{const i=Js(Ie(t));return i&&i()}:ls(t)}function Ga(t){const i=t[1],s=i.type;return 2===s?i.declTNode:1===s?t[6]:null}function ul(t){return function Ro(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Ft(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Li(),t)}const _o="__parameters__";function ta(t,i,s){return Gn(()=>{const a=function _a(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(i);function c(...h){if(this instanceof c)return a.apply(this,h),this;const p=new c(...h);return b.annotation=p,b;function b(S,k,z){const de=S.hasOwnProperty(_o)?S[_o]:Object.defineProperty(S,_o,{value:[]})[_o];for(;de.length<=z;)de.push(null);return(de[z]=de[z]||[]).push(p),S}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class vi{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Be({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Lo(t,i){t.forEach(s=>Array.isArray(s)?Lo(s,i):i(s))}function Ts(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function m(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function v(t,i){const s=[];for(let a=0;a<t;a++)s.push(i);return s}function $(t,i,s){let a=mt(t,i);return a>=0?t[1|a]=s:(a=~a,function P(t,i,s,a){let c=t.length;if(c==i)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>i;)t[c]=t[c-2],c--;t[i]=s,t[i+1]=a}}(t,a,i,s)),a}function ze(t,i){const s=mt(t,i);if(s>=0)return t[1|s]}function mt(t,i){return function Qt(t,i,s){let a=0,c=t.length>>s;for(;c!==a;){const h=a+(c-a>>1),p=t[h<<s];if(i===p)return h<<s;p>i?c=h:a=h+1}return~(c<<s)}(t,i,1)}const $a=St(ta("Inject",t=>({token:t})),-1),dl=St(ta("Optional"),8),fl=St(ta("SkipSelf"),4);var vo=(()=>((vo=vo||{})[vo.Important=1]="Important",vo[vo.DashCase=2]="DashCase",vo))();const pu=new Map;let nc=0;const mu="__ngContext__";function Sr(t,i){hr(i)?(t[mu]=i[20],function $h(t){pu.set(t[20],t)}(i)):t[mu]=i}function ar(t,i){return undefined(t,i)}function Ka(t){const i=t[3];return dr(i)?i[3]:i}function Eu(t){return wu(t[13])}function bu(t){return wu(t[4])}function wu(t){for(;null!==t&&!dr(t);)t=t[4];return t}function Da(t,i,s,a,c){if(null!=a){let h,p=!1;dr(a)?h=a:hr(a)&&(p=!0,a=a[0]);const b=Oi(a);0===t&&null!==s?null==c?ji(i,s,b):Eo(i,s,b,c||null,!0):1===t&&null!==s?Eo(i,s,b,c||null,!0):2===t?function Au(t,i,s){const a=qa(t,i);a&&function Zf(t,i,s,a){t.removeChild(i,s,a)}(t,a,i,s)}(i,b,p):3===t&&i.destroyNode(b),null!=h&&function qf(t,i,s,a,c){const h=s[7];h!==Oi(s)&&Da(i,t,a,h,c);for(let b=10;b<s.length;b++){const S=s[b];bl(S[1],S,t,i,a,h)}}(i,t,h,s,c)}}function yl(t,i,s){return t.createElement(i,s)}function Nn(t,i){const s=t[9],a=s.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,en(c,-1)),s.splice(a,1)}function na(t,i){if(t.length<=10)return;const s=10+i,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&Nn(c,a),i>0&&(t[s-1][4]=a[4]);const h=m(t,10+i);!function Za(t,i){bl(t,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const p=h[19];null!==p&&p.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function El(t,i){if(!(128&i[2])){const s=i[11];s.destroyNode&&bl(t,i,s,3,null,null),function Yf(t){let i=t[13];if(!i)return Ca(t[1],t);for(;i;){let s=null;if(hr(i))s=i[13];else{const a=i[10];a&&(s=a)}if(!s){for(;i&&!i[4]&&i!==t;)hr(i)&&Ca(i[1],i),i=i[3];null===i&&(i=t),hr(i)&&Ca(i[1],i),s=i&&i[4]}i=s}}(i)}}function Ca(t,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Tu(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=i[s[a]];if(!(c instanceof lt)){const h=s[a+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const b=c[h[p]],S=h[p+1];try{S.call(b)}finally{}}else try{h.call(c)}finally{}}}}(t,i),function xu(t,i){const s=t.cleanup,a=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const p=s[h+3];p>=0?a[c=p]():a[c=-p].unsubscribe(),h+=2}else{const p=a[c=s[h+1]];s[h].call(p)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();i[7]=null}}(t,i),1===i[1].type&&i[11].destroy();const s=i[17];if(null!==s&&dr(i[3])){s!==i[3]&&Nn(s,i);const a=i[19];null!==a&&a.detachView(t)}!function Gf(t){pu.delete(t[20])}(i)}}function Xf(t,i,s){return function Kf(t,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[0];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===Ln.None||h===Ln.Emulated)return null}return ai(a,s)}}(t,i.parent,s)}function Eo(t,i,s,a,c){t.insertBefore(i,s,a,c)}function ji(t,i,s){t.appendChild(i,s)}function ed(t,i,s,a,c){null!==a?Eo(t,i,s,a,c):ji(t,i,s)}function qa(t,i){return t.parentNode(i)}function Qa(t,i,s){return No(t,i,s)}let ac,Ja,cc,No=function td(t,i,s){return 40&t.type?ai(t,s):null};function sc(t,i,s,a){const c=Xf(t,a,i),h=i[11],b=Qa(a.parent||i[6],a,i);if(null!=c)if(Array.isArray(s))for(let S=0;S<s.length;S++)ed(h,c,s[S],b,!1);else ed(h,c,s,b,!1)}function oc(t,i){if(null!==i){const s=i.type;if(3&s)return ai(i,t);if(4&s)return Su(-1,t[i.index]);if(8&s){const a=i.child;if(null!==a)return oc(t,a);{const c=t[i.index];return dr(c)?Su(-1,c):Oi(c)}}if(32&s)return ar(i,t)()||Oi(t[i.index]);{const a=id(t,i);return null!==a?Array.isArray(a)?a[0]:oc(Ka(t[16]),a):oc(t,i.next)}}return null}function id(t,i){return null!==i?t[16][6].projection[i.projection]:null}function Su(t,i){const s=10+t+1;if(s<i.length){const a=i[s],c=a[1].firstChild;if(null!==c)return oc(a,c)}return i[7]}function Mu(t,i,s,a,c,h,p){for(;null!=s;){const b=a[s.index],S=s.type;if(p&&0===i&&(b&&Sr(Oi(b),a),s.flags|=2),32!=(32&s.flags))if(8&S)Mu(t,i,s.child,a,c,h,!1),Da(i,t,c,b,h);else if(32&S){const k=ar(s,a);let z;for(;z=k();)Da(i,t,c,z,h);Da(i,t,c,b,h)}else 16&S?rd(t,i,a,s,c,h):Da(i,t,c,b,h);s=p?s.projectionNext:s.next}}function bl(t,i,s,a,c,h){Mu(s,a,t.firstChild,i,c,h,!1)}function rd(t,i,s,a,c,h){const p=s[16],S=p[6].projection[a.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)Da(i,t,c,S[k],h);else Mu(t,i,S,p[3],c,h,!0)}function sd(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function od(t,i,s){const{mergedAttrs:a,classes:c,styles:h}=s;null!==a&&Yr(t,i,a),null!==c&&sd(t,i,c),null!==h&&function Qf(t,i,s){t.setAttribute(i,"style",s)}(t,i,h)}function xa(t){return function Pu(){if(void 0===ac&&(ac=null,bn.trustedTypes))try{ac=bn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ac}()?.createHTML(t)||t}function io(t){Ja=t}function ld(t){return function Ou(){if(void 0===cc&&(cc=null,bn.trustedTypes))try{cc=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cc}()?.createScriptURL(t)||t}class Ta{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tt})`}}class cd extends Ta{getTypeName(){return"HTML"}}class np extends Ta{getTypeName(){return"Style"}}class ip extends Ta{getTypeName(){return"Script"}}class rp extends Ta{getTypeName(){return"URL"}}class hc extends Ta{getTypeName(){return"ResourceURL"}}function ko(t){return t instanceof Ta?t.changingThisBreaksApplicationSecurity:t}function el(t,i){const s=function ud(t){return t instanceof Ta&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Tt})`)}return s===i}function hd(t){return new cd(t)}function sp(t){return new np(t)}function op(t){return new ip(t)}function ap(t){return new rp(t)}function dd(t){return new hc(t)}class Fu{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(xa(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class fd{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=xa(i),s;const a=this.inertDocument.createElement("body");return a.innerHTML=xa(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const s=i.attributes;for(let c=s.length-1;0<c;c--){const p=s.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&i.removeAttribute(p)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const lp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Sa(t){return(t=String(t)).match(lp)?t:"unsafe:"+t}function kr(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function Dl(...t){const i={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(i[a]=!0);return i}const tl=kr("area,br,col,hr,img,wbr"),Cl=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gd=kr("rp,rt"),fc=Dl(tl,Dl(Cl,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dl(gd,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dl(gd,Cl)),Lu=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),md=Dl(Lu,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cp=kr("script,style,template");class _d{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!fc.hasOwnProperty(s))return this.sanitizedSomething=!0,!cp.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=i.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),p=h.name,b=p.toLowerCase();if(!md.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let S=h.value;Lu[b]&&(S=Sa(S)),this.buf.push(" ",p,'="',yd(S),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();fc.hasOwnProperty(s)&&!tl.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(yd(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rm=/([^\#-~ |!])/g;function yd(t){return t.replace(/&/g,"&amp;").replace(Nu,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(rm,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pc;function gc(t,i){let s=null;try{pc=pc||function dc(t){const i=new fd(t);return function pd(){try{return!!(new window.DOMParser).parseFromString(xa(""),"text/html")}catch{return!1}}()?new Fu(i):i}(t);let a=i?String(i):"";s=pc.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=s.innerHTML,s=pc.getInertBodyElement(a)}while(a!==h);return xa((new _d).sanitizeChildren(ku(s)||s))}finally{if(s){const a=ku(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ku(t){return"content"in t&&function vd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var zi=(()=>((zi=zi||{})[zi.NONE=0]="NONE",zi[zi.HTML=1]="HTML",zi[zi.STYLE=2]="STYLE",zi[zi.SCRIPT=3]="SCRIPT",zi[zi.URL=4]="URL",zi[zi.RESOURCE_URL=5]="RESOURCE_URL",zi))();function Ed(t){const i=Tl();return i?i.sanitize(zi.URL,t)||"":el(t,"URL")?ko(t):Sa(at(t))}function mc(t){const i=Tl();if(i)return ld(i.sanitize(zi.RESOURCE_URL,t)||"");if(el(t,"ResourceURL"))return ld(ko(t));throw new Ze(904,!1)}function wd(t,i,s){return function fp(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?mc:Ed}(i,s)(t)}function Tl(){const t=ut();return t&&t[12]}const Bu=new vi("ENVIRONMENT_INITIALIZER"),Dd=new vi("INJECTOR",-1),Uu=new vi("INJECTOR_DEF_TYPES");class Cd{get(i,s=hi){if(s===hi){const a=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw a.name="NullInjectorError",a}return s}}function pp(t){return{\u0275providers:t}}function Hu(...t){return{\u0275providers:fs(0,t),\u0275fromNgModule:!0}}function fs(t,...i){const s=[],a=new Set;let c;return Lo(i,h=>{const p=h;ro(p,s,[],a)&&(c||(c=[]),c.push(p))}),void 0!==c&&Sl(c,s),s}function Sl(t,i){for(let s=0;s<t.length;s++){const{providers:c}=t[s];yc(c,h=>{i.push(h)})}}function ro(t,i,s,a){if(!(t=Ie(t)))return!1;let c=null,h=xt(t);const p=!h&&qn(t);if(h||p){if(p&&!p.standalone)return!1;c=t}else{const S=t.ngModule;if(h=xt(S),!h)return!1;c=S}const b=a.has(c);if(p){if(b)return!1;if(a.add(c),p.dependencies){const S="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const k of S)ro(k,i,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let k;a.add(c);try{Lo(h.imports,z=>{ro(z,i,s,a)&&(k||(k=[]),k.push(z))})}finally{}void 0!==k&&Sl(k,i)}if(!b){const k=ls(c)||(()=>new c);i.push({provide:c,useFactory:k,deps:Me},{provide:Uu,useValue:c,multi:!0},{provide:Bu,useValue:()=>Fe(c),multi:!0})}const S=h.providers;null==S||b||yc(S,z=>{i.push(z)})}}return c!==t&&void 0!==t.providers}function yc(t,i){for(let s of t)$e(s)&&(s=s.\u0275providers),Array.isArray(s)?yc(s,i):i(s)}const gp=ee({provide:String,useValue:ee});function Gu(t){return null!==t&&"object"==typeof t&&gp in t}function bo(t){return"function"==typeof t}const Ec=new vi("Set Injector scope."),bc={},wc={};let Vu;function Aa(){return void 0===Vu&&(Vu=new Cd),Vu}class Ma{}class xd extends Ma{get destroyed(){return this._destroyed}constructor(i,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zu(i,p=>this.processProvider(p)),this.records.set(Dd,nl(void 0,this)),c.has("environment")&&this.records.set(Ma,nl(void 0,this));const h=this.records.get(Ec);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Uu.multi,Me,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Lt(this),a=si(void 0);try{return i()}finally{Lt(s),si(a)}}get(i,s=hi,a=Xt.Default){this.assertNotDestroyed(),a=ge(a);const c=Lt(this),h=si(void 0);try{if(!(a&Xt.SkipSelf)){let b=this.records.get(i);if(void 0===b){const S=function bp(t){return"function"==typeof t||"object"==typeof t&&t instanceof vi}(i)&&Gt(i);b=S&&this.injectableDefInScope(S)?nl(ju(i),bc):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(a&Xt.Self?Aa():this.parent).get(i,s=a&Xt.Optional&&s===hi?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[mn]=p[mn]||[]).unshift(ue(i)),c)throw p;return function fn(t,i,s,a){const c=t[mn];throw i[Gr]&&c.unshift(i[Gr]),t.message=function Dn(t,i,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=ue(i);if(Array.isArray(i))c=i.map(ue).join(" -> ");else if("object"==typeof i){let h=[];for(let p in i)if(i.hasOwnProperty(p)){let b=i[p];h.push(p+":"+("string"==typeof b?JSON.stringify(b):ue(b)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Ar,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[mn]=null,t}(p,i,"R3InjectorError",this.source)}throw p}finally{si(h),Lt(c)}}resolveInjectorInitializers(){const i=Lt(this),s=si(void 0);try{const a=this.get(Bu.multi,Me,Xt.Self);for(const c of a)c()}finally{Lt(i),si(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(ue(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(i){let s=bo(i=Ie(i))?i:Ie(i&&i.provide);const a=function yp(t){return Gu(t)?nl(void 0,t.useValue):nl(Td(t),bc)}(i);if(bo(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=nl(void 0,bc,!0),c.factory=()=>Oe(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===bc&&(s.value=wc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ep(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ie(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function ju(t){const i=Gt(t),s=null!==i?i.factory:ls(t);if(null!==s)return s;if(t instanceof vi)throw new Ze(204,!1);if(t instanceof Function)return function _p(t){const i=t.length;if(i>0)throw v(i,"?"),new Ze(204,!1);const s=function _n(t){const i=t&&(t[Un]||t[ni]);if(i){const s=function zt(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ze(204,!1)}function Td(t,i,s){let a;if(bo(t)){const c=Ie(t);return ls(c)||ju(c)}if(Gu(t))a=()=>Ie(t.useValue);else if(function vc(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Oe(t.deps||[]));else if(function ia(t){return!(!t||!t.useExisting)}(t))a=()=>Fe(Ie(t.useExisting));else{const c=Ie(t&&(t.useClass||t.provide));if(!function vp(t){return!!t.deps}(t))return ls(c)||ju(c);a=()=>new c(...Oe(t.deps))}return a}function nl(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function zu(t,i){for(const s of t)Array.isArray(s)?zu(s,i):s&&$e(s)?zu(s.\u0275providers,i):i(s)}class wp{}class Sd{}class Md{resolveComponentFactory(i){throw function Dp(t){const i=Error(`No component factory found for ${ue(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let Ml=(()=>{class t{}return t.NULL=new Md,t})();function so(){return ra(Li(),ut())}function ra(t,i){return new il(ai(t,i))}let il=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=so,t})();function Cp(t){return t instanceof il?t.nativeElement:t}class Id{}let xp=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Tp(){const t=ut(),s=N(Li().index,t);return(hr(s)?s:t)[11]}(),t})(),Sp=(()=>{class t{}return t.\u0275prov=Be({token:t,providedIn:"root",factory:()=>null}),t})();class Rd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ap=new Rd("15.1.2"),$u={};function Dc(t){return t.ngOriginalError}class Ia{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Dc(i);for(;s&&Dc(s);)s=Dc(s);return s||null}}function Xu(t){return t.ownerDocument}function ps(t){return t instanceof Function?t():t}function Nd(t,i,s){let a=t.length;for(;;){const c=t.indexOf(i,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=i.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}s=c+1}}const Cc="ng-template";function xc(t,i,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==Nd(c.toLowerCase(),i,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Rl(t){return 4===t.type&&t.value!==Cc}function qu(t,i,s){return i===(4!==t.type||s?t.value:Cc)}function Pl(t,i,s){let a=4;const c=t.attrs||[],h=function Ud(t){for(let i=0;i<t.length;i++)if(Ft(t[i]))return i;return t.length}(c);let p=!1;for(let b=0;b<i.length;b++){const S=i[b];if("number"!=typeof S){if(!p)if(4&a){if(a=2|1&a,""!==S&&!qu(t,S,s)||""===S&&1===i.length){if(gs(a))return!1;p=!0}}else{const k=8&a?S:i[++b];if(8&a&&null!==t.attrs){if(!xc(t.attrs,k,s)){if(gs(a))return!1;p=!0}continue}const de=kd(8&a?"class":S,c,Rl(t),s);if(-1===de){if(gs(a))return!1;p=!0;continue}if(""!==k){let Ue;Ue=de>h?"":c[de+1].toLowerCase();const tt=8&a?Ue:null;if(tt&&-1!==Nd(tt,k,0)||2&a&&k!==Ue){if(gs(a))return!1;p=!0}}}}else{if(!p&&!gs(a)&&!gs(S))return!1;if(p&&gs(S))continue;p=!1,a=S|1&a}}return gs(a)||p}function gs(t){return 0==(1&t)}function kd(t,i,s,a){if(null===i)return-1;let c=0;if(a||!s){let h=!1;for(;c<i.length;){const p=i[c];if(p===t)return c;if(3===p||6===p)h=!0;else{if(1===p||2===p){let b=i[++c];for(;"string"==typeof b;)b=i[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=h?1:2}return-1}return function Tc(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,t)}function Ra(t,i,s=!1){for(let a=0;a<i.length;a++)if(Pl(t,i[a],s))return!0;return!1}function Qu(t,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Hd(t,i){return t?":not("+i.trim()+")":i}function Ju(t){let i=t[0],s=1,a=2,c="",h=!1;for(;s<t.length;){let p=t[s];if("string"==typeof p)if(2&a){const b=t[++s];c+="["+p+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?c+="."+p:4&a&&(c+=" "+p);else""!==c&&!gs(p)&&(i+=Hd(h,c),c=""),a=p,h=h||!gs(a);s++}return""!==c&&(i+=Hd(h,c)),i}const zn={};function Gd(t){Mc(ei(),ut(),De()+t,!1)}function Mc(t,i,s,a){if(!a)if(3==(3&i[2])){const h=t.preOrderCheckHooks;null!==h&&C(i,h,s)}else{const h=t.preOrderHooks;null!==h&&L(i,h,0,s)}re(s)}function Rp(t,i=null,s=null,a){const c=Ol(t,i,s,a);return c.resolveInjectorInitializers(),c}function Ol(t,i=null,s=null,a,c=new Set){const h=[s||Me,Hu(t)];return a=a||("object"==typeof t?void 0:ue(t)),new xd(h,i||Aa(),a||null,c)}let rl=(()=>{class t{static create(s,a){if(Array.isArray(s))return Rp({name:""},a,s,"");{const c=s.name??"";return Rp({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=hi,t.NULL=new Cd,t.\u0275prov=Be({token:t,providedIn:"any",factory:()=>Fe(Dd)}),t.__NG_ELEMENT_ID__=-1,t})();function Pa(t,i=Xt.Default){const s=ut();return null===s?Fe(t,i):Cs(Li(),s,Ie(t),i)}function ef(){throw new Error("invalid")}function ch(t,i){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const p=t.data[h];er(s[a]),p.contentQueries(2,i[h],h)}}}function ol(t,i,s,a,c,h,p,b,S,k,z){const de=i.blueprint.slice();return de[0]=c,de[2]=76|a,(null!==z||t&&1024&t[2])&&(de[2]|=1024),kt(de),de[3]=de[15]=t,de[8]=s,de[10]=p||t&&t[10],de[11]=b||t&&t[11],de[12]=S||t&&t[12]||null,de[9]=k||t&&t[9]||null,de[6]=h,de[20]=function zh(){return nc++}(),de[21]=z,de[16]=2==i.type?t[16]:de,de}function al(t,i,s,a,c){let h=t.data[i];if(null===h)h=function uh(t,i,s,a,c){const h=ws(),p=Zs(),S=t.data[i]=function hh(t,i,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,s,i,a,c);return null===t.firstChild&&(t.firstChild=S),null!==h&&(p?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S)),S}(t,i,s,a,c),function us(){return Mt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const p=function ho(){const t=Mt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return wr(h,!0),h}function Bl(t,i,s,a){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(a),t.blueprint.push(a),t.data.push(null);return c}function Pc(t,i,s){es(i);try{const a=t.viewQuery;null!==a&&It(1,a,s);const c=t.template;null!==c&&Ul(t,i,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ch(t,i),t.staticViewQueries&&It(2,t.viewQuery,s);const h=t.components;null!==h&&function kl(t,i){for(let s=0;s<i.length;s++)Y(t,i[s])}(i,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[2]&=-5,R()}}function Oc(t,i,s,a){const c=i[2];if(128!=(128&c)){es(i);try{kt(i),function Jr(t){return Mt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Ul(t,i,s,2,a);const p=3==(3&c);if(p){const k=t.preOrderCheckHooks;null!==k&&C(i,k,null)}else{const k=t.preOrderHooks;null!==k&&L(i,k,0,null),M(i,0)}if(function O(t){for(let i=Eu(t);null!==i;i=bu(i)){if(!i[2])continue;const s=i[9];for(let a=0;a<s.length;a++){const c=s[a];512&c[2]||en(c[3],1),c[2]|=512}}}(i),function T(t){for(let i=Eu(t);null!==i;i=bu(i))for(let s=10;s<i.length;s++){const a=i[s],c=a[1];be(a)&&Oc(c,a,c.template,a[8])}}(i),null!==t.contentQueries&&ch(t,i),p){const k=t.contentCheckHooks;null!==k&&C(i,k)}else{const k=t.contentHooks;null!==k&&L(i,k,1),M(i,1)}!function Np(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)re(~c);else{const h=c,p=s[++a],b=s[++a];Wr(p,h),b(2,i[h])}}}finally{re(-1)}}(t,i);const b=t.components;null!==b&&function Rc(t,i){for(let s=0;s<i.length;s++)B(t,i[s])}(i,b);const S=t.viewQuery;if(null!==S&&It(2,S,a),p){const k=t.viewCheckHooks;null!==k&&C(i,k)}else{const k=t.viewHooks;null!==k&&L(i,k,2),M(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,en(i[3],-1))}finally{R()}}}function Ul(t,i,s,a,c){const h=De(),p=2&a;try{re(-1),p&&i.length>22&&Mc(t,i,22,!1),s(a,c)}finally{re(h)}}function Fc(t,i,s){if(Fr(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const p=t.data[h];p.contentQueries&&p.contentQueries(1,s[h],h)}}}function Oa(t,i,s){cs()&&(function nf(t,i,s,a){const c=s.directiveStart,h=s.directiveEnd;qr(s)&&function r(t,i,s){const a=ai(i,t),c=tf(s),h=t[10],p=me(t,ol(t,c,null,s.onPush?32:16,a,i,h,h.createRenderer(a,s),null,null,null));t[i.index]=p}(i,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ko(s,i),Sr(a,i);const p=s.initialInputs;for(let b=c;b<h;b++){const S=t.data[b],k=qo(i,t,b,s);Sr(k,i),null!==p&&u(0,b-c,k,S,0,p),Hi(S)&&(N(s.index,i)[8]=qo(i,t,b,s))}}(t,i,s,ai(s,i)),64==(64&s.flags)&&ph(t,i,s))}function Hl(t,i,s=ai){const a=i.localNames;if(null!==a){let c=i.index+1;for(let h=0;h<a.length;h+=2){const p=a[h+1],b=-1===p?s(i,t):t[p];t[c++]=b}}}function tf(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Lc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Lc(t,i,s,a,c,h,p,b,S,k){const z=22+a,de=z+c,Ue=function kp(t,i){const s=[];for(let a=0;a<i;a++)s.push(a<t?null:zn);return s}(z,de),tt="function"==typeof k?k():k;return Ue[1]={type:t,blueprint:Ue,template:s,queries:null,viewQuery:b,declTNode:i,data:Ue.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:S,consts:tt,incompleteFirstPass:!1}}function Gl(t,i,s,a){const c=Dt(i);null===s?c.push(a):(c.push(s),t.firstCreatePass&&wn(t).push(a,c.length-1))}function kc(t,i,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const h=t[c];null===a?Bc(s,i,c,h):a.hasOwnProperty(c)&&Bc(s,i,a[c],h)}return s}function Bc(t,i,s,a){t.hasOwnProperty(s)?t[s].push(i,a):t[s]=[i,a]}function Ss(t,i,s,a,c,h,p,b){const S=ai(i,s);let z,k=i.inputs;!b&&null!=k&&(z=k[a])?(Zt(t,s,z,a,c),qr(i)&&dh(s,i.index)):3&i.type&&(a=function Up(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=p?p(c,i.value||"",a):c,h.setProperty(S,a,c))}function dh(t,i){const s=N(i,t);16&s[2]||(s[2]|=32)}function As(t,i,s,a){let c=!1;if(cs()){const h=null===a?null:{"":-1},p=function sf(t,i){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let h=0;h<s.length;h++){const p=s[h];if(Ra(i,p.selectors,!1))if(a||(a=[]),Hi(p))if(null!==p.findHostDirectiveDefs){const b=[];c=c||new Map,p.findHostDirectiveDefs(p,b,c),a.unshift(...b,p),gh(t,i,b.length)}else a.unshift(p),gh(t,i,0);else c=c||new Map,p.findHostDirectiveDefs?.(p,a,c),a.push(p)}return null===a?null:[a,c]}(t,s);let b,S;null===p?b=S=null:[b,S]=p,null!==b&&(c=!0,rs(t,i,s,b,h,S)),h&&function jp(t,i,s){if(i){const a=t.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Ze(-301,!1);a.push(i[c],h)}}}(s,a,h)}return s.mergedAttrs=un(s.mergedAttrs,s.attrs),c}function rs(t,i,s,a,c,h){for(let k=0;k<a.length;k++)xi(Ko(s,i),t,a[k].type);!function n(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,a.length);for(let k=0;k<a.length;k++){const z=a[k];z.providersResolver&&z.providersResolver(z)}let p=!1,b=!1,S=Bl(t,i,a.length,null);for(let k=0;k<a.length;k++){const z=a[k];s.mergedAttrs=un(s.mergedAttrs,z.hostAttrs),e(t,s,i,S,z),zp(S,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const de=z.type.prototype;!p&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),p=!0),!b&&(de.ngOnChanges||de.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),S++}!function Bp(t,i,s){const c=i.directiveEnd,h=t.data,p=i.attrs,b=[];let S=null,k=null;for(let z=i.directiveStart;z<c;z++){const de=h[z],Ue=s?s.get(de):null,Et=Ue?Ue.outputs:null;S=kc(de.inputs,z,S,Ue?Ue.inputs:null),k=kc(de.outputs,z,k,Et);const Ut=null===S||null===p||Rl(i)?null:d(S,z,p);b.push(Ut)}null!==S&&(S.hasOwnProperty("class")&&(i.flags|=8),S.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=S,i.outputs=k}(t,s,h)}function ph(t,i,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,p=function fo(){return Mt.lFrame.currentDirectiveIndex}();try{re(h);for(let b=a;b<c;b++){const S=t.data[b],k=i[b];Ds(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&rf(S,k)}}finally{re(-1),Ds(p)}}function rf(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function gh(t,i,s){i.componentOffset=s,(t.components||(t.components=[])).push(i.index)}function zp(t,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=t;Hi(i)&&(s[""]=t)}}function e(t,i,s,a,c){t.data[a]=c;const h=c.factory||(c.factory=ls(c.type)),p=new lt(h,Hi(c),Pa);t.blueprint[a]=p,s[a]=p,function Gp(t,i,s,a,c){const h=c.hostBindings;if(h){let p=t.hostBindingOpCodes;null===p&&(p=t.hostBindingOpCodes=[]);const b=~i.index;(function Vp(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(p)!=b&&p.push(b),p.push(s,a,h)}}(t,i,a,Bl(t,s,c.hostVars,zn),c)}function o(t,i,s,a,c,h){const p=ai(t,i);!function l(t,i,s,a,c,h,p){if(null==h)t.removeAttribute(i,c,s);else{const b=null==p?at(h):p(h,a||"",c);t.setAttribute(i,c,b,s)}}(i[11],p,h,t.value,s,a,c)}function u(t,i,s,a,c,h){const p=h[i];if(null!==p){const b=a.setInput;for(let S=0;S<p.length;){const k=p[S++],z=p[S++],de=p[S++];null!==b?a.setInput(s,de,k,z):s[z]=de}}}function d(t,i,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const p=t[h];for(let b=0;b<p.length;b+=2)if(p[b]===i){a.push(h,p[b+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function y(t,i,s,a){return[t,!0,!1,i,null,0,a,s,null,null]}function B(t,i){const s=N(i,t);if(be(s)){const a=s[1];48&s[2]?Oc(a,s,a.template,s[8]):s[5]>0&&H(s)}}function H(t){for(let a=Eu(t);null!==a;a=bu(a))for(let c=10;c<a.length;c++){const h=a[c];if(be(h))if(512&h[2]){const p=h[1];Oc(p,h,p.template,h[8])}else h[5]>0&&H(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=N(s[a],t);be(c)&&c[5]>0&&H(c)}}function Y(t,i){const s=N(i,t),a=s[1];(function oe(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])})(a,s),Pc(a,s,s[8])}function me(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function Ge(t){for(;t;){t[2]|=32;const i=Ka(t);if(js(t)&&!i)return t;t=i}return null}function Qe(t,i,s,a=!0){const c=i[10];c.begin&&c.begin();try{Oc(t,i,t.template,s)}catch(p){throw a&&rn(i,p),p}finally{c.end&&c.end()}}function It(t,i,s){er(0),i(t,s)}function Dt(t){return t[7]||(t[7]=[])}function wn(t){return t.cleanup||(t.cleanup=[])}function vn(t,i,s){return(null===t||Hi(t))&&(s=function ir(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[i.index])),s[11]}function rn(t,i){const s=t[9],a=s?s.get(Ia,null):null;a&&a.handleError(i)}function Zt(t,i,s,a,c){for(let h=0;h<s.length;){const p=s[h++],b=s[h++],S=i[p],k=t.data[p];null!==k.setInput?k.setInput(S,c,a,b):S[b]=c}}function jt(t,i,s){let a=s?t.styles:null,c=s?t.classes:null,h=0;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?h=b:1==h?c=xe(c,b):2==h&&(a=xe(a,b+": "+i[++p]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function sn(t,i,s,a,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(Oi(h)),dr(h))for(let b=10;b<h.length;b++){const S=h[b],k=S[1].firstChild;null!==k&&sn(S[1],S,k,a)}const p=s.type;if(8&p)sn(t,i,s.child,a);else if(32&p){const b=ar(s,i);let S;for(;S=b();)a.push(S)}else if(16&p){const b=id(i,s);if(Array.isArray(b))a.push(...b);else{const S=Ka(i[16]);sn(S[1],S,b,a,!0)}}s=c?s.projectionNext:s.next}return a}class ti{get rootNodes(){const i=this._lView,s=i[1];return sn(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(dr(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(na(i,a),m(s,a))}this._attachedToViewContainer=!1}El(this._lView[1],this._lView)}onDestroy(i){Gl(this._lView[1],this._lView,null,i)}markForCheck(){Ge(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qe(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(t,i){bl(t,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=i}}class Bt extends ti{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qe(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Ht extends Ml{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=qn(i);return new _i(s,this.ngModule)}}function Ti(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class Zn{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=ge(a);const c=this.injector.get(i,$u,a);return c!==$u||s===$u?c:this.parentInjector.get(i,s,a)}}class _i extends Sd{get inputs(){return Ti(this.componentDef.inputs)}get outputs(){return Ti(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Sc(t){return t.map(Ju).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,c){let h=(c=c||this.ngModule)instanceof Ma?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const p=h?new Zn(i,h):i,b=p.get(Id,null);if(null===b)throw new Ze(407,!1);const S=p.get(Sp,null),k=b.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",de=a?function Nc(t,i,s){return t.selectRootElement(i,s===Ln.ShadowDom)}(k,a,this.componentDef.encapsulation):yl(k,z,function Qn(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(z)),Ue=this.componentDef.onPush?288:272,tt=Lc(0,null,null,1,0,null,null,null,null,null),Et=ol(null,tt,null,Ue,null,null,b,k,S,p,null);let Ut,Jt;es(Et);try{const pn=this.componentDef;let Fn,Rt=null;pn.findHostDirectiveDefs?(Fn=[],Rt=new Map,pn.findHostDirectiveDefs(pn,Fn,Rt),Fn.push(pn)):Fn=[pn];const $n=function Vl(t,i){const s=t[1];return t[22]=i,al(s,22,2,"#host",null)}(Et,de),tr=function af(t,i,s,a,c,h,p,b){const S=c[1];!function Hc(t,i,s,a){for(const c of t)i.mergedAttrs=un(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(jt(i,i.mergedAttrs,!0),null!==s&&od(a,s,i))}(a,t,i,p);const k=h.createRenderer(i,s),z=ol(c,tf(s),null,s.onPush?32:16,c[t.index],t,h,k,b||null,null,null);return S.firstCreatePass&&gh(S,t,a.length-1),me(c,z),c[t.index]=z}($n,de,pn,Fn,Et,b,k);Jt=I(tt,22),de&&function lf(t,i,s,a){if(a)Yr(t,s,["ng-version",Ap.full]);else{const{attrs:c,classes:h}=function Ac(t){const i=[],s=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&i.push(h,t[++a]):8===c&&s.push(h);else{if(!gs(c))break;c=h}a++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Yr(t,s,c),h&&h.length>0&&sd(t,s,h.join(" "))}}(k,pn,de,a),void 0!==s&&function cf(t,i,s){const a=t.projection=[];for(let c=0;c<i.length;c++){const h=s[c];a.push(null!=h?Array.from(h):null)}}(Jt,this.ngContentSelectors,s),Ut=function jl(t,i,s,a,c,h){const p=Li(),b=c[1],S=ai(p,c);rs(b,c,p,s,null,a);for(let z=0;z<s.length;z++)Sr(qo(c,b,p.directiveStart+z,p),c);ph(b,c,p),S&&Sr(S,c);const k=qo(c,b,p.directiveStart+p.componentOffset,p);if(t[8]=c[8]=k,null!==h)for(const z of h)z(k,i);return Fc(b,p,t),k}(tr,pn,Fn,Rt,Et,[Gc]),Pc(tt,Et,null)}finally{R()}return new ui(this.componentType,Ut,ra(Jt,Et),Et,Jt)}}class ui extends wp{constructor(i,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Bt(c),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[i])){const h=this._rootLView;Zt(h[1],h,c,i,s),dh(h,this._tNode.index)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Gc(){const t=Li();xn(ut()[1],t)}function $l(t){let i=function zl(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;i;){let c;if(Hi(t))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ze(903,!1);c=i.\u0275dir}if(c){if(s){a.push(c);const p=t;p.inputs=Uo(t.inputs),p.declaredInputs=Uo(t.declaredInputs),p.outputs=Uo(t.outputs);const b=c.hostBindings;b&&$p(t,b);const S=c.viewQuery,k=c.contentQueries;if(S&&La(t,S),k&&Na(t,k),ve(t.inputs,c.inputs),ve(t.declaredInputs,c.declaredInputs),ve(t.outputs,c.outputs),Hi(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let p=0;p<h.length;p++){const b=h[p];b&&b.ngInherit&&b(t),b===$l&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Fa(t){let i=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=i+=c.hostVars,c.hostAttrs=un(c.hostAttrs,s=un(s,c.hostAttrs))}}(a)}function Uo(t){return t===Jn?{}:t===Me?[]:t}function La(t,i){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{i(a,c),s(a,c)}:i}function Na(t,i){const s=t.contentQueries;t.contentQueries=s?(a,c,h)=>{i(a,c,h),s(a,c,h)}:i}function $p(t,i){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{i(a,c),s(a,c)}:i}let hf=null;function Wl(){if(!hf){const t=bn.Symbol;if(t&&t.iterator)hf=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const a=i[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(hf=a)}}}return hf}function df(t){return!!Yp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Wl()in t)}function Yp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ms(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Xp(t,i,s,a){const c=ut();return ms(c,$r(),i)&&(ei(),o(We(),c,t,i,s,a)),Xp}function Sm(t,i,s,a,c,h,p,b){const S=ut(),k=ei(),z=t+22,de=k.firstCreatePass?function Pv(t,i,s,a,c,h,p,b,S){const k=i.consts,z=al(i,t,4,p||null,ft(k,b));As(i,s,z,ft(k,S)),xn(i,z);const de=z.tViews=Lc(2,z,a,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,k);return null!==i.queries&&(i.queries.template(i,z),de.queries=i.queries.embeddedTView(z)),z}(z,k,S,i,s,a,c,h,p):k.data[z];wr(de,!1);const Ue=S[11].createComment("");sc(k,S,Ue,de),Sr(Ue,S),me(S,S[z]=y(Ue,S,Ue,de)),fr(de)&&Oa(k,S,de),null!=p&&Hl(S,de,b)}function Am(t){return E(function Ua(){return Mt.lFrame.contextLView}(),22+t)}function Kp(t,i,s){const a=ut();return ms(a,$r(),i)&&Ss(ei(),We(),a,t,i,a[11],s,!1),Kp}function Zp(t,i,s,a,c){const p=c?"class":"style";Zt(t,s,i.inputs[p],p,a)}function pf(t,i,s,a){const c=ut(),h=ei(),p=22+t,b=c[11],S=c[p]=yl(b,i,function Hn(){return Mt.lFrame.currentNamespace}()),k=h.firstCreatePass?function Fv(t,i,s,a,c,h,p){const b=i.consts,k=al(i,t,2,c,ft(b,h));return As(i,s,k,ft(b,p)),null!==k.attrs&&jt(k,k.attrs,!1),null!==k.mergedAttrs&&jt(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(p,h,c,0,i,s,a):h.data[p];return wr(k,!0),od(b,S,k),32!=(32&k.flags)&&sc(h,c,S,k),0===function Fi(){return Mt.lFrame.elementDepthCount}()&&Sr(S,c),function rr(){Mt.lFrame.elementDepthCount++}(),fr(k)&&(Oa(h,c,k),Fc(h,k,c)),null!==a&&Hl(c,k),pf}function gf(){let t=Li();Zs()?Ao():(t=t.parent,wr(t,!1));const i=t;!function br(){Mt.lFrame.elementDepthCount--}();const s=ei();return s.firstCreatePass&&(xn(s,t),Fr(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Kn(t){return 0!=(8&t.flags)}(i)&&Zp(s,i,ut(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function li(t){return 0!=(16&t.flags)}(i)&&Zp(s,i,ut(),i.stylesWithoutHost,!1),gf}function qp(t,i,s,a){return pf(t,i,s,a),gf(),qp}function Im(){return ut()}function eg(t){return!!t&&"function"==typeof t.then}function Rm(t){return!!t&&"function"==typeof t.subscribe}const Pm=Rm;function tg(t,i,s,a){const c=ut(),h=ei(),p=Li();return Om(h,c,c[11],p,t,i,a),tg}function ng(t,i){const s=Li(),a=ut(),c=ei();return Om(c,a,vn(qs(c.data),s,a),s,t,i),ng}function Om(t,i,s,a,c,h,p){const b=fr(a),k=t.firstCreatePass&&wn(t),z=i[8],de=Dt(i);let Ue=!0;if(3&a.type||p){const Ut=ai(a,i),Jt=p?p(Ut):Ut,pn=de.length,Fn=p?$n=>p(Oi($n[a.index])):a.index;let Rt=null;if(!p&&b&&(Rt=function Nv(t,i,s,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const p=c[h];if(p===s&&c[h+1]===a){const b=i[7],S=c[h+2];return b.length>S?b[S]:null}"string"==typeof p&&(h+=2)}return null}(t,i,c,a.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=h,Rt.__ngLastListenerFn__=h,Ue=!1;else{h=Lm(a,i,z,h,!1);const $n=s.listen(Jt,c,h);de.push(h,$n),k&&k.push(c,Fn,pn,pn+1)}}else h=Lm(a,i,z,h,!1);const tt=a.outputs;let Et;if(Ue&&null!==tt&&(Et=tt[c])){const Ut=Et.length;if(Ut)for(let Jt=0;Jt<Ut;Jt+=2){const tr=i[Et[Jt]][Et[Jt+1]].subscribe(h),Cr=de.length;de.push(h,tr),k&&k.push(c,a.index,Cr,-(Cr+1))}}}function Fm(t,i,s,a){try{return!1!==s(a)}catch(c){return rn(t,c),!1}}function Lm(t,i,s,a,c){return function h(p){if(p===Function)return a;Ge(t.componentOffset>-1?N(t.index,i):i);let S=Fm(i,0,a,p),k=h.__ngNextListenerFn__;for(;k;)S=Fm(i,0,k,p)&&S,k=k.__ngNextListenerFn__;return c&&!1===S&&(p.preventDefault(),p.returnValue=!1),S}}function Nm(t=1){return function G(t){return(Mt.lFrame.contextLView=function J(t,i){for(;t>0;)i=i[15],t--;return i}(t,Mt.lFrame.contextLView))[8]}(t)}function kv(t,i){let s=null;const a=function Bd(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===a?Ra(t,h,!0):Qu(a,h))return c}else s=c}return s}function km(t){const i=ut()[16][6];if(!i.projection){const a=i.projection=v(t?t.length:1,null),c=a.slice();let h=i.child;for(;null!==h;){const p=t?kv(h,t):0;null!==p&&(c[p]?c[p].projectionNext=h:a[p]=h,c[p]=h),h=h.next}}}function Bm(t,i=0,s){const a=ut(),c=ei(),h=al(c,22+t,16,null,s||null);null===h.projection&&(h.projection=i),Ao(),32!=(32&h.flags)&&function Iu(t,i,s){rd(i[11],0,i,s,Xf(t,s,i),Qa(s.parent||i[6],s,i))}(c,a,h)}function mf(t,i){return t<<17|i<<2}function ll(t){return t>>17&32767}function rg(t){return 2|t}function Xl(t){return(131068&t)>>2}function sg(t,i){return-131069&t|i<<2}function og(t){return 1|t}function Xm(t,i,s,a,c){const h=t[s+1],p=null===i;let b=a?ll(h):Xl(h),S=!1;for(;0!==b&&(!1===S||p);){const z=t[b+1];jv(t[b],i)&&(S=!0,t[b+1]=a?og(z):rg(z)),b=a?ll(z):Xl(z)}S&&(t[s+1]=a?rg(h):og(h))}function jv(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&mt(t,i)>=0}function ag(t,i,s){return Ho(t,i,s,!1),ag}function lg(t,i){return Ho(t,i,null,!0),lg}function Ho(t,i,s,a){const c=ut(),h=ei(),p=function Ui(t){const i=Mt.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}(2);h.firstUpdatePass&&function n_(t,i,s,a){const c=t.data;if(null===c[s+1]){const h=c[De()],p=function t_(t,i){return i>=t.expandoStartIndex}(t,s);(function o_(t,i){return 0!=(t.flags&(i?8:16))})(h,a)&&null===i&&!p&&(i=!1),i=function Qv(t,i,s,a){const c=qs(t);let h=a?i.residualClasses:i.residualStyles;if(null===c)0===(a?i.classBindings:i.styleBindings)&&(s=_h(s=cg(null,t,i,s,a),i.attrs,a),h=null);else{const p=i.directiveStylingLast;if(-1===p||t[p]!==c)if(s=cg(c,t,i,s,a),null===h){let S=function Jv(t,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==Xl(a))return t[ll(a)]}(t,i,a);void 0!==S&&Array.isArray(S)&&(S=cg(null,t,i,S[1],a),S=_h(S,i.attrs,a),function e0(t,i,s,a){t[ll(s?i.classBindings:i.styleBindings)]=a}(t,i,a,S))}else h=function t0(t,i,s){let a;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)a=_h(a,t[h].hostAttrs,s);return _h(a,i.attrs,s)}(t,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,a),function Gv(t,i,s,a,c,h){let p=h?i.classBindings:i.styleBindings,b=ll(p),S=Xl(p);t[a]=s;let z,k=!1;if(Array.isArray(s)?(z=s[1],(null===z||mt(s,z)>0)&&(k=!0)):z=s,c)if(0!==S){const Ue=ll(t[b+1]);t[a+1]=mf(Ue,b),0!==Ue&&(t[Ue+1]=sg(t[Ue+1],a)),t[b+1]=function Uv(t,i){return 131071&t|i<<17}(t[b+1],a)}else t[a+1]=mf(b,0),0!==b&&(t[b+1]=sg(t[b+1],a)),b=a;else t[a+1]=mf(S,0),0===b?b=a:t[S+1]=sg(t[S+1],a),S=a;k&&(t[a+1]=rg(t[a+1])),Xm(t,z,a,!0),Xm(t,z,a,!1),function Vv(t,i,s,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&mt(h,i)>=0&&(s[a+1]=og(s[a+1]))}(i,z,t,a,h),p=mf(b,S),h?i.classBindings=p:i.styleBindings=p}(c,h,i,s,p,a)}}(h,t,p,a),i!==zn&&ms(c,p,i)&&function r_(t,i,s,a,c,h,p,b){if(!(3&i.type))return;const S=t.data,k=S[b+1],z=function Hv(t){return 1==(1&t)}(k)?s_(S,i,s,c,Xl(k),p):void 0;_f(z)||(_f(h)||function Bv(t){return 2==(2&t)}(k)&&(h=s_(S,null,s,c,b,p)),function Ru(t,i,s,a,c){if(i)c?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:vo.DashCase;null==c?t.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=vo.Important),t.setStyle(s,a,c,h))}}(a,p,pr(De(),s),c,h))}(h,h.data[De()],c,c[11],t,c[p+1]=function s0(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=ue(ko(t)))),t}(i,s),a,p)}function cg(t,i,s,a,c){let h=null;const p=s.directiveEnd;let b=s.directiveStylingLast;for(-1===b?b=s.directiveStart:b++;b<p&&(h=i[b],a=_h(a,h.hostAttrs,c),h!==t);)b++;return null!==t&&(s.directiveStylingLast=b),a}function _h(t,i,s){const a=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const p=i[h];"number"==typeof p?c=p:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$(t,p,!!s||i[++h]))}return void 0===t?null:t}function s_(t,i,s,a,c,h){const p=null===i;let b;for(;c>0;){const S=t[c],k=Array.isArray(S),z=k?S[1]:S,de=null===z;let Ue=s[c+1];Ue===zn&&(Ue=de?Me:void 0);let tt=de?ze(Ue,a):z===a?Ue:void 0;if(k&&!_f(tt)&&(tt=ze(S,a)),_f(tt)&&(b=tt,p))return b;const Et=t[c+1];c=p?ll(Et):Xl(Et)}if(null!==i){let S=h?i.residualClasses:i.residualStyles;null!=S&&(b=ze(S,a))}return b}function _f(t){return void 0!==t}function a_(t,i=""){const s=ut(),a=ei(),c=t+22,h=a.firstCreatePass?al(a,c,1,i,null):a.data[c],p=s[c]=function Du(t,i){return t.createText(i)}(s[11],i);sc(a,s,p,h),wr(h,!1)}function ug(t){return yf("",t,""),ug}function yf(t,i,s){const a=ut(),c=function jc(t,i,s,a){return ms(t,$r(),s)?i+at(s)+a:zn}(a,t,i,s);return c!==zn&&function In(t,i,s){const a=pr(i,t);!function Cu(t,i,s){t.setValue(i,s)}(t[11],a,s)}(a,De(),c),yf}function hg(t,i,s){const a=ut();return ms(a,$r(),i)&&Ss(ei(),We(),a,t,i,a[11],s,!0),hg}function dg(t,i,s){const a=ut();if(ms(a,$r(),i)){const h=ei(),p=We();Ss(h,p,a,t,i,vn(qs(h.data),p,a),s,!0)}return dg}const Kl=void 0;var x0=["en",[["a","p"],["AM","PM"],Kl],[["AM","PM"],Kl,Kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kl,"{1} 'at' {0}",Kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function C0(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Qc={};function fg(t){const i=function T0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=T_(i);if(s)return s;const a=i.split("-")[0];if(s=T_(a),s)return s;if("en"===a)return x0;throw new Ze(701,!1)}function x_(t){return fg(t)[Rn.PluralCase]}function T_(t){return t in Qc||(Qc[t]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[t]),Qc[t]}var Rn=(()=>((Rn=Rn||{})[Rn.LocaleId=0]="LocaleId",Rn[Rn.DayPeriodsFormat=1]="DayPeriodsFormat",Rn[Rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rn[Rn.DaysFormat=3]="DaysFormat",Rn[Rn.DaysStandalone=4]="DaysStandalone",Rn[Rn.MonthsFormat=5]="MonthsFormat",Rn[Rn.MonthsStandalone=6]="MonthsStandalone",Rn[Rn.Eras=7]="Eras",Rn[Rn.FirstDayOfWeek=8]="FirstDayOfWeek",Rn[Rn.WeekendRange=9]="WeekendRange",Rn[Rn.DateFormat=10]="DateFormat",Rn[Rn.TimeFormat=11]="TimeFormat",Rn[Rn.DateTimeFormat=12]="DateTimeFormat",Rn[Rn.NumberSymbols=13]="NumberSymbols",Rn[Rn.NumberFormats=14]="NumberFormats",Rn[Rn.CurrencyCode=15]="CurrencyCode",Rn[Rn.CurrencySymbol=16]="CurrencySymbol",Rn[Rn.CurrencyName=17]="CurrencyName",Rn[Rn.Currencies=18]="Currencies",Rn[Rn.Directionality=19]="Directionality",Rn[Rn.PluralCase=20]="PluralCase",Rn[Rn.ExtraData=21]="ExtraData",Rn))();const Jc="en-US";let S_=Jc;function mg(t,i,s,a,c){if(t=Ie(t),Array.isArray(t))for(let h=0;h<t.length;h++)mg(t[h],i,s,a,c);else{const h=ei(),p=ut();let b=bo(t)?t:Ie(t.provide),S=Td(t);const k=Li(),z=1048575&k.providerIndexes,de=k.directiveStart,Ue=k.providerIndexes>>20;if(bo(t)||!t.multi){const tt=new lt(S,c,Pa),Et=yg(b,i,c?z:z+Ue,de);-1===Et?(xi(Ko(k,p),h,b),_g(h,t,i.length),i.push(b),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(tt),p.push(tt)):(s[Et]=tt,p[Et]=tt)}else{const tt=yg(b,i,z+Ue,de),Et=yg(b,i,z,z+Ue),Jt=Et>=0&&s[Et];if(c&&!Jt||!c&&!(tt>=0&&s[tt])){xi(Ko(k,p),h,b);const pn=function DE(t,i,s,a,c){const h=new lt(t,s,Pa);return h.multi=[],h.index=i,h.componentProviders=0,Q_(h,c,a&&!s),h}(c?wE:bE,s.length,c,a,S);!c&&Jt&&(s[Et].providerFactory=pn),_g(h,t,i.length,0),i.push(b),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(pn),p.push(pn)}else _g(h,t,tt>-1?tt:Et,Q_(s[c?Et:tt],S,!c&&a));!c&&a&&Jt&&s[Et].componentProviders++}}}function _g(t,i,s,a){const c=bo(i),h=function mp(t){return!!t.useClass}(i);if(c||h){const S=(h?Ie(i.useClass):i).prototype.ngOnDestroy;if(S){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&i.multi){const z=k.indexOf(s);-1===z?k.push(s,[a,S]):k[z+1].push(a,S)}else k.push(s,S)}}}function Q_(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function yg(t,i,s,a){for(let c=s;c<a;c++)if(i[c]===t)return c;return-1}function bE(t,i,s,a){return vg(this.multi,[])}function wE(t,i,s,a){const c=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,b=qo(s,s[1],this.providerFactory.index,a);h=b.slice(0,p),vg(c,h);for(let S=p;S<b.length;S++)h.push(b[S])}else h=[],vg(c,h);return h}function vg(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function J_(t,i=[]){return s=>{s.providersResolver=(a,c)=>function EE(t,i,s){const a=ei();if(a.firstCreatePass){const c=Hi(t);mg(s,a.data,a.blueprint,c,!0),mg(i,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,i)}}class eu{}class ey{}function CE(t,i){return new ty(t,i??null)}class ty extends eu{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ht(this);const a=Ji(i);this._bootstrapComponents=ps(a.bootstrap),this._r3Injector=Ol(i,s,[{provide:eu,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],ue(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Eg extends ey{constructor(i){super(),this.moduleType=i}create(i){return new ty(this.moduleType,i)}}class xE extends eu{constructor(i,s,a){super(),this.componentFactoryResolver=new Ht(this),this.instance=null;const c=new xd([...i,{provide:eu,useValue:this},{provide:Ml,useValue:this.componentFactoryResolver}],s||Aa(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function bg(t,i,s=null){return new xE(t,i,s).injector}let TE=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=fs(0,s.type),c=a.length>0?bg([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Be({token:t,providedIn:"environment",factory:()=>new t(Fe(Ma))}),t})();function ny(t){t.getStandaloneInjector=i=>i.get(TE).getOrCreateStandaloneInjector(t)}function cy(t,i,s,a,c,h){const p=i+s;return ms(t,p,c)?function la(t,i,s){return t[i]=s}(t,p+1,h?a.call(h,c):a(c)):function Dh(t,i){const s=t[i];return s===zn?void 0:s}(t,p+1)}function py(t,i){const s=ei();let a;const c=t+22;s.firstCreatePass?(a=function $E(t,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(t===a.name)return a}}(i,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=ls(a.type)),p=si(Pa);try{const b=Ns(!1),S=h();return Ns(b),function Ov(t,i,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=a}(s,ut(),c,S),S}finally{si(p)}}function gy(t,i,s){const a=t+22,c=ut(),h=E(c,a);return function Ch(t,i){return t[1].data[i].pure}(c,a)?cy(c,function Dr(){const t=Mt.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}(),i,h.transform,s,h):h.transform(s)}function Dg(t){return i=>{setTimeout(t,void 0,i)}}const ha=class ZE extends D.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let c=i,h=s||(()=>null),p=a;if(i&&"object"==typeof i){const S=i;c=S.next?.bind(S),h=S.error?.bind(S),p=S.complete?.bind(S)}this.__isAsync&&(h=Dg(h),c&&(c=Dg(c)),p&&(p=Dg(p)));const b=super.subscribe({next:c,error:h,complete:p});return i instanceof w.w0&&i.add(b),b}};function qE(){return this._results[Wl()]()}class Cg{get changes(){return this._changes||(this._changes=new ha)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Wl(),a=Cg.prototype;a[s]||(a[s]=qE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const c=function ts(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function za(t,i,s){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=i[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xh=(()=>{class t{}return t.__NG_ELEMENT_ID__=eb,t})();const QE=xh,JE=class extends QE{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tViews,c=ol(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),Pc(a,c,i),new ti(c)}};function eb(){return Df(Li(),ut())}function Df(t,i){return 4&t.type?new JE(i,t,ra(t,i)):null}let Cf=(()=>{class t{}return t.__NG_ELEMENT_ID__=tb,t})();function tb(){return yy(Li(),ut())}const nb=Cf,my=class extends nb{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return ra(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const i=ga(this._hostTNode,this._hostLView);if(wi(i)){const s=Ki(i,this._hostLView),a=Xi(i);return new ks(s[1].data[a+8],s)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=_y(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const p=i.createEmbeddedView(s||{},h);return this.insert(p,c),p}createComponent(i,s,a,c,h){const p=i&&!function ya(t){return"function"==typeof t}(i);let b;if(p)b=s;else{const de=s||{};b=de.index,a=de.injector,c=de.projectableNodes,h=de.environmentInjector||de.ngModuleRef}const S=p?i:new _i(qn(i)),k=a||this.parentInjector;if(!h&&null==S.ngModule){const Ue=(p?k:this.parentInjector).get(Ma,null);Ue&&(h=Ue)}const z=S.create(k,c,void 0,h);return this.insert(z.hostView,b),z}insert(i,s){const a=i._lView,c=a[1];if(function et(t){return dr(t[3])}(a)){const z=this.indexOf(i);if(-1!==z)this.detach(z);else{const de=a[3],Ue=new my(de,de[6],de[3]);Ue.detach(Ue.indexOf(i))}}const h=this._adjustIndex(s),p=this._lContainer;!function vl(t,i,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=i),a<h-10?(i[4]=s[c],Ts(s,10+a,i)):(s.push(i),i[4]=null),i[3]=s;const p=i[17];null!==p&&s!==p&&function Jh(t,i){const s=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===s?t[9]=[i]:s.push(i)}(p,i);const b=i[19];null!==b&&b.insertView(t),i[2]|=64}(c,a,p,h);const b=Su(h,p),S=a[11],k=qa(S,p[7]);return null!==k&&function Qh(t,i,s,a,c,h){a[0]=c,a[6]=i,bl(t,a,s,1,c,h)}(c,p[6],S,a,k,b),i.attachToViewContainerRef(),Ts(xg(p),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=_y(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=na(this._lContainer,s);a&&(m(xg(this._lContainer),s),El(a[1],a))}detach(i){const s=this._adjustIndex(i,-1),a=na(this._lContainer,s);return a&&null!=m(xg(this._lContainer),s)?new ti(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function _y(t){return t[8]}function xg(t){return t[8]||(t[8]=[])}function yy(t,i){let s;const a=i[t.index];if(dr(a))s=a;else{let c;if(8&t.type)c=Oi(a);else{const h=i[11];c=h.createComment("");const p=ai(t,i);Eo(h,qa(h,p),c,function Us(t,i){return t.nextSibling(i)}(h,p),!1)}i[t.index]=s=y(a,i,c,t),me(i,s)}return new my(s,t,i)}class Tg{constructor(i){this.queryList=i,this.matches=null}clone(){return new Tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sg{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const p=s.getByIndex(h);c.push(this.queries[p.indexInDeclarationView].clone())}return new Sg(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Sy(i,s).matches&&this.queries[s].setDirty()}}class vy{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class Ag{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Ag(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Mg{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Mg(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(i,s,ib(s,h)),this.matchTNodeWithReadOption(i,s,mo(s,i,h,!1,!1))}else a===xh?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,mo(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===il||c===Cf||c===xh&&4&s.type)this.addMatch(s.index,-2);else{const h=mo(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function ib(t,i){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function sb(t,i,s,a){return-1===s?function rb(t,i){return 11&t.type?ra(t,i):4&t.type?Df(t,i):null}(i,t):-2===s?function ob(t,i,s){return s===il?ra(i,t):s===xh?Df(i,t):s===Cf?yy(i,t):void 0}(t,i,a):qo(t,t[1],s,i)}function Ey(t,i,s,a){const c=i[19].queries[a];if(null===c.matches){const h=t.data,p=s.matches,b=[];for(let S=0;S<p.length;S+=2){const k=p[S];b.push(k<0?null:sb(i,h[k],p[S+1],s.metadata.read))}c.matches=b}return c.matches}function Ig(t,i,s,a){const c=t.queries.getByIndex(s),h=c.matches;if(null!==h){const p=Ey(t,i,c,s);for(let b=0;b<h.length;b+=2){const S=h[b];if(S>0)a.push(p[b/2]);else{const k=h[b+1],z=i[-S];for(let de=10;de<z.length;de++){const Ue=z[de];Ue[17]===Ue[3]&&Ig(Ue[1],Ue,k,a)}if(null!==z[9]){const de=z[9];for(let Ue=0;Ue<de.length;Ue++){const tt=de[Ue];Ig(tt[1],tt,k,a)}}}}}return a}function by(t){const i=ut(),s=ei(),a=gr();er(a+1);const c=Sy(s,a);if(t.dirty&&function q(t){return 4==(4&t[2])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?Ig(s,i,a,[]):Ey(s,i,c,a);t.reset(h,Cp),t.notifyOnChanges()}return!0}return!1}function wy(t,i,s){const a=ei();a.firstCreatePass&&(Ty(a,new vy(t,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),xy(a,ut(),i)}function Dy(t,i,s,a){const c=ei();if(c.firstCreatePass){const h=Li();Ty(c,new vy(i,s,a),h.index),function lb(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}xy(c,ut(),s)}function Cy(){return function ab(t,i){return t[19].queries[i].queryList}(ut(),gr())}function xy(t,i,s){const a=new Cg(4==(4&s));Gl(t,i,a,a.destroy),null===i[19]&&(i[19]=new Sg),i[19].queries.push(new Tg(a))}function Ty(t,i,s){null===t.queries&&(t.queries=new Ag),t.queries.track(new Mg(i,s))}function Sy(t,i){return t.queries.getByIndex(i)}function Ay(t,i){return Df(t,i)}function Tf(...t){}const Yy=new vi("Application Initializer");let Sf=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Tf,this.reject=Tf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(eg(h))s.push(h);else if(Pm(h)){const p=new Promise((b,S)=>{h.subscribe({complete:b,error:S})});s.push(p)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Fe(Yy,8))},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xy=new vi("AppId",{providedIn:"root",factory:function Ky(){return`${Lg()}${Lg()}${Lg()}`}});function Lg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zy=new vi("Platform Initializer"),Ab=new vi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qy=new vi("appBootstrapListener"),Mb=new vi("AnimationModuleType");let Ib=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Af=new vi("LocaleId",{providedIn:"root",factory:()=>je(Af,Xt.Optional|Xt.SkipSelf)||function Rb(){return typeof $localize<"u"&&$localize.locale||Jc}()}),Pb=new vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ob{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let Fb=(()=>{class t{compileModuleSync(s){return new Eg(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=ps(Ji(s).declarations).reduce((p,b)=>{const S=qn(b);return S&&p.push(new _i(S)),p},[]);return new Ob(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kb=(()=>Promise.resolve(0))();function Ng(t){typeof Zone>"u"?kb.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Do{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Bb(){let t=bn.requestAnimationFrame,i=bn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Gb(t){const i=()=>{!function Hb(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Bg(t),t.isCheckStableRunning=!0,kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Bg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,p,b)=>{try{return ev(t),s.invokeTask(c,h,p,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),tv(t)}},onInvoke:(s,a,c,h,p,b,S)=>{try{return ev(t),s.invoke(c,h,p,b,S)}finally{t.shouldCoalesceRunChangeDetection&&i(),tv(t)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Bg(t),kg(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Do.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Do.isInAngularZone())throw new Ze(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,c){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+c,i,Ub,Tf,Tf);try{return h.runTask(p,s,a)}finally{h.cancelTask(p)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const Ub={};function kg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ev(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tv(t){t._nesting--,kg(t)}class Vb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,c){return i.apply(s,a)}}const nv=new vi(""),iv=new vi("");let Ug,jb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ug||(function zb(t){Ug=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Do.assertNotInAngularZone(),Ng(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ng(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(Fe(Do),Fe(rv),Fe(iv))},t.\u0275prov=Be({token:t,factory:t.\u0275fac}),t})(),rv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ug?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),cl=null;const sv=new vi("AllowMultipleToken"),Hg=new vi("PlatformDestroyListeners");class Yb{constructor(i,s){this.name=i,this.token=s}}function av(t,i,s=[]){const a=`Platform: ${i}`,c=new vi(a);return(h=[])=>{let p=Gg();if(!p||p.injector.get(sv,!1)){const b=[...s,...h,{provide:c,useValue:!0}];t?t(b):function Xb(t){if(cl&&!cl.get(sv,!1))throw new Ze(400,!1);cl=t;const i=t.get(cv);(function ov(t){const i=t.get(Zy,null);i&&i.forEach(s=>s())})(t)}(function lv(t=[],i){return rl.create({name:i,providers:[{provide:Ec,useValue:"platform"},{provide:Hg,useValue:new Set([()=>cl=null])},...t]})}(b,a))}return function Zb(t){const i=Gg();if(!i)throw new Ze(401,!1);return i}()}}function Gg(){return cl?.get(cv)??null}let cv=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function hv(t,i){let s;return s="noop"===t?new Vb:("zone.js"===t?void 0:t)||new Do(i),s}(a?.ngZone,function uv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Do,useValue:c}];return c.run(()=>{const p=rl.create({providers:h,parent:this.injector,name:s.moduleType.name}),b=s.create(p),S=b.injector.get(Ia,null);if(!S)throw new Ze(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:z=>{S.handleError(z)}});b.onDestroy(()=>{If(this._modules,b),k.unsubscribe()})}),function dv(t,i,s){try{const a=s();return eg(a)?a.catch(c=>{throw i.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(S,c,()=>{const k=b.injector.get(Sf);return k.runInitializers(),k.donePromise.then(()=>(function A_(t){He(t,"Expected localeId to be defined"),"string"==typeof t&&(S_=t.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Af,Jc)||Jc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(s,a=[]){const c=fv({},a);return function $b(t,i,s){const a=new Eg(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Mf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ze(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Hg,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Fe(rl))},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function fv(t,i){return Array.isArray(i)?i.reduce(fv,t):{...t,...i}}let Mf=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ce.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),p=new ce.y(b=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Do.assertNotInAngularZone(),Ng(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Do.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(h,p.pipe((0,se.B)()))}bootstrap(s,a){const c=s instanceof Sd;if(!this._injector.get(Sf).done)throw!c&&Vr(s),new Ze(405,false);let p;p=c?s:this._injector.get(Ml).resolveComponentFactory(s),this.componentTypes.push(p.componentType);const b=function Wb(t){return t.isBoundToModule}(p)?void 0:this._injector.get(eu),k=p.create(rl.NULL,[],a||p.selector,b),z=k.location.nativeElement,de=k.injector.get(nv,null);return de?.registerApplication(z),k.onDestroy(()=>{this.detachView(k.hostView),If(this.components,k),de?.unregisterApplication(z)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;If(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(qy,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>If(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ze(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Fe(Do),Fe(Ma),Fe(Ia))},t.\u0275prov=Be({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function If(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}function Qb(){}let Jb=(()=>{class t{}return t.__NG_ELEMENT_ID__=ew,t})();function ew(t){return function tw(t,i,s){if(qr(t)&&!s){const a=N(t.index,i);return new ti(a,a)}return 47&t.type?new ti(i[16],i):null}(Li(),ut(),16==(16&t))}class yv{constructor(){}supports(i){return df(i)}create(i){return new aw(i)}}const ow=(t,i)=>i;class aw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||ow}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const p=!a||s&&s.currentIndex<Ev(a,c,h)?s:a,b=Ev(p,c,h),S=p.currentIndex;if(p===a)c--,a=a._nextRemoved;else if(s=s._next,null==p.previousIndex)c++;else{h||(h=[]);const k=b-c,z=S-c;if(k!=z){for(let Ue=0;Ue<k;Ue++){const tt=Ue<h.length?h[Ue]:h[Ue]=0,Et=tt+Ue;z<=Et&&Et<k&&(h[Ue]=tt+1)}h[p.previousIndex]=z-k}}b!==S&&i(p,b,S)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!df(i))throw new Ze(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,p,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],p=this._trackByFn(b,h),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,h,p,b)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,p,b),a=!0),s=s._next}else c=0,function Mv(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Wl()]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,b=>{p=this._trackByFn(c,b),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,b,p,c)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,p,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new lw(s,a),h,c),i}_verifyReinsertion(i,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new vv),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vv),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class lw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class vv{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new cw,this.map.set(s,a)),a.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ev(t,i,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+i+c}class bv{constructor(){}supports(i){return i instanceof Map||Yp(i)}create(){return new uw}}class uw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Yp(i)))throw new Ze(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,p=c._next;return h&&(h._next=p),p&&(p._prev=h),c._next=null,c._prev=null,c}const a=new hw(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class hw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wv(){return new Wg([new yv])}let Wg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||wv()),deps:[[t,new fl,new dl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Ze(901,!1)}}return t.\u0275prov=Be({token:t,providedIn:"root",factory:wv}),t})();function Dv(){return new Yg([new bv])}let Yg=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Dv()),deps:[[t,new fl,new dl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ze(901,!1)}}return t.\u0275prov=Be({token:t,providedIn:"root",factory:Dv}),t})();const pw=av(null,"core",[]);let gw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Fe(Mf))},t.\u0275mod=An({type:t}),t.\u0275inj=_t({}),t})();function mw(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},3238:(At,Ne,F)=>{"use strict";F.d(Ne,{BQ:()=>Ct,pj:()=>rt});var D=F(4650),w=F(2016),ce=F(445),se=F(6895),ee=F(3353),ve=F(1281);const at=new D.OlP("mat-sanity-checks",{providedIn:"root",factory:function bt(){return!0}});let Ct=(()=>{class Lt{constructor(Fe,yt,je){this._sanityChecks=yt,this._document=je,this._hasDoneGlobalChecks=!1,Fe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Fe){return!(0,ee.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Fe])}}return Lt.\u0275fac=function(Fe){return new(Fe||Lt)(D.LFG(w.qm),D.LFG(at,8),D.LFG(se.K0))},Lt.\u0275mod=D.oAB({type:Lt}),Lt.\u0275inj=D.cJS({imports:[ce.vT,ce.vT]}),Lt})();function rt(Lt,Le){return class extends Lt{get color(){return this._color}set color(Fe){const yt=Fe||this.defaultColor;yt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),yt&&this._elementRef.nativeElement.classList.add(`mat-${yt}`),this._color=yt)}constructor(...Fe){super(...Fe),this.defaultColor=Le,this.color=Le}}}class Gt{constructor(Le,Fe,yt,je=!1){this._renderer=Le,this.element=Fe,this.config=yt,this._animationForciblyDisabledThroughCss=je,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Yt=(0,ee.i$)({passive:!0,capture:!0});class dn{constructor(){this._events=new Map,this._delegateEventHandler=Le=>{const Fe=(0,ee.sA)(Le);Fe&&this._events.get(Le.type)?.forEach((yt,je)=>{(je===Fe||je.contains(Fe))&&yt.forEach(ge=>ge.handleEvent(Le))})}}addHandler(Le,Fe,yt,je){const ge=this._events.get(Fe);if(ge){const Oe=ge.get(yt);Oe?Oe.add(je):ge.set(yt,new Set([je]))}else this._events.set(Fe,new Map([[yt,new Set([je])]])),Le.runOutsideAngular(()=>{document.addEventListener(Fe,this._delegateEventHandler,Yt)})}removeHandler(Le,Fe,yt){const je=this._events.get(Le);if(!je)return;const ge=je.get(Fe);ge&&(ge.delete(yt),0===ge.size&&je.delete(Fe),0===je.size&&(this._events.delete(Le),document.removeEventListener(Le,this._delegateEventHandler,Yt)))}}const _n={enterDuration:225,exitDuration:150},xt=(0,ee.i$)({passive:!0,capture:!0}),Un=["mousedown","touchstart"],an=["mouseup","mouseleave","touchend","touchcancel"];class ni{constructor(Le,Fe,yt,je){this._target=Le,this._ngZone=Fe,this._platform=je,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,je.isBrowser&&(this._containerElement=(0,ve.fI)(yt))}fadeInRipple(Le,Fe,yt={}){const je=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ge={..._n,...yt.animation};yt.centered&&(Le=je.left+je.width/2,Fe=je.top+je.height/2);const Oe=yt.radius||function Wn(Lt,Le,Fe){const yt=Math.max(Math.abs(Lt-Fe.left),Math.abs(Lt-Fe.right)),je=Math.max(Math.abs(Le-Fe.top),Math.abs(Le-Fe.bottom));return Math.sqrt(yt*yt+je*je)}(Le,Fe,je),St=Le-je.left,gt=Fe-je.top,fn=ge.enterDuration,Dn=document.createElement("div");Dn.classList.add("mat-ripple-element"),Dn.style.left=St-Oe+"px",Dn.style.top=gt-Oe+"px",Dn.style.height=2*Oe+"px",Dn.style.width=2*Oe+"px",null!=yt.color&&(Dn.style.backgroundColor=yt.color),Dn.style.transitionDuration=`${fn}ms`,this._containerElement.appendChild(Dn);const Gn=window.getComputedStyle(Dn),fi=Gn.transitionDuration,yi="none"===Gn.transitionProperty||"0s"===fi||"0s, 0s"===fi||0===je.width&&0===je.height,Ln=new Gt(this,Dn,yt,yi);Dn.style.transform="scale3d(1, 1, 1)",Ln.state=0,yt.persistent||(this._mostRecentTransientRipple=Ln);let Jn=null;return!yi&&(fn||ge.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Me=()=>this._finishRippleTransition(Ln),Ae=()=>this._destroyRipple(Ln);Dn.addEventListener("transitionend",Me),Dn.addEventListener("transitioncancel",Ae),Jn={onTransitionEnd:Me,onTransitionCancel:Ae}}),this._activeRipples.set(Ln,Jn),(yi||!fn)&&this._finishRippleTransition(Ln),Ln}fadeOutRipple(Le){if(2===Le.state||3===Le.state)return;const Fe=Le.element,yt={..._n,...Le.config.animation};Fe.style.transitionDuration=`${yt.exitDuration}ms`,Fe.style.opacity="0",Le.state=2,(Le._animationForciblyDisabledThroughCss||!yt.exitDuration)&&this._finishRippleTransition(Le)}fadeOutAll(){this._getActiveRipples().forEach(Le=>Le.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Le=>{Le.config.persistent||Le.fadeOut()})}setupTriggerEvents(Le){const Fe=(0,ve.fI)(Le);!this._platform.isBrowser||!Fe||Fe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Fe,Un.forEach(yt=>{ni._eventManager.addHandler(this._ngZone,yt,Fe,this)}))}handleEvent(Le){"mousedown"===Le.type?this._onMousedown(Le):"touchstart"===Le.type?this._onTouchStart(Le):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{an.forEach(Fe=>{this._triggerElement.addEventListener(Fe,this,xt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Le){0===Le.state?this._startFadeOutTransition(Le):2===Le.state&&this._destroyRipple(Le)}_startFadeOutTransition(Le){const Fe=Le===this._mostRecentTransientRipple,{persistent:yt}=Le.config;Le.state=1,!yt&&(!Fe||!this._isPointerDown)&&Le.fadeOut()}_destroyRipple(Le){const Fe=this._activeRipples.get(Le)??null;this._activeRipples.delete(Le),this._activeRipples.size||(this._containerRect=null),Le===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Le.state=3,null!==Fe&&(Le.element.removeEventListener("transitionend",Fe.onTransitionEnd),Le.element.removeEventListener("transitioncancel",Fe.onTransitionCancel)),Le.element.remove()}_onMousedown(Le){const Fe=(0,w.X6)(Le),yt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Fe&&!yt&&(this._isPointerDown=!0,this.fadeInRipple(Le.clientX,Le.clientY,this._target.rippleConfig))}_onTouchStart(Le){if(!this._target.rippleDisabled&&!(0,w.yG)(Le)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Fe=Le.changedTouches;for(let yt=0;yt<Fe.length;yt++)this.fadeInRipple(Fe[yt].clientX,Fe[yt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Le=>{!Le.config.persistent&&(1===Le.state||Le.config.terminateOnPointerUp&&0===Le.state)&&Le.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Le=this._triggerElement;Le&&(Un.forEach(Fe=>ni._eventManager.removeHandler(Fe,Le,this)),this._pointerUpEventsRegistered&&an.forEach(Fe=>Le.removeEventListener(Fe,this,xt)))}}ni._eventManager=new dn},3903:(At,Ne,F)=>{"use strict";F.d(Ne,{Bq:()=>Gi,uw:()=>co,ZT:()=>bs,Is:()=>ir,so:()=>Ys});var D=F(1281),w=F(4650),ce=F(7579),le=F(9646),se=F(9751),ee=F(8421),ve=F(5577),ue=F(1144),xe=F(576),Pe=F(3268);const Re=["addListener","removeListener"],Ie=["addEventListener","removeEventListener"],ot=["on","off"];function $e(K,I,E,N){if((0,xe.m)(E)&&(N=E,E=void 0),N)return $e(K,I,E).pipe((0,Pe.Z)(N));const[q,be]=function bt(K){return(0,xe.m)(K.addEventListener)&&(0,xe.m)(K.removeEventListener)}(K)?Ie.map(et=>ft=>K[et](I,ft,E)):function Tt(K){return(0,xe.m)(K.addListener)&&(0,xe.m)(K.removeListener)}(K)?Re.map(pt(K,I)):function Ze(K){return(0,xe.m)(K.on)&&(0,xe.m)(K.off)}(K)?ot.map(pt(K,I)):[];if(!q&&(0,ue.z)(K))return(0,ve.z)(et=>$e(et,I,E))((0,ee.Xf)(K));if(!q)throw new TypeError("Invalid event target");return new se.y(et=>{const ft=(...kt)=>et.next(1<kt.length?kt:kt[0]);return q(ft),()=>be(ft)})}function pt(K,I){return E=>N=>K[E](I,N)}var at=F(4408),Ct=F(727);const Ke={schedule(K){let I=requestAnimationFrame,E=cancelAnimationFrame;const{delegate:N}=Ke;N&&(I=N.requestAnimationFrame,E=N.cancelAnimationFrame);const q=I(be=>{E=void 0,K(be)});return new Ct.w0(()=>E?.(q))},requestAnimationFrame(...K){const{delegate:I}=Ke;return(I?.requestAnimationFrame||requestAnimationFrame)(...K)},cancelAnimationFrame(...K){const{delegate:I}=Ke;return(I?.cancelAnimationFrame||cancelAnimationFrame)(...K)},delegate:void 0};var ct=F(7565);const rt=new class ke extends ct.v{flush(I){this._active=!0;const E=this._scheduled;this._scheduled=void 0;const{actions:N}=this;let q;I=I||N.shift();do{if(q=I.execute(I.state,I.delay))break}while((I=N[0])&&I.id===E&&N.shift());if(this._active=!1,q){for(;(I=N[0])&&I.id===E&&N.shift();)I.unsubscribe();throw q}}}(class te extends at.o{constructor(I,E){super(I,E),this.scheduler=I,this.work=E}requestAsyncId(I,E,N=0){return null!==N&&N>0?super.requestAsyncId(I,E,N):(I.actions.push(this),I._scheduled||(I._scheduled=Ke.requestAnimationFrame(()=>I.flush(void 0))))}recycleAsyncId(I,E,N=0){var q;if(null!=N?N>0:this.delay>0)return super.recycleAsyncId(I,E,N);const{actions:be}=I;null!=E&&(null===(q=be[be.length-1])||void 0===q?void 0:q.id)!==E&&(Ke.cancelAnimationFrame(E),I._scheduled=void 0)}});let Pt,wt=1;const Ot={};function qt(K){return K in Ot&&(delete Ot[K],!0)}const W={setImmediate(K){const I=wt++;return Ot[I]=!0,Pt||(Pt=Promise.resolve()),Pt.then(()=>qt(I)&&K()),I},clearImmediate(K){qt(K)}},{setImmediate:X,clearImmediate:Ee}=W,Se={setImmediate(...K){const{delegate:I}=Se;return(I?.setImmediate||X)(...K)},clearImmediate(K){const{delegate:I}=Se;return(I?.clearImmediate||Ee)(K)},delegate:void 0},He=new class _e extends ct.v{flush(I){this._active=!0;const E=this._scheduled;this._scheduled=void 0;const{actions:N}=this;let q;I=I||N.shift();do{if(q=I.execute(I.state,I.delay))break}while((I=N[0])&&I.id===E&&N.shift());if(this._active=!1,q){for(;(I=N[0])&&I.id===E&&N.shift();)I.unsubscribe();throw q}}}(class pe extends at.o{constructor(I,E){super(I,E),this.scheduler=I,this.work=E}requestAsyncId(I,E,N=0){return null!==N&&N>0?super.requestAsyncId(I,E,N):(I.actions.push(this),I._scheduled||(I._scheduled=Se.setImmediate(I.flush.bind(I,void 0))))}recycleAsyncId(I,E,N=0){var q;if(null!=N?N>0:this.delay>0)return super.recycleAsyncId(I,E,N);const{actions:be}=I;null!=E&&(null===(q=be[be.length-1])||void 0===q?void 0:q.id)!==E&&(Se.clearImmediate(E),I._scheduled=void 0)}});var qe=F(4986),Q=F(4482),ye=F(5403),Xe=F(3532);function Yt(K,I=qe.z){return function Be(K){return(0,Q.e)((I,E)=>{let N=!1,q=null,be=null,et=!1;const ft=()=>{if(be?.unsubscribe(),be=null,N){N=!1;const en=q;q=null,E.next(en)}et&&E.complete()},kt=()=>{be=null,et&&E.complete()};I.subscribe((0,ye.x)(E,en=>{N=!0,q=en,be||(0,ee.Xf)(K(en)).subscribe(be=(0,ye.x)(E,ft,kt))},()=>{et=!0,(!N||!be||be.closed)&&E.complete()}))})}(()=>function Gt(K=0,I,E=qe.P){let N=-1;return null!=I&&((0,Xe.K)(I)?E=I:N=I),new se.y(q=>{let be=function _t(K){return K instanceof Date&&!isNaN(K)}(K)?+K-E.now():K;be<0&&(be=0);let et=0;return E.schedule(function(){q.closed||(q.next(et++),0<=N?this.schedule(void 0,N):q.complete())},be)})}(K,I))}var dn=F(9300),_n=F(2722),zt=F(8675),xt=F(3353),Un=F(6895),an=F(445);const ni=["contentWrapper"],Wn=["*"],Xt=new w.OlP("VIRTUAL_SCROLL_STRATEGY");let lr=(()=>{class K{constructor(E,N,q){this._ngZone=E,this._platform=N,this._scrolled=new ce.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=q}register(E){this.scrollContainers.has(E)||this.scrollContainers.set(E,E.elementScrolled().subscribe(()=>this._scrolled.next(E)))}deregister(E){const N=this.scrollContainers.get(E);N&&(N.unsubscribe(),this.scrollContainers.delete(E))}scrolled(E=20){return this._platform.isBrowser?new se.y(N=>{this._globalSubscription||this._addGlobalListener();const q=E>0?this._scrolled.pipe(Yt(E)).subscribe(N):this._scrolled.subscribe(N);return this._scrolledCount++,()=>{q.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((E,N)=>this.deregister(N)),this._scrolled.complete()}ancestorScrolled(E,N){const q=this.getAncestorScrollContainers(E);return this.scrolled(N).pipe((0,dn.h)(be=>!be||q.indexOf(be)>-1))}getAncestorScrollContainers(E){const N=[];return this.scrollContainers.forEach((q,be)=>{this._scrollableContainsElement(be,E)&&N.push(be)}),N}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(E,N){let q=(0,D.fI)(N),be=E.getElementRef().nativeElement;do{if(q==be)return!0}while(q=q.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$e(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(w.R0b),w.LFG(xt.t4),w.LFG(Un.K0,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),bn=(()=>{class K{constructor(E,N,q,be){this.elementRef=E,this.scrollDispatcher=N,this.ngZone=q,this.dir=be,this._destroyed=new ce.x,this._elementScrolled=new se.y(et=>this.ngZone.runOutsideAngular(()=>$e(this.elementRef.nativeElement,"scroll").pipe((0,_n.R)(this._destroyed)).subscribe(et)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(E){const N=this.elementRef.nativeElement,q=this.dir&&"rtl"==this.dir.value;null==E.left&&(E.left=q?E.end:E.start),null==E.right&&(E.right=q?E.start:E.end),null!=E.bottom&&(E.top=N.scrollHeight-N.clientHeight-E.bottom),q&&0!=(0,xt._i)()?(null!=E.left&&(E.right=N.scrollWidth-N.clientWidth-E.left),2==(0,xt._i)()?E.left=E.right:1==(0,xt._i)()&&(E.left=E.right?-E.right:E.right)):null!=E.right&&(E.left=N.scrollWidth-N.clientWidth-E.right),this._applyScrollToOptions(E)}_applyScrollToOptions(E){const N=this.elementRef.nativeElement;(0,xt.Mq)()?N.scrollTo(E):(null!=E.top&&(N.scrollTop=E.top),null!=E.left&&(N.scrollLeft=E.left))}measureScrollOffset(E){const N="left",q="right",be=this.elementRef.nativeElement;if("top"==E)return be.scrollTop;if("bottom"==E)return be.scrollHeight-be.clientHeight-be.scrollTop;const et=this.dir&&"rtl"==this.dir.value;return"start"==E?E=et?q:N:"end"==E&&(E=et?N:q),et&&2==(0,xt._i)()?E==N?be.scrollWidth-be.clientWidth-be.scrollLeft:be.scrollLeft:et&&1==(0,xt._i)()?E==N?be.scrollLeft+be.scrollWidth-be.clientWidth:-be.scrollLeft:E==N?be.scrollLeft:be.scrollWidth-be.clientWidth-be.scrollLeft}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(lr),w.Y36(w.R0b),w.Y36(an.Is,8))},K.\u0275dir=w.lG2({type:K,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),K})(),Kt=(()=>{class K{constructor(E,N,q){this._platform=E,this._change=new ce.x,this._changeListener=be=>{this._change.next(be)},this._document=q,N.runOutsideAngular(()=>{if(E.isBrowser){const be=this._getWindow();be.addEventListener("resize",this._changeListener),be.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const E=this._getWindow();E.removeEventListener("resize",this._changeListener),E.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const E={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),E}getViewportRect(){const E=this.getViewportScrollPosition(),{width:N,height:q}=this.getViewportSize();return{top:E.top,left:E.left,bottom:E.top+q,right:E.left+N,height:q,width:N}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const E=this._document,N=this._getWindow(),q=E.documentElement,be=q.getBoundingClientRect();return{top:-be.top||E.body.scrollTop||N.scrollY||q.scrollTop||0,left:-be.left||E.body.scrollLeft||N.scrollX||q.scrollLeft||0}}change(E=20){return E>0?this._change.pipe(Yt(E)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const E=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:E.innerWidth,height:E.innerHeight}:{width:0,height:0}}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(xt.t4),w.LFG(w.R0b),w.LFG(Un.K0,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Ri=new w.OlP("VIRTUAL_SCROLLABLE");let hi=(()=>{class K extends bn{constructor(E,N,q,be){super(E,N,q,be)}measureViewportSize(E){const N=this.elementRef.nativeElement;return"horizontal"===E?N.clientWidth:N.clientHeight}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(lr),w.Y36(w.R0b),w.Y36(an.Is,8))},K.\u0275dir=w.lG2({type:K,features:[w.qOj]}),K})();const mn=typeof requestAnimationFrame<"u"?rt:He;let pi=(()=>{class K extends hi{get orientation(){return this._orientation}set orientation(E){this._orientation!==E&&(this._orientation=E,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(E){this._appendOnly=(0,D.Ig)(E)}constructor(E,N,q,be,et,ft,kt,en){super(E,ft,q,et),this.elementRef=E,this._changeDetectorRef=N,this._scrollStrategy=be,this.scrollable=en,this._platform=(0,w.f3M)(xt.t4),this._detachedSubject=new ce.x,this._renderedRangeSubject=new ce.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new se.y(Mt=>this._scrollStrategy.scrolledIndexChange.subscribe(Yn=>Promise.resolve().then(()=>this.ngZone.run(()=>Mt.next(Yn))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ct.w0.EMPTY,this._viewportChanges=kt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,zt.O)(null),Yt(0,mn)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(E){this.ngZone.runOutsideAngular(()=>{this._forOf=E,this._forOf.dataStream.pipe((0,_n.R)(this._detachedSubject)).subscribe(N=>{const q=N.length;q!==this._dataLength&&(this._dataLength=q,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(E){return this.getElementRef().nativeElement.getBoundingClientRect()[E]}setTotalContentSize(E){this._totalContentSize!==E&&(this._totalContentSize=E,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(E){(function di(K,I){return K.start==I.start&&K.end==I.end})(this._renderedRange,E)||(this.appendOnly&&(E={start:0,end:Math.max(this._renderedRange.end,E.end)}),this._renderedRangeSubject.next(this._renderedRange=E),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(E,N="to-start"){E=this.appendOnly&&"to-start"===N?0:E;const be="horizontal"==this.orientation,et=be?"X":"Y";let kt=`translate${et}(${Number((be&&this.dir&&"rtl"==this.dir.value?-1:1)*E)}px)`;this._renderedContentOffset=E,"to-end"===N&&(kt+=` translate${et}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=kt&&(this._renderedContentTransform=kt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(E,N="auto"){const q={behavior:N};"horizontal"===this.orientation?q.start=E:q.top=E,this.scrollable.scrollTo(q)}scrollToIndex(E,N="auto"){this._scrollStrategy.scrollToIndex(E,N)}measureScrollOffset(E){let N;return N=this.scrollable==this?q=>super.measureScrollOffset(q):q=>this.scrollable.measureScrollOffset(q),Math.max(0,N(E??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(E){let N;const q="left",et="rtl"==this.dir?.value;N="start"==E?et?"right":q:"end"==E?et?q:"right":E||("horizontal"===this.orientation?"left":"top");const ft=this.scrollable.measureBoundingClientRectWithScrollOffset(N);return this.elementRef.nativeElement.getBoundingClientRect()[N]-ft}measureRenderedContentSize(){const E=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?E.offsetWidth:E.offsetHeight}measureRangeSize(E){return this._forOf?this._forOf.measureRangeSize(E,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(E){E&&this._runAfterChangeDetection.push(E),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const E=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const N of E)N()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(w.sBO),w.Y36(w.R0b),w.Y36(Xt,8),w.Y36(an.Is,8),w.Y36(lr),w.Y36(Kt),w.Y36(Ri,8))},K.\u0275cmp=w.Xpm({type:K,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(E,N){if(1&E&&w.Gf(ni,7),2&E){let q;w.iGM(q=w.CRH())&&(N._contentWrapper=q.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(E,N){2&E&&w.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===N.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==N.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[w._Bn([{provide:bn,useFactory:(I,E)=>I||E,deps:[[new w.FiY,new w.tBr(Ri)],K]}]),w.qOj,w.jDz],ngContentSelectors:Wn,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(E,N){1&E&&(w.F$t(),w.TgZ(0,"div",0,1),w.Hsn(2),w.qZA(),w._UZ(3,"div",2)),2&E&&(w.xp6(3),w.Udp("width",N._totalContentWidth)("height",N._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),K})(),Lt=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({}),K})(),Le=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({imports:[an.vT,Lt,pi,an.vT,Lt]}),K})();class gt{attach(I){return this._attachedHost=I,I.attach(this)}detach(){let I=this._attachedHost;null!=I&&(this._attachedHost=null,I.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(I){this._attachedHost=I}}class fn extends gt{constructor(I,E,N,q,be){super(),this.component=I,this.viewContainerRef=E,this.injector=N,this.componentFactoryResolver=q,this.projectableNodes=be}}class Dn extends gt{constructor(I,E,N,q){super(),this.templateRef=I,this.viewContainerRef=E,this.context=N,this.injector=q}get origin(){return this.templateRef.elementRef}attach(I,E=this.context){return this.context=E,super.attach(I)}detach(){return this.context=void 0,super.detach()}}class Gn extends gt{constructor(I){super(),this.element=I instanceof w.SBq?I.nativeElement:I}}class cn{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(I){return I instanceof fn?(this._attachedPortal=I,this.attachComponentPortal(I)):I instanceof Dn?(this._attachedPortal=I,this.attachTemplatePortal(I)):this.attachDomPortal&&I instanceof Gn?(this._attachedPortal=I,this.attachDomPortal(I)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(I){this._disposeFn=I}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yi extends cn{constructor(I,E,N,q,be){super(),this.outletElement=I,this._componentFactoryResolver=E,this._appRef=N,this._defaultInjector=q,this.attachDomPortal=et=>{const ft=et.element,kt=this._document.createComment("dom-portal");ft.parentNode.insertBefore(kt,ft),this.outletElement.appendChild(ft),this._attachedPortal=et,super.setDisposeFn(()=>{kt.parentNode&&kt.parentNode.replaceChild(ft,kt)})},this._document=be}attachComponentPortal(I){const N=(I.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(I.component);let q;return I.viewContainerRef?(q=I.viewContainerRef.createComponent(N,I.viewContainerRef.length,I.injector||I.viewContainerRef.injector,I.projectableNodes||void 0),this.setDisposeFn(()=>q.destroy())):(q=N.create(I.injector||this._defaultInjector||w.zs3.NULL),this._appRef.attachView(q.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(q.hostView),q.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(q)),this._attachedPortal=I,q}attachTemplatePortal(I){let E=I.viewContainerRef,N=E.createEmbeddedView(I.templateRef,I.context,{injector:I.injector});return N.rootNodes.forEach(q=>this.outletElement.appendChild(q)),N.detectChanges(),this.setDisposeFn(()=>{let q=E.indexOf(N);-1!==q&&E.remove(q)}),this._attachedPortal=I,N}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(I){return I.hostView.rootNodes[0]}}let Ae=(()=>{class K extends cn{constructor(E,N,q){super(),this._componentFactoryResolver=E,this._viewContainerRef=N,this._isInitialized=!1,this.attached=new w.vpe,this.attachDomPortal=be=>{const et=be.element,ft=this._document.createComment("dom-portal");be.setAttachedHost(this),et.parentNode.insertBefore(ft,et),this._getRootNode().appendChild(et),this._attachedPortal=be,super.setDisposeFn(()=>{ft.parentNode&&ft.parentNode.replaceChild(et,ft)})},this._document=q}get portal(){return this._attachedPortal}set portal(E){this.hasAttached()&&!E&&!this._isInitialized||(this.hasAttached()&&super.detach(),E&&super.attach(E),this._attachedPortal=E||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(E){E.setAttachedHost(this);const N=null!=E.viewContainerRef?E.viewContainerRef:this._viewContainerRef,be=(E.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(E.component),et=N.createComponent(be,N.length,E.injector||N.injector,E.projectableNodes||void 0);return N!==this._viewContainerRef&&this._getRootNode().appendChild(et.hostView.rootNodes[0]),super.setDisposeFn(()=>et.destroy()),this._attachedPortal=E,this._attachedRef=et,this.attached.emit(et),et}attachTemplatePortal(E){E.setAttachedHost(this);const N=this._viewContainerRef.createEmbeddedView(E.templateRef,E.context,{injector:E.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=E,this._attachedRef=N,this.attached.emit(N),N}_getRootNode(){const E=this._viewContainerRef.element.nativeElement;return E.nodeType===E.ELEMENT_NODE?E:E.parentNode}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w._Vd),w.Y36(w.s_b),w.Y36(Un.K0))},K.\u0275dir=w.lG2({type:K,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[w.qOj]}),K})(),Ye=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({}),K})();var we=F(6451),he=F(5698);const ie=(0,xt.Mq)();class Ve{constructor(I,E){this._viewportRuler=I,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=E}attach(){}enable(){if(this._canBeEnabled()){const I=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=I.style.left||"",this._previousHTMLStyles.top=I.style.top||"",I.style.left=(0,D.HM)(-this._previousScrollPosition.left),I.style.top=(0,D.HM)(-this._previousScrollPosition.top),I.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const I=this._document.documentElement,N=I.style,q=this._document.body.style,be=N.scrollBehavior||"",et=q.scrollBehavior||"";this._isEnabled=!1,N.left=this._previousHTMLStyles.left,N.top=this._previousHTMLStyles.top,I.classList.remove("cdk-global-scrollblock"),ie&&(N.scrollBehavior=q.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ie&&(N.scrollBehavior=be,q.scrollBehavior=et)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const E=this._document.body,N=this._viewportRuler.getViewportSize();return E.scrollHeight>N.height||E.scrollWidth>N.width}}class Nt{constructor(I,E,N,q){this._scrollDispatcher=I,this._ngZone=E,this._viewportRuler=N,this._config=q,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(I){this._overlayRef=I}enable(){if(this._scrollSubscription)return;const I=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=I.subscribe(()=>{const E=this._viewportRuler.getViewportScrollPosition().top;Math.abs(E-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=I.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class on{enable(){}disable(){}attach(){}}function An(K,I){return I.some(E=>K.bottom<E.top||K.top>E.bottom||K.right<E.left||K.left>E.right)}function Ei(K,I){return I.some(E=>K.top<E.top||K.bottom>E.bottom||K.left<E.left||K.right>E.right)}class oi{constructor(I,E,N,q){this._scrollDispatcher=I,this._viewportRuler=E,this._ngZone=N,this._config=q,this._scrollSubscription=null}attach(I){this._overlayRef=I}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const E=this._overlayRef.overlayElement.getBoundingClientRect(),{width:N,height:q}=this._viewportRuler.getViewportSize();An(E,[{width:N,height:q,bottom:q,right:N,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kr=(()=>{class K{constructor(E,N,q,be){this._scrollDispatcher=E,this._viewportRuler=N,this._ngZone=q,this.noop=()=>new on,this.close=et=>new Nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,et),this.block=()=>new Ve(this._viewportRuler,this._document),this.reposition=et=>new oi(this._scrollDispatcher,this._viewportRuler,this._ngZone,et),this._document=be}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(lr),w.LFG(Kt),w.LFG(w.R0b),w.LFG(Un.K0))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();class Zr{constructor(I){if(this.scrollStrategy=new on,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,I){const E=Object.keys(I);for(const N of E)void 0!==I[N]&&(this[N]=I[N])}}}class Wi{constructor(I,E){this.connectionPair=I,this.scrollableViewProperties=E}}let nr=(()=>{class K{constructor(E){this._attachedOverlays=[],this._document=E}ngOnDestroy(){this.detach()}add(E){this.remove(E),this._attachedOverlays.push(E)}remove(E){const N=this._attachedOverlays.indexOf(E);N>-1&&this._attachedOverlays.splice(N,1),0===this._attachedOverlays.length&&this.detach()}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Un.K0))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Wt=(()=>{class K extends nr{constructor(E,N){super(E),this._ngZone=N,this._keydownListener=q=>{const be=this._attachedOverlays;for(let et=be.length-1;et>-1;et--)if(be[et]._keydownEvents.observers.length>0){const ft=be[et]._keydownEvents;this._ngZone?this._ngZone.run(()=>ft.next(q)):ft.next(q);break}}}add(E){super.add(E),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Un.K0),w.LFG(w.R0b,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),En=(()=>{class K extends nr{constructor(E,N,q){super(E),this._platform=N,this._ngZone=q,this._cursorStyleIsSet=!1,this._pointerDownListener=be=>{this._pointerDownEventTarget=(0,xt.sA)(be)},this._clickListener=be=>{const et=(0,xt.sA)(be),ft="click"===be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:et;this._pointerDownEventTarget=null;const kt=this._attachedOverlays.slice();for(let en=kt.length-1;en>-1;en--){const Mt=kt[en];if(Mt._outsidePointerEvents.observers.length<1||!Mt.hasAttached())continue;if(Mt.overlayElement.contains(et)||Mt.overlayElement.contains(ft))break;const Yn=Mt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Yn.next(be)):Yn.next(be)}}}add(E){if(super.add(E),!this._isAttached){const N=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(N)):this._addEventListeners(N),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=N.style.cursor,N.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const E=this._document.body;E.removeEventListener("pointerdown",this._pointerDownListener,!0),E.removeEventListener("click",this._clickListener,!0),E.removeEventListener("auxclick",this._clickListener,!0),E.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(E.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(E){E.addEventListener("pointerdown",this._pointerDownListener,!0),E.addEventListener("click",this._clickListener,!0),E.addEventListener("auxclick",this._clickListener,!0),E.addEventListener("contextmenu",this._clickListener,!0)}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Un.K0),w.LFG(xt.t4),w.LFG(w.R0b,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),ri=(()=>{class K{constructor(E,N){this._platform=N,this._document=E}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const E="cdk-overlay-container";if(this._platform.isBrowser||(0,xt.Oy)()){const q=this._document.querySelectorAll(`.${E}[platform="server"], .${E}[platform="test"]`);for(let be=0;be<q.length;be++)q[be].remove()}const N=this._document.createElement("div");N.classList.add(E),(0,xt.Oy)()?N.setAttribute("platform","test"):this._platform.isBrowser||N.setAttribute("platform","server"),this._document.body.appendChild(N),this._containerElement=N}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Un.K0),w.LFG(xt.t4))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();class Di{constructor(I,E,N,q,be,et,ft,kt,en,Mt=!1){this._portalOutlet=I,this._host=E,this._pane=N,this._config=q,this._ngZone=be,this._keyboardDispatcher=et,this._document=ft,this._location=kt,this._outsideClickDispatcher=en,this._animationsDisabled=Mt,this._backdropElement=null,this._backdropClick=new ce.x,this._attachments=new ce.x,this._detachments=new ce.x,this._locationChanges=Ct.w0.EMPTY,this._backdropClickHandler=Yn=>this._backdropClick.next(Yn),this._backdropTransitionendHandler=Yn=>{this._disposeBackdrop(Yn.target)},this._keydownEvents=new ce.x,this._outsidePointerEvents=new ce.x,q.scrollStrategy&&(this._scrollStrategy=q.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=q.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(I){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const E=this._portalOutlet.attach(I);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,he.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof E?.onDestroy&&E.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),E}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const I=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),I}dispose(){const I=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,I&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(I){I!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=I,this.hasAttached()&&(I.attach(this),this.updatePosition()))}updateSize(I){this._config={...this._config,...I},this._updateElementSize()}setDirection(I){this._config={...this._config,direction:I},this._updateElementDirection()}addPanelClass(I){this._pane&&this._toggleClasses(this._pane,I,!0)}removePanelClass(I){this._pane&&this._toggleClasses(this._pane,I,!1)}getDirection(){const I=this._config.direction;return I?"string"==typeof I?I:I.value:"ltr"}updateScrollStrategy(I){I!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=I,this.hasAttached()&&(I.attach(this),I.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const I=this._pane.style;I.width=(0,D.HM)(this._config.width),I.height=(0,D.HM)(this._config.height),I.minWidth=(0,D.HM)(this._config.minWidth),I.minHeight=(0,D.HM)(this._config.minHeight),I.maxWidth=(0,D.HM)(this._config.maxWidth),I.maxHeight=(0,D.HM)(this._config.maxHeight)}_togglePointerEvents(I){this._pane.style.pointerEvents=I?"":"none"}_attachBackdrop(){const I="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(I)})}):this._backdropElement.classList.add(I)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const I=this._backdropElement;if(I){if(this._animationsDisabled)return void this._disposeBackdrop(I);I.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{I.addEventListener("transitionend",this._backdropTransitionendHandler)}),I.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(I)},500))}}_toggleClasses(I,E,N){const q=(0,D.Eq)(E||[]).filter(be=>!!be);q.length&&(N?I.classList.add(...q):I.classList.remove(...q))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const I=this._ngZone.onStable.pipe((0,_n.R)((0,we.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),I.unsubscribe())})})}_disposeScrollStrategy(){const I=this._scrollStrategy;I&&(I.disable(),I.detach&&I.detach())}_disposeBackdrop(I){I&&(I.removeEventListener("click",this._backdropClickHandler),I.removeEventListener("transitionend",this._backdropTransitionendHandler),I.remove(),this._backdropElement===I&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yr="cdk-overlay-connected-position-bounding-box",Si=/([A-Za-z%]+)$/;class cr{get positions(){return this._preferredPositions}constructor(I,E,N,q,be){this._viewportRuler=E,this._document=N,this._platform=q,this._overlayContainer=be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ce.x,this._resizeSubscription=Ct.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(I)}attach(I){this._validatePositions(),I.hostElement.classList.add(yr),this._overlayRef=I,this._boundingBox=I.hostElement,this._pane=I.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const I=this._originRect,E=this._overlayRect,N=this._viewportRect,q=this._containerRect,be=[];let et;for(let ft of this._preferredPositions){let kt=this._getOriginPoint(I,q,ft),en=this._getOverlayPoint(kt,E,ft),Mt=this._getOverlayFit(en,E,N,ft);if(Mt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ft,kt);this._canFitWithFlexibleDimensions(Mt,en,N)?be.push({position:ft,origin:kt,overlayRect:E,boundingBoxRect:this._calculateBoundingBoxRect(kt,ft)}):(!et||et.overlayFit.visibleArea<Mt.visibleArea)&&(et={overlayFit:Mt,overlayPoint:en,originPoint:kt,position:ft,overlayRect:E})}if(be.length){let ft=null,kt=-1;for(const en of be){const Mt=en.boundingBoxRect.width*en.boundingBoxRect.height*(en.position.weight||1);Mt>kt&&(kt=Mt,ft=en)}return this._isPushed=!1,void this._applyPosition(ft.position,ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(et.position,et.originPoint);this._applyPosition(et.position,et.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yr),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const I=this._lastPosition;if(I){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const E=this._getOriginPoint(this._originRect,this._containerRect,I);this._applyPosition(I,E)}else this.apply()}withScrollableContainers(I){return this._scrollables=I,this}withPositions(I){return this._preferredPositions=I,-1===I.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(I){return this._viewportMargin=I,this}withFlexibleDimensions(I=!0){return this._hasFlexibleDimensions=I,this}withGrowAfterOpen(I=!0){return this._growAfterOpen=I,this}withPush(I=!0){return this._canPush=I,this}withLockedPosition(I=!0){return this._positionLocked=I,this}setOrigin(I){return this._origin=I,this}withDefaultOffsetX(I){return this._offsetX=I,this}withDefaultOffsetY(I){return this._offsetY=I,this}withTransformOriginOn(I){return this._transformOriginSelector=I,this}_getOriginPoint(I,E,N){let q,be;if("center"==N.originX)q=I.left+I.width/2;else{const et=this._isRtl()?I.right:I.left,ft=this._isRtl()?I.left:I.right;q="start"==N.originX?et:ft}return E.left<0&&(q-=E.left),be="center"==N.originY?I.top+I.height/2:"top"==N.originY?I.top:I.bottom,E.top<0&&(be-=E.top),{x:q,y:be}}_getOverlayPoint(I,E,N){let q,be;return q="center"==N.overlayX?-E.width/2:"start"===N.overlayX?this._isRtl()?-E.width:0:this._isRtl()?0:-E.width,be="center"==N.overlayY?-E.height/2:"top"==N.overlayY?0:-E.height,{x:I.x+q,y:I.y+be}}_getOverlayFit(I,E,N,q){const be=xr(E);let{x:et,y:ft}=I,kt=this._getOffset(q,"x"),en=this._getOffset(q,"y");kt&&(et+=kt),en&&(ft+=en);let Er=0-ft,Fi=ft+be.height-N.height,rr=this._subtractOverflows(be.width,0-et,et+be.width-N.width),br=this._subtractOverflows(be.height,Er,Fi),cs=rr*br;return{visibleArea:cs,isCompletelyWithinViewport:be.width*be.height===cs,fitsInViewportVertically:br===be.height,fitsInViewportHorizontally:rr==be.width}}_canFitWithFlexibleDimensions(I,E,N){if(this._hasFlexibleDimensions){const q=N.bottom-E.y,be=N.right-E.x,et=Ni(this._overlayRef.getConfig().minHeight),ft=Ni(this._overlayRef.getConfig().minWidth);return(I.fitsInViewportVertically||null!=et&&et<=q)&&(I.fitsInViewportHorizontally||null!=ft&&ft<=be)}return!1}_pushOverlayOnScreen(I,E,N){if(this._previousPushAmount&&this._positionLocked)return{x:I.x+this._previousPushAmount.x,y:I.y+this._previousPushAmount.y};const q=xr(E),be=this._viewportRect,et=Math.max(I.x+q.width-be.width,0),ft=Math.max(I.y+q.height-be.height,0),kt=Math.max(be.top-N.top-I.y,0),en=Math.max(be.left-N.left-I.x,0);let Mt=0,Yn=0;return Mt=q.width<=be.width?en||-et:I.x<this._viewportMargin?be.left-N.left-I.x:0,Yn=q.height<=be.height?kt||-ft:I.y<this._viewportMargin?be.top-N.top-I.y:0,this._previousPushAmount={x:Mt,y:Yn},{x:I.x+Mt,y:I.y+Yn}}_applyPosition(I,E){if(this._setTransformOrigin(I),this._setOverlayElementStyles(E,I),this._setBoundingBoxStyles(E,I),I.panelClass&&this._addPanelClasses(I.panelClass),this._lastPosition=I,this._positionChanges.observers.length){const N=this._getScrollVisibility(),q=new Wi(I,N);this._positionChanges.next(q)}this._isInitialRender=!1}_setTransformOrigin(I){if(!this._transformOriginSelector)return;const E=this._boundingBox.querySelectorAll(this._transformOriginSelector);let N,q=I.overlayY;N="center"===I.overlayX?"center":this._isRtl()?"start"===I.overlayX?"right":"left":"start"===I.overlayX?"left":"right";for(let be=0;be<E.length;be++)E[be].style.transformOrigin=`${N} ${q}`}_calculateBoundingBoxRect(I,E){const N=this._viewportRect,q=this._isRtl();let be,et,ft,Mt,Yn,Er;if("top"===E.overlayY)et=I.y,be=N.height-et+this._viewportMargin;else if("bottom"===E.overlayY)ft=N.height-I.y+2*this._viewportMargin,be=N.height-ft+this._viewportMargin;else{const Fi=Math.min(N.bottom-I.y+N.top,I.y),rr=this._lastBoundingBoxSize.height;be=2*Fi,et=I.y-Fi,be>rr&&!this._isInitialRender&&!this._growAfterOpen&&(et=I.y-rr/2)}if("end"===E.overlayX&&!q||"start"===E.overlayX&&q)Er=N.width-I.x+this._viewportMargin,Mt=I.x-this._viewportMargin;else if("start"===E.overlayX&&!q||"end"===E.overlayX&&q)Yn=I.x,Mt=N.right-I.x;else{const Fi=Math.min(N.right-I.x+N.left,I.x),rr=this._lastBoundingBoxSize.width;Mt=2*Fi,Yn=I.x-Fi,Mt>rr&&!this._isInitialRender&&!this._growAfterOpen&&(Yn=I.x-rr/2)}return{top:et,left:Yn,bottom:ft,right:Er,width:Mt,height:be}}_setBoundingBoxStyles(I,E){const N=this._calculateBoundingBoxRect(I,E);!this._isInitialRender&&!this._growAfterOpen&&(N.height=Math.min(N.height,this._lastBoundingBoxSize.height),N.width=Math.min(N.width,this._lastBoundingBoxSize.width));const q={};if(this._hasExactPosition())q.top=q.left="0",q.bottom=q.right=q.maxHeight=q.maxWidth="",q.width=q.height="100%";else{const be=this._overlayRef.getConfig().maxHeight,et=this._overlayRef.getConfig().maxWidth;q.height=(0,D.HM)(N.height),q.top=(0,D.HM)(N.top),q.bottom=(0,D.HM)(N.bottom),q.width=(0,D.HM)(N.width),q.left=(0,D.HM)(N.left),q.right=(0,D.HM)(N.right),q.alignItems="center"===E.overlayX?"center":"end"===E.overlayX?"flex-end":"flex-start",q.justifyContent="center"===E.overlayY?"center":"bottom"===E.overlayY?"flex-end":"flex-start",be&&(q.maxHeight=(0,D.HM)(be)),et&&(q.maxWidth=(0,D.HM)(et))}this._lastBoundingBoxSize=N,kn(this._boundingBox.style,q)}_resetBoundingBoxStyles(){kn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(I,E){const N={},q=this._hasExactPosition(),be=this._hasFlexibleDimensions,et=this._overlayRef.getConfig();if(q){const Mt=this._viewportRuler.getViewportScrollPosition();kn(N,this._getExactOverlayY(E,I,Mt)),kn(N,this._getExactOverlayX(E,I,Mt))}else N.position="static";let ft="",kt=this._getOffset(E,"x"),en=this._getOffset(E,"y");kt&&(ft+=`translateX(${kt}px) `),en&&(ft+=`translateY(${en}px)`),N.transform=ft.trim(),et.maxHeight&&(q?N.maxHeight=(0,D.HM)(et.maxHeight):be&&(N.maxHeight="")),et.maxWidth&&(q?N.maxWidth=(0,D.HM)(et.maxWidth):be&&(N.maxWidth="")),kn(this._pane.style,N)}_getExactOverlayY(I,E,N){let q={top:"",bottom:""},be=this._getOverlayPoint(E,this._overlayRect,I);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,N)),"bottom"===I.overlayY?q.bottom=this._document.documentElement.clientHeight-(be.y+this._overlayRect.height)+"px":q.top=(0,D.HM)(be.y),q}_getExactOverlayX(I,E,N){let et,q={left:"",right:""},be=this._getOverlayPoint(E,this._overlayRect,I);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,N)),et=this._isRtl()?"end"===I.overlayX?"left":"right":"end"===I.overlayX?"right":"left","right"===et?q.right=this._document.documentElement.clientWidth-(be.x+this._overlayRect.width)+"px":q.left=(0,D.HM)(be.x),q}_getScrollVisibility(){const I=this._getOriginRect(),E=this._pane.getBoundingClientRect(),N=this._scrollables.map(q=>q.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ei(I,N),isOriginOutsideView:An(I,N),isOverlayClipped:Ei(E,N),isOverlayOutsideView:An(E,N)}}_subtractOverflows(I,...E){return E.reduce((N,q)=>N-Math.max(q,0),I)}_getNarrowedViewportRect(){const I=this._document.documentElement.clientWidth,E=this._document.documentElement.clientHeight,N=this._viewportRuler.getViewportScrollPosition();return{top:N.top+this._viewportMargin,left:N.left+this._viewportMargin,right:N.left+I-this._viewportMargin,bottom:N.top+E-this._viewportMargin,width:I-2*this._viewportMargin,height:E-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(I,E){return"x"===E?null==I.offsetX?this._offsetX:I.offsetX:null==I.offsetY?this._offsetY:I.offsetY}_validatePositions(){}_addPanelClasses(I){this._pane&&(0,D.Eq)(I).forEach(E=>{""!==E&&-1===this._appliedPanelClasses.indexOf(E)&&(this._appliedPanelClasses.push(E),this._pane.classList.add(E))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(I=>{this._pane.classList.remove(I)}),this._appliedPanelClasses=[])}_getOriginRect(){const I=this._origin;if(I instanceof w.SBq)return I.nativeElement.getBoundingClientRect();if(I instanceof Element)return I.getBoundingClientRect();const E=I.width||0,N=I.height||0;return{top:I.y,bottom:I.y+N,left:I.x,right:I.x+E,height:N,width:E}}}function kn(K,I){for(let E in I)I.hasOwnProperty(E)&&(K[E]=I[E]);return K}function Ni(K){if("number"!=typeof K&&null!=K){const[I,E]=K.split(Si);return E&&"px"!==E?null:parseFloat(I)}return K||null}function xr(K){return{top:Math.floor(K.top),right:Math.floor(K.right),bottom:Math.floor(K.bottom),left:Math.floor(K.left),width:Math.floor(K.width),height:Math.floor(K.height)}}const Mr="cdk-global-overlay-wrapper";class _s{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(I){const E=I.getConfig();this._overlayRef=I,this._width&&!E.width&&I.updateSize({width:this._width}),this._height&&!E.height&&I.updateSize({height:this._height}),I.hostElement.classList.add(Mr),this._isDisposed=!1}top(I=""){return this._bottomOffset="",this._topOffset=I,this._alignItems="flex-start",this}left(I=""){return this._xOffset=I,this._xPosition="left",this}bottom(I=""){return this._topOffset="",this._bottomOffset=I,this._alignItems="flex-end",this}right(I=""){return this._xOffset=I,this._xPosition="right",this}start(I=""){return this._xOffset=I,this._xPosition="start",this}end(I=""){return this._xOffset=I,this._xPosition="end",this}width(I=""){return this._overlayRef?this._overlayRef.updateSize({width:I}):this._width=I,this}height(I=""){return this._overlayRef?this._overlayRef.updateSize({height:I}):this._height=I,this}centerHorizontally(I=""){return this.left(I),this._xPosition="center",this}centerVertically(I=""){return this.top(I),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const I=this._overlayRef.overlayElement.style,E=this._overlayRef.hostElement.style,N=this._overlayRef.getConfig(),{width:q,height:be,maxWidth:et,maxHeight:ft}=N,kt=!("100%"!==q&&"100vw"!==q||et&&"100%"!==et&&"100vw"!==et),en=!("100%"!==be&&"100vh"!==be||ft&&"100%"!==ft&&"100vh"!==ft),Mt=this._xPosition,Yn=this._xOffset,Er="rtl"===this._overlayRef.getConfig().direction;let Fi="",rr="",br="";kt?br="flex-start":"center"===Mt?(br="center",Er?rr=Yn:Fi=Yn):Er?"left"===Mt||"end"===Mt?(br="flex-end",Fi=Yn):("right"===Mt||"start"===Mt)&&(br="flex-start",rr=Yn):"left"===Mt||"start"===Mt?(br="flex-start",Fi=Yn):("right"===Mt||"end"===Mt)&&(br="flex-end",rr=Yn),I.position=this._cssPosition,I.marginLeft=kt?"0":Fi,I.marginTop=en?"0":this._topOffset,I.marginBottom=this._bottomOffset,I.marginRight=kt?"0":rr,E.justifyContent=br,E.alignItems=en?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const I=this._overlayRef.overlayElement.style,E=this._overlayRef.hostElement,N=E.style;E.classList.remove(Mr),N.justifyContent=N.alignItems=I.marginTop=I.marginBottom=I.marginLeft=I.marginRight=I.position="",this._overlayRef=null,this._isDisposed=!0}}let ur=(()=>{class K{constructor(E,N,q,be){this._viewportRuler=E,this._document=N,this._platform=q,this._overlayContainer=be}global(){return new _s}flexibleConnectedTo(E){return new cr(E,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Kt),w.LFG(Un.K0),w.LFG(xt.t4),w.LFG(ri))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Pi=0,vr=(()=>{class K{constructor(E,N,q,be,et,ft,kt,en,Mt,Yn,Er,Fi){this.scrollStrategies=E,this._overlayContainer=N,this._componentFactoryResolver=q,this._positionBuilder=be,this._keyboardDispatcher=et,this._injector=ft,this._ngZone=kt,this._document=en,this._directionality=Mt,this._location=Yn,this._outsideClickDispatcher=Er,this._animationsModuleType=Fi}create(E){const N=this._createHostElement(),q=this._createPaneElement(N),be=this._createPortalOutlet(q),et=new Zr(E);return et.direction=et.direction||this._directionality.value,new Di(be,N,q,et,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(E){const N=this._document.createElement("div");return N.id="cdk-overlay-"+Pi++,N.classList.add("cdk-overlay-pane"),E.appendChild(N),N}_createHostElement(){const E=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(E),E}_createPortalOutlet(E){return this._appRef||(this._appRef=this._injector.get(w.z2F)),new yi(E,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(Kr),w.LFG(ri),w.LFG(w._Vd),w.LFG(ur),w.LFG(Wt),w.LFG(w.zs3),w.LFG(w.R0b),w.LFG(Un.K0),w.LFG(an.Is),w.LFG(Un.Ye),w.LFG(En),w.LFG(w.QbO,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Tr={provide:new w.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vr],useFactory:function gi(K){return()=>K.scrollStrategies.reposition()}};let os=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({providers:[vr,Tr],imports:[an.vT,Ye,Le,Le]}),K})();var ki=F(2016),Pr=F(9521),Or=F(9770);function Yi(K,I){}class Vs{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let dr=(()=>{class K extends cn{constructor(E,N,q,be,et,ft,kt,en){super(),this._elementRef=E,this._focusTrapFactory=N,this._config=be,this._interactivityChecker=et,this._ngZone=ft,this._overlayRef=kt,this._focusMonitor=en,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Mt=>{this._portalOutlet.hasAttached();const Yn=this._portalOutlet.attachDomPortal(Mt);return this._contentAttached(),Yn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=q}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(E){this._portalOutlet.hasAttached();const N=this._portalOutlet.attachComponentPortal(E);return this._contentAttached(),N}attachTemplatePortal(E){this._portalOutlet.hasAttached();const N=this._portalOutlet.attachTemplatePortal(E);return this._contentAttached(),N}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(E,N){this._interactivityChecker.isFocusable(E)||(E.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const q=()=>{E.removeEventListener("blur",q),E.removeEventListener("mousedown",q),E.removeAttribute("tabindex")};E.addEventListener("blur",q),E.addEventListener("mousedown",q)})),E.focus(N)}_focusByCssSelector(E,N){let q=this._elementRef.nativeElement.querySelector(E);q&&this._forceFocus(q,N)}_trapFocus(){const E=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||E.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(N=>{N||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const E=this._config.restoreFocus;let N=null;if("string"==typeof E?N=this._document.querySelector(E):"boolean"==typeof E?N=E?this._elementFocusedBeforeDialogWasOpened:null:E&&(N=E),this._config.restoreFocus&&N&&"function"==typeof N.focus){const q=(0,xt.ht)(),be=this._elementRef.nativeElement;(!q||q===this._document.body||q===be||be.contains(q))&&(this._focusMonitor?(this._focusMonitor.focusVia(N,this._closeInteractionType),this._closeInteractionType=null):N.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const E=this._elementRef.nativeElement,N=(0,xt.ht)();return E===N||E.contains(N)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,xt.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(ki.qV),w.Y36(Un.K0,8),w.Y36(Vs),w.Y36(ki.ic),w.Y36(w.R0b),w.Y36(Di),w.Y36(ki.tE))},K.\u0275cmp=w.Xpm({type:K,selectors:[["cdk-dialog-container"]],viewQuery:function(E,N){if(1&E&&w.Gf(Ae,7),2&E){let q;w.iGM(q=w.CRH())&&(N._portalOutlet=q.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(E,N){2&E&&w.uIk("id",N._config.id||null)("role",N._config.role)("aria-modal",N._config.ariaModal)("aria-labelledby",N._config.ariaLabel?null:N._ariaLabelledBy)("aria-label",N._config.ariaLabel)("aria-describedby",N._config.ariaDescribedBy||null)},features:[w.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(E,N){1&E&&w.YNc(0,Yi,0,0,"ng-template",0)},dependencies:[Ae],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),K})();class Fr{constructor(I,E){this.overlayRef=I,this.config=E,this.closed=new ce.x,this.disableClose=E.disableClose,this.backdropClick=I.backdropClick(),this.keydownEvents=I.keydownEvents(),this.outsidePointerEvents=I.outsidePointerEvents(),this.id=E.id,this.keydownEvents.subscribe(N=>{N.keyCode===Pr.hY&&!this.disableClose&&!(0,Pr.Vb)(N)&&(N.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(I,E){if(this.containerInstance){const N=this.closed;this.containerInstance._closeInteractionType=E?.focusOrigin||"program",this.overlayRef.dispose(),N.next(I),N.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(I="",E=""){return this.overlayRef.updateSize({width:I,height:E}),this}addPanelClass(I){return this.overlayRef.addPanelClass(I),this}removePanelClass(I){return this.overlayRef.removePanelClass(I),this}}const qr=new w.OlP("DialogScrollStrategy"),fr=new w.OlP("DialogData"),Hi=new w.OlP("DefaultDialogConfig"),zs={provide:qr,deps:[vr],useFactory:function js(K){return()=>K.scrollStrategies.block()}};let oo=0,as=(()=>{class K{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(E,N,q,be,et,ft){this._overlay=E,this._injector=N,this._defaultOptions=q,this._parentDialog=be,this._overlayContainer=et,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ce.x,this._afterOpenedAtThisLevel=new ce.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Or.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,zt.O)(void 0))),this._scrollStrategy=ft}open(E,N){(N={...this._defaultOptions||new Vs,...N}).id=N.id||"cdk-dialog-"+oo++,N.id&&this.getDialogById(N.id);const be=this._getOverlayConfig(N),et=this._overlay.create(be),ft=new Fr(et,N),kt=this._attachContainer(et,ft,N);return ft.containerInstance=kt,this._attachDialogContent(E,ft,kt,N),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ft),ft.closed.subscribe(()=>this._removeOpenDialog(ft,!0)),this.afterOpened.next(ft),ft}closeAll(){$s(this.openDialogs,E=>E.close())}getDialogById(E){return this.openDialogs.find(N=>N.id===E)}ngOnDestroy(){$s(this._openDialogsAtThisLevel,E=>{!1===E.config.closeOnDestroy&&this._removeOpenDialog(E,!1)}),$s(this._openDialogsAtThisLevel,E=>E.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(E){const N=new Zr({positionStrategy:E.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:E.scrollStrategy||this._scrollStrategy(),panelClass:E.panelClass,hasBackdrop:E.hasBackdrop,direction:E.direction,minWidth:E.minWidth,minHeight:E.minHeight,maxWidth:E.maxWidth,maxHeight:E.maxHeight,width:E.width,height:E.height,disposeOnNavigation:E.closeOnNavigation});return E.backdropClass&&(N.backdropClass=E.backdropClass),N}_attachContainer(E,N,q){const be=q.injector||q.viewContainerRef?.injector,et=[{provide:Vs,useValue:q},{provide:Fr,useValue:N},{provide:Di,useValue:E}];let ft;q.container?"function"==typeof q.container?ft=q.container:(ft=q.container.type,et.push(...q.container.providers(q))):ft=dr;const kt=new fn(ft,q.viewContainerRef,w.zs3.create({parent:be||this._injector,providers:et}),q.componentFactoryResolver);return E.attach(kt).instance}_attachDialogContent(E,N,q,be){if(E instanceof w.Rgc){const et=this._createInjector(be,N,q,void 0);let ft={$implicit:be.data,dialogRef:N};be.templateContext&&(ft={...ft,..."function"==typeof be.templateContext?be.templateContext():be.templateContext}),q.attachTemplatePortal(new Dn(E,null,ft,et))}else{const et=this._createInjector(be,N,q,this._injector),ft=q.attachComponentPortal(new fn(E,be.viewContainerRef,et,be.componentFactoryResolver));N.componentInstance=ft.instance}}_createInjector(E,N,q,be){const et=E.injector||E.viewContainerRef?.injector,ft=[{provide:fr,useValue:E.data},{provide:Fr,useValue:N}];return E.providers&&("function"==typeof E.providers?ft.push(...E.providers(N,E,q)):ft.push(...E.providers)),E.direction&&(!et||!et.get(an.Is,null,{optional:!0}))&&ft.push({provide:an.Is,useValue:{value:E.direction,change:(0,le.of)()}}),w.zs3.create({parent:et||be,providers:ft})}_removeOpenDialog(E,N){const q=this.openDialogs.indexOf(E);q>-1&&(this.openDialogs.splice(q,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((be,et)=>{be?et.setAttribute("aria-hidden",be):et.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),N&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const E=this._overlayContainer.getContainerElement();if(E.parentElement){const N=E.parentElement.children;for(let q=N.length-1;q>-1;q--){const be=N[q];be!==E&&"SCRIPT"!==be.nodeName&&"STYLE"!==be.nodeName&&!be.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(be,be.getAttribute("aria-hidden")),be.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const E=this._parentDialog;return E?E._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(vr),w.LFG(w.zs3),w.LFG(Hi,8),w.LFG(K,12),w.LFG(ri),w.LFG(qr))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac}),K})();function $s(K,I){let E=K.length;for(;E--;)I(K[E])}let zo=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({providers:[as,zs],imports:[os,Ye,ki.rt,Ye]}),K})();var ys=F(3238);function ao(K,I){}F(7340);class Is{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Qr="mdc-dialog--open",vs="mdc-dialog--opening",$o="mdc-dialog--closing";let Ws=(()=>{class K extends dr{constructor(E,N,q,be,et,ft,kt,en){super(E,N,q,be,et,ft,kt,en),this._animationStateChanged=new w.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(E){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:E})}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(ki.qV),w.Y36(Un.K0,8),w.Y36(Is),w.Y36(ki.ic),w.Y36(w.R0b),w.Y36(Di),w.Y36(ki.tE))},K.\u0275cmp=w.Xpm({type:K,selectors:[["ng-component"]],features:[w.qOj],decls:0,vars:0,template:function(E,N){},encapsulation:2}),K})();const Es="--mat-dialog-transition-duration";function Ps(K){return null==K?null:"number"==typeof K?K:K.endsWith("ms")?(0,D.su)(K.substring(0,K.length-2)):K.endsWith("s")?1e3*(0,D.su)(K.substring(0,K.length-1)):"0"===K?0:null}let xo=(()=>{class K extends Ws{constructor(E,N,q,be,et,ft,kt,en,Mt){super(E,N,q,be,et,ft,kt,Mt),this._animationMode=en,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Ps(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Ps(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Es,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(vs),this._hostElement.classList.add(Qr),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Qr),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Qr),this._animationsEnabled?(this._hostElement.style.setProperty(Es,`${this._openAnimationDuration}ms`),this._hostElement.classList.add($o),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(vs),this._hostElement.classList.remove($o)}_waitForAnimationToComplete(E,N){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(N,E)}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(w.SBq),w.Y36(ki.qV),w.Y36(Un.K0,8),w.Y36(Is),w.Y36(ki.ic),w.Y36(w.R0b),w.Y36(Di),w.Y36(w.QbO,8),w.Y36(ki.tE))},K.\u0275cmp=w.Xpm({type:K,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(E,N){2&E&&(w.Ikx("id",N._config.id),w.uIk("aria-modal",N._config.ariaModal)("role",N._config.role)("aria-labelledby",N._config.ariaLabel?null:N._ariaLabelledBy)("aria-label",N._config.ariaLabel)("aria-describedby",N._config.ariaDescribedBy||null),w.ekj("_mat-animation-noopable",!N._animationsEnabled))},features:[w.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(E,N){1&E&&(w.TgZ(0,"div",0)(1,"div",1),w.YNc(2,ao,0,0,"ng-template",2),w.qZA()())},dependencies:[Ae],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),K})();class Ys{constructor(I,E,N){this._ref=I,this._containerInstance=N,this._afterOpened=new ce.x,this._beforeClosed=new ce.x,this._state=0,this.disableClose=E.disableClose,this.id=I.id,N._animationStateChanged.pipe((0,dn.h)(q=>"opened"===q.state),(0,he.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),N._animationStateChanged.pipe((0,dn.h)(q=>"closed"===q.state),(0,he.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),I.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,we.T)(this.backdropClick(),this.keydownEvents().pipe((0,dn.h)(q=>q.keyCode===Pr.hY&&!this.disableClose&&!(0,Pr.Vb)(q)))).subscribe(q=>{this.disableClose||(q.preventDefault(),lo(this,"keydown"===q.type?"keyboard":"mouse"))})}close(I){this._result=I,this._containerInstance._animationStateChanged.pipe((0,dn.h)(E=>"closing"===E.state),(0,he.q)(1)).subscribe(E=>{this._beforeClosed.next(I),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),E.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(I){let E=this._ref.config.positionStrategy;return I&&(I.left||I.right)?I.left?E.left(I.left):E.right(I.right):E.centerHorizontally(),I&&(I.top||I.bottom)?I.top?E.top(I.top):E.bottom(I.bottom):E.centerVertically(),this._ref.updatePosition(),this}updateSize(I="",E=""){return this._ref.updateSize(I,E),this}addPanelClass(I){return this._ref.addPanelClass(I),this}removePanelClass(I){return this._ref.removePanelClass(I),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function lo(K,I,E){return K._closeInteractionType=I,K.close(E)}const ls=new w.OlP("MatMdcDialogData"),Gi=new w.OlP("mat-mdc-dialog-default-options"),jr=new w.OlP("mat-mdc-dialog-scroll-strategy"),Xs={provide:jr,deps:[vr],useFactory:function zr(K){return()=>K.scrollStrategies.block()}};let Os=0,Fs=(()=>{class K{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const E=this._parentDialog;return E?E._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(E,N,q,be,et,ft,kt,en,Mt,Yn){this._overlay=E,this._defaultOptions=q,this._parentDialog=be,this._dialogRefConstructor=kt,this._dialogContainerType=en,this._dialogDataToken=Mt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ce.x,this._afterOpenedAtThisLevel=new ce.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Is,this.afterAllClosed=(0,Or.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,zt.O)(void 0))),this._scrollStrategy=ft,this._dialog=N.get(as)}open(E,N){let q;(N={...this._defaultOptions||new Is,...N}).id=N.id||`${this._idPrefix}${Os++}`,N.scrollStrategy=N.scrollStrategy||this._scrollStrategy();const be=this._dialog.open(E,{...N,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:N},{provide:Vs,useValue:N}]},templateContext:()=>({dialogRef:q}),providers:(et,ft,kt)=>(q=new this._dialogRefConstructor(et,N,kt),q.updatePosition(N?.position),[{provide:this._dialogContainerType,useValue:kt},{provide:this._dialogDataToken,useValue:ft.data},{provide:this._dialogRefConstructor,useValue:q}])});return q.componentInstance=be.componentInstance,this.openDialogs.push(q),this.afterOpened.next(q),q.afterClosed().subscribe(()=>{const et=this.openDialogs.indexOf(q);et>-1&&(this.openDialogs.splice(et,1),this.openDialogs.length||this._getAfterAllClosed().next())}),q}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(E){return this.openDialogs.find(N=>N.id===E)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(E){let N=E.length;for(;N--;)E[N].close()}}return K.\u0275fac=function(E){w.$Z()},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac}),K})(),co=(()=>{class K extends Fs{constructor(E,N,q,be,et,ft,kt,en){super(E,N,be,ft,kt,et,Ys,xo,ls,en),this._idPrefix="mat-mdc-dialog-"}}return K.\u0275fac=function(E){return new(E||K)(w.LFG(vr),w.LFG(w.zs3),w.LFG(Un.Ye,8),w.LFG(Gi,8),w.LFG(jr),w.LFG(K,12),w.LFG(ri),w.LFG(w.QbO,8))},K.\u0275prov=w.Yz7({token:K,factory:K.\u0275fac}),K})(),bs=(()=>{class K{constructor(E,N,q){this.dialogRef=E,this._elementRef=N,this._dialog=q,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Oi(K,I){let E=K.nativeElement.parentElement;for(;E&&!E.classList.contains("mat-mdc-dialog-container");)E=E.parentElement;return E?I.find(N=>N.id===E.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(E){const N=E._matDialogClose||E._matDialogCloseResult;N&&(this.dialogResult=N.currentValue)}_onButtonClick(E){lo(this.dialogRef,0===E.screenX&&0===E.screenY?"keyboard":"mouse",this.dialogResult)}}return K.\u0275fac=function(E){return new(E||K)(w.Y36(Ys,8),w.Y36(w.SBq),w.Y36(co))},K.\u0275dir=w.lG2({type:K,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(E,N){1&E&&w.NdJ("click",function(be){return N._onButtonClick(be)}),2&E&&w.uIk("aria-label",N.ariaLabel||null)("type",N.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[w.TTD]}),K})(),ir=(()=>{class K{}return K.\u0275fac=function(E){return new(E||K)},K.\u0275mod=w.oAB({type:K}),K.\u0275inj=w.cJS({providers:[co,Xs],imports:[zo,os,Ye,ys.BQ,ys.BQ]}),K})()},1481:(At,Ne,F)=>{"use strict";F.d(Ne,{Dx:()=>Ii,H7:()=>fi,b2:()=>Wn,q6:()=>xt,se:()=>qt});var D=F(6895),w=F(4650);class ce extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends ce{static makeCurrent(){(0,D.HT)(new le)}onAndCancel(Ae,ae,Ye){return Ae.addEventListener(ae,Ye,!1),()=>{Ae.removeEventListener(ae,Ye,!1)}}dispatchEvent(Ae,ae){Ae.dispatchEvent(ae)}remove(Ae){Ae.parentNode&&Ae.parentNode.removeChild(Ae)}createElement(Ae,ae){return(ae=ae||this.getDefaultDocument()).createElement(Ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ae){return Ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ae){return Ae instanceof DocumentFragment}getGlobalEventTarget(Ae,ae){return"window"===ae?window:"document"===ae?Ae:"body"===ae?Ae.body:null}getBaseHref(Ae){const ae=function ee(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==ae?null:function ue(Me){ve=ve||document.createElement("a"),ve.setAttribute("href",Me);const Ae=ve.pathname;return"/"===Ae.charAt(0)?Ae:`/${Ae}`}(ae)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ae){return(0,D.Mx)(document.cookie,Ae)}}let ve,se=null;const xe=new w.OlP("TRANSITION_ID"),Re=[{provide:w.ip1,useFactory:function Pe(Me,Ae,ae){return()=>{ae.get(w.CZH).donePromise.then(()=>{const Ye=(0,D.q)(),dt=Ae.querySelectorAll(`style[ng-transition="${Me}"]`);for(let we=0;we<dt.length;we++)Ye.remove(dt[we])})}},deps:[xe,D.K0,w.zs3],multi:!0}];let ot=(()=>{class Me{build(){return new XMLHttpRequest}}return Me.\u0275fac=function(ae){return new(ae||Me)},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const $e=new w.OlP("EventManagerPlugins");let pt=(()=>{class Me{constructor(ae,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,ae.forEach(dt=>dt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,Ye,dt){return this._findPluginFor(Ye).addEventListener(ae,Ye,dt)}addGlobalEventListener(ae,Ye,dt){return this._findPluginFor(Ye).addGlobalEventListener(ae,Ye,dt)}getZone(){return this._zone}_findPluginFor(ae){const Ye=this._eventNameToPlugin.get(ae);if(Ye)return Ye;const dt=this._plugins;for(let we=0;we<dt.length;we++){const he=dt[we];if(he.supports(ae))return this._eventNameToPlugin.set(ae,he),he}throw new Error(`No event manager plugin found for event ${ae}`)}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG($e),w.LFG(w.R0b))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class Tt{constructor(Ae){this._doc=Ae}addGlobalEventListener(Ae,ae,Ye){const dt=(0,D.q)().getGlobalEventTarget(this._doc,Ae);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${ae}`);return this.addEventListener(dt,ae,Ye)}}let Ze=(()=>{class Me{constructor(){this._stylesSet=new Set}addStyles(ae){const Ye=new Set;ae.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),Ye.add(dt))}),this.onStylesAdded(Ye)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return Me.\u0275fac=function(ae){return new(ae||Me)},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),bt=(()=>{class Me extends Ze{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,Ye,dt){ae.forEach(we=>{const he=this._doc.createElement("style");he.textContent=we,dt.push(Ye.appendChild(he))})}addHost(ae){const Ye=[];this._addStylesToHost(this._stylesSet,ae,Ye),this._hostNodes.set(ae,Ye)}removeHost(ae){const Ye=this._hostNodes.get(ae);Ye&&Ye.forEach(at),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((Ye,dt)=>{this._addStylesToHost(ae,dt,Ye)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(at))}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(D.K0))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();function at(Me){(0,D.q)().remove(Me)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g;function Pt(Me,Ae){return Ae.flat(100).map(ae=>ae.replace(Ke,Me))}function Ot(Me){return Ae=>{if("__ngUnwrap__"===Ae)return Me;!1===Me(Ae)&&(Ae.preventDefault(),Ae.returnValue=!1)}}let qt=(()=>{class Me{constructor(ae,Ye,dt){this.eventManager=ae,this.sharedStylesHost=Ye,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new W(ae)}createRenderer(ae,Ye){if(!ae||!Ye)return this.defaultRenderer;switch(Ye.encapsulation){case w.ifc.Emulated:{let dt=this.rendererByCompId.get(Ye.id);return dt||(dt=new Se(this.eventManager,this.sharedStylesHost,Ye,this.appId),this.rendererByCompId.set(Ye.id,dt)),dt.applyToHost(ae),dt}case w.ifc.ShadowDom:return new pe(this.eventManager,this.sharedStylesHost,ae,Ye);default:if(!this.rendererByCompId.has(Ye.id)){const dt=Pt(Ye.id,Ye.styles);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(Ye.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(pt),w.LFG(bt),w.LFG(w.AFp))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class W{constructor(Ae){this.eventManager=Ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ae,ae){return ae?document.createElementNS(Ct[ae]||ae,Ae):document.createElement(Ae)}createComment(Ae){return document.createComment(Ae)}createText(Ae){return document.createTextNode(Ae)}appendChild(Ae,ae){(Ee(Ae)?Ae.content:Ae).appendChild(ae)}insertBefore(Ae,ae,Ye){Ae&&(Ee(Ae)?Ae.content:Ae).insertBefore(ae,Ye)}removeChild(Ae,ae){Ae&&Ae.removeChild(ae)}selectRootElement(Ae,ae){let Ye="string"==typeof Ae?document.querySelector(Ae):Ae;if(!Ye)throw new Error(`The selector "${Ae}" did not match any elements`);return ae||(Ye.textContent=""),Ye}parentNode(Ae){return Ae.parentNode}nextSibling(Ae){return Ae.nextSibling}setAttribute(Ae,ae,Ye,dt){if(dt){ae=dt+":"+ae;const we=Ct[dt];we?Ae.setAttributeNS(we,ae,Ye):Ae.setAttribute(ae,Ye)}else Ae.setAttribute(ae,Ye)}removeAttribute(Ae,ae,Ye){if(Ye){const dt=Ct[Ye];dt?Ae.removeAttributeNS(dt,ae):Ae.removeAttribute(`${Ye}:${ae}`)}else Ae.removeAttribute(ae)}addClass(Ae,ae){Ae.classList.add(ae)}removeClass(Ae,ae){Ae.classList.remove(ae)}setStyle(Ae,ae,Ye,dt){dt&(w.JOm.DashCase|w.JOm.Important)?Ae.style.setProperty(ae,Ye,dt&w.JOm.Important?"important":""):Ae.style[ae]=Ye}removeStyle(Ae,ae,Ye){Ye&w.JOm.DashCase?Ae.style.removeProperty(ae):Ae.style[ae]=""}setProperty(Ae,ae,Ye){Ae[ae]=Ye}setValue(Ae,ae){Ae.nodeValue=ae}listen(Ae,ae,Ye){return"string"==typeof Ae?this.eventManager.addGlobalEventListener(Ae,ae,Ot(Ye)):this.eventManager.addEventListener(Ae,ae,Ot(Ye))}}function Ee(Me){return"TEMPLATE"===Me.tagName&&void 0!==Me.content}class Se extends W{constructor(Ae,ae,Ye,dt){super(Ae),this.component=Ye;const we=Pt(dt+"-"+Ye.id,Ye.styles);ae.addStyles(we),this.contentAttr=function Te(Me){return"_ngcontent-%COMP%".replace(Ke,Me)}(dt+"-"+Ye.id),this.hostAttr=function wt(Me){return"_nghost-%COMP%".replace(Ke,Me)}(dt+"-"+Ye.id)}applyToHost(Ae){super.setAttribute(Ae,this.hostAttr,"")}createElement(Ae,ae){const Ye=super.createElement(Ae,ae);return super.setAttribute(Ye,this.contentAttr,""),Ye}}class pe extends W{constructor(Ae,ae,Ye,dt){super(Ae),this.sharedStylesHost=ae,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const we=Pt(dt.id,dt.styles);for(let he=0;he<we.length;he++){const ie=document.createElement("style");ie.textContent=we[he],this.shadowRoot.appendChild(ie)}}nodeOrShadowRoot(Ae){return Ae===this.hostEl?this.shadowRoot:Ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ae,ae){return super.appendChild(this.nodeOrShadowRoot(Ae),ae)}insertBefore(Ae,ae,Ye){return super.insertBefore(this.nodeOrShadowRoot(Ae),ae,Ye)}removeChild(Ae,ae){return super.removeChild(this.nodeOrShadowRoot(Ae),ae)}parentNode(Ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ae)))}}let _e=(()=>{class Me extends Tt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Ye,dt){return ae.addEventListener(Ye,dt,!1),()=>this.removeEventListener(ae,Ye,dt)}removeEventListener(ae,Ye,dt){return ae.removeEventListener(Ye,dt)}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(D.K0))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const He=["alt","control","meta","shift"],Ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qe={alt:Me=>Me.altKey,control:Me=>Me.ctrlKey,meta:Me=>Me.metaKey,shift:Me=>Me.shiftKey};let Q=(()=>{class Me extends Tt{constructor(ae){super(ae)}supports(ae){return null!=Me.parseEventName(ae)}addEventListener(ae,Ye,dt){const we=Me.parseEventName(Ye),he=Me.eventCallback(we.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(ae,we.domEventName,he))}static parseEventName(ae){const Ye=ae.toLowerCase().split("."),dt=Ye.shift();if(0===Ye.length||"keydown"!==dt&&"keyup"!==dt)return null;const we=Me._normalizeKey(Ye.pop());let he="",ie=Ye.indexOf("code");if(ie>-1&&(Ye.splice(ie,1),he="code."),He.forEach(nt=>{const Nt=Ye.indexOf(nt);Nt>-1&&(Ye.splice(Nt,1),he+=nt+".")}),he+=we,0!=Ye.length||0===we.length)return null;const Ve={};return Ve.domEventName=dt,Ve.fullKey=he,Ve}static matchEventFullKeyCode(ae,Ye){let dt=Ce[ae.key]||ae.key,we="";return Ye.indexOf("code.")>-1&&(dt=ae.code,we="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),He.forEach(he=>{he!==dt&&(0,qe[he])(ae)&&(we+=he+".")}),we+=dt,we===Ye)}static eventCallback(ae,Ye,dt){return we=>{Me.matchEventFullKeyCode(we,ae)&&dt.runGuarded(()=>Ye(we))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(D.K0))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const xt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:D.bD},{provide:w.g9A,useValue:function Yt(){le.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function _n(){return(0,w.RDi)(document),document},deps:[]}]),Un=new w.OlP(""),an=[{provide:w.rWj,useClass:class Ie{addToWindow(Ae){w.dqk.getAngularTestability=(Ye,dt=!0)=>{const we=Ae.findTestabilityInTree(Ye,dt);if(null==we)throw new Error("Could not find testability for element.");return we},w.dqk.getAllAngularTestabilities=()=>Ae.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>Ae.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(Ye=>{const dt=w.dqk.getAllAngularTestabilities();let we=dt.length,he=!1;const ie=function(Ve){he=he||Ve,we--,0==we&&Ye(he)};dt.forEach(function(Ve){Ve.whenStable(ie)})})}findTestabilityInTree(Ae,ae,Ye){return null==ae?null:Ae.getTestability(ae)??(Ye?(0,D.q)().isShadowRoot(ae)?this.findTestabilityInTree(Ae,ae.host,!0):this.findTestabilityInTree(Ae,ae.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],ni=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function dn(){return new w.qLn},deps:[]},{provide:$e,useClass:_e,multi:!0,deps:[D.K0,w.R0b,w.Lbi]},{provide:$e,useClass:Q,multi:!0,deps:[D.K0]},{provide:qt,useClass:qt,deps:[pt,bt,w.AFp]},{provide:w.FYo,useExisting:qt},{provide:Ze,useExisting:bt},{provide:bt,useClass:bt,deps:[D.K0]},{provide:pt,useClass:pt,deps:[$e,w.R0b]},{provide:D.JF,useClass:ot,deps:[]},[]];let Wn=(()=>{class Me{constructor(ae){}static withServerTransition(ae){return{ngModule:Me,providers:[{provide:w.AFp,useValue:ae.appId},{provide:xe,useExisting:w.AFp},Re]}}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(Un,12))},Me.\u0275mod=w.oAB({type:Me}),Me.\u0275inj=w.cJS({providers:[...ni,...an],imports:[D.ez,w.hGG]}),Me})(),Ii=(()=>{class Me{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(D.K0))},Me.\u0275prov=w.Yz7({token:Me,factory:function(ae){let Ye=null;return Ye=ae?new ae:function si(){return new Ii((0,w.LFG)(D.K0))}(),Ye},providedIn:"root"}),Me})();typeof window<"u"&&window;let fi=(()=>{class Me{}return Me.\u0275fac=function(ae){return new(ae||Me)},Me.\u0275prov=w.Yz7({token:Me,factory:function(ae){let Ye=null;return Ye=ae?new(ae||Me):w.LFG(Ln),Ye},providedIn:"root"}),Me})(),Ln=(()=>{class Me extends fi{constructor(ae){super(),this._doc=ae}sanitize(ae,Ye){if(null==Ye)return null;switch(ae){case w.q3G.NONE:return Ye;case w.q3G.HTML:return(0,w.qzn)(Ye,"HTML")?(0,w.z3N)(Ye):(0,w.EiD)(this._doc,String(Ye)).toString();case w.q3G.STYLE:return(0,w.qzn)(Ye,"Style")?(0,w.z3N)(Ye):Ye;case w.q3G.SCRIPT:if((0,w.qzn)(Ye,"Script"))return(0,w.z3N)(Ye);throw new Error("unsafe value used in a script context");case w.q3G.URL:return(0,w.qzn)(Ye,"URL")?(0,w.z3N)(Ye):(0,w.mCW)(String(Ye));case w.q3G.RESOURCE_URL:if((0,w.qzn)(Ye,"ResourceURL"))return(0,w.z3N)(Ye);throw new Error(`unsafe value used in a resource URL context (see ${w.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ae} (see ${w.JZr})`)}}bypassSecurityTrustHtml(ae){return(0,w.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,w.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,w.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,w.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,w.pB0)(ae)}}return Me.\u0275fac=function(ae){return new(ae||Me)(w.LFG(D.K0))},Me.\u0275prov=w.Yz7({token:Me,factory:function(ae){let Ye=null;return Ye=ae?new ae:function yi(Me){return new Ln(Me.get(D.K0))}(w.LFG(w.zs3)),Ye},providedIn:"root"}),Me})()},4843:(At,Ne,F)=>{"use strict";F.d(Ne,{F0:()=>qi,rH:()=>Cs,Bz:()=>eo,lC:()=>zr});var D=F(4650),w=F(2076),ce=F(9646),le=F(1135);const ee=(0,F(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"});var ve=F(9841),ue=F(7272),xe=F(9770),Pe=F(9635),Re=F(2843),Ie=F(9751),ot=F(515),$e=F(727),pt=F(4482),Tt=F(5403);function Ze(){return(0,pt.e)((m,v)=>{let f=null;m._refCount++;const x=(0,Tt.x)(v,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(f=null);const P=m._connection,j=f;f=null,P&&(!j||P===j)&&P.unsubscribe(),v.unsubscribe()});m.subscribe(x),x.closed||(f=m.connect())})}class bt extends Ie.y{constructor(v,f){super(),this.source=v,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,pt.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new $e.w0;const f=this.getSubject();v.add(this.source.subscribe((0,Tt.x)(f,void 0,()=>{this._teardown(),f.complete()},x=>{this._teardown(),f.error(x)},()=>this._teardown()))),v.closed&&(this._connection=null,v=$e.w0.EMPTY)}return v}refCount(){return Ze()(this)}}var at=F(7579),Ct=F(6895),Ke=F(4004),te=F(3900),ct=F(5698),ke=F(8675),rt=F(9300),Te=F(5577);function wt(m){return(0,pt.e)((v,f)=>{let x=!1;v.subscribe((0,Tt.x)(f,P=>{x=!0,f.next(P)},()=>{x||f.next(m),f.complete()}))})}function Pt(m=Ot){return(0,pt.e)((v,f)=>{let x=!1;v.subscribe((0,Tt.x)(f,P=>{x=!0,f.next(P)},()=>x?f.complete():f.error(m())))})}function Ot(){return new ee}var qt=F(4671);function W(m,v){const f=arguments.length>=2;return x=>x.pipe(m?(0,rt.h)((P,j)=>m(P,j,x)):qt.y,(0,ct.q)(1),f?wt(v):Pt(()=>new ee))}var ne=F(4351),X=F(8505),Ee=F(262);function Se(m,v,f,x,P){return(j,$)=>{let ze=f,mt=v,ln=0;j.subscribe((0,Tt.x)($,Qt=>{const ci=ln++;mt=ze?m(mt,Qt,ci):(ze=!0,Qt),x&&$.next(mt)},P&&(()=>{ze&&$.next(mt),$.complete()})))}}function pe(m,v){return(0,pt.e)(Se(m,v,arguments.length>=2,!0))}function _e(m){return m<=0?()=>ot.E:(0,pt.e)((v,f)=>{let x=[];v.subscribe((0,Tt.x)(f,P=>{x.push(P),m<x.length&&x.shift()},()=>{for(const P of x)f.next(P);f.complete()},void 0,()=>{x=null}))})}function He(m,v){const f=arguments.length>=2;return x=>x.pipe(m?(0,rt.h)((P,j)=>m(P,j,x)):qt.y,_e(1),f?wt(v):Pt(()=>new ee))}var Q=F(8746),ye=F(8189),Be=F(1481);const Xe="primary",_t=Symbol("RouteTitle");class Gt{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f[0]:f}return null}getAll(v){if(this.has(v)){const f=this.params[v];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Yt(m){return new Gt(m)}function dn(m,v,f){const x=f.path.split("/");if(x.length>m.length||"full"===f.pathMatch&&(v.hasChildren()||x.length<m.length))return null;const P={};for(let j=0;j<x.length;j++){const $=x[j],ze=m[j];if($.startsWith(":"))P[$.substring(1)]=ze;else if($!==ze.path)return null}return{consumed:m.slice(0,x.length),posParams:P}}function zt(m,v){const f=m?Object.keys(m):void 0,x=v?Object.keys(v):void 0;if(!f||!x||f.length!=x.length)return!1;let P;for(let j=0;j<f.length;j++)if(P=f[j],!xt(m[P],v[P]))return!1;return!0}function xt(m,v){if(Array.isArray(m)&&Array.isArray(v)){if(m.length!==v.length)return!1;const f=[...m].sort(),x=[...v].sort();return f.every((P,j)=>x[j]===P)}return m===v}function Un(m){return Array.prototype.concat.apply([],m)}function an(m){return m.length>0?m[m.length-1]:null}function Wn(m,v){for(const f in m)m.hasOwnProperty(f)&&v(m[f],f)}function Xt(m){return(0,D.CqO)(m)?m:(0,D.QGY)(m)?(0,w.D)(Promise.resolve(m)):(0,ce.of)(m)}const $i=!1,Hr={exact:function bn(m,v,f){if(!ii(m.segments,v.segments)||!hi(m.segments,v.segments,f)||m.numberOfChildren!==v.numberOfChildren)return!1;for(const x in v.children)if(!m.children[x]||!bn(m.children[x],v.children[x],f))return!1;return!0},subset:Kt},si={exact:function lr(m,v){return zt(m,v)},subset:function gn(m,v){return Object.keys(v).length<=Object.keys(m).length&&Object.keys(v).every(f=>xt(m[f],v[f]))},ignored:()=>!0};function Ii(m,v,f){return Hr[f.paths](m.root,v.root,f.matrixParams)&&si[f.queryParams](m.queryParams,v.queryParams)&&!("exact"===f.fragment&&m.fragment!==v.fragment)}function Kt(m,v,f){return Ri(m,v,v.segments,f)}function Ri(m,v,f,x){if(m.segments.length>f.length){const P=m.segments.slice(0,f.length);return!(!ii(P,f)||v.hasChildren()||!hi(P,f,x))}if(m.segments.length===f.length){if(!ii(m.segments,f)||!hi(m.segments,f,x))return!1;for(const P in v.children)if(!m.children[P]||!Kt(m.children[P],v.children[P],x))return!1;return!0}{const P=f.slice(0,m.segments.length),j=f.slice(m.segments.length);return!!(ii(m.segments,P)&&hi(m.segments,P,x)&&m.children[Xe])&&Ri(m.children[Xe],v,j,x)}}function hi(m,v,f){return v.every((x,P)=>si[f](m[P].parameters,x.parameters))}class di{constructor(v=new mn([],{}),f={},x=null){this.root=v,this.queryParams=f,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return Le.serialize(this)}}class mn{constructor(v,f){this.segments=v,this.children=f,this.parent=null,Wn(f,(x,P)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fe(this)}}class pi{constructor(v,f){this.path=v,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Yt(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function ii(m,v){return m.length===v.length&&m.every((f,x)=>f.path===v[x].path)}let Pn=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:function(){return new Lt},providedIn:"root"}),m})();class Lt{parse(v){const f=new ae(v);return new di(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(v){const f=`/${yt(v.root,!0)}`,x=function cn(m){const v=Object.keys(m).map(f=>{const x=m[f];return Array.isArray(x)?x.map(P=>`${ge(f)}=${ge(P)}`).join("&"):`${ge(f)}=${ge(x)}`}).filter(f=>!!f);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${f}${x}${"string"==typeof v.fragment?`#${function Oe(m){return encodeURI(m)}(v.fragment)}`:""}`}}const Le=new Lt;function Fe(m){return m.segments.map(v=>Dn(v)).join("/")}function yt(m,v){if(!m.hasChildren())return Fe(m);if(v){const f=m.children[Xe]?yt(m.children[Xe],!1):"",x=[];return Wn(m.children,(P,j)=>{j!==Xe&&x.push(`${j}:${yt(P,!1)}`)}),x.length>0?`${f}(${x.join("//")})`:f}{const f=function Gr(m,v){let f=[];return Wn(m.children,(x,P)=>{P===Xe&&(f=f.concat(v(x,P)))}),Wn(m.children,(x,P)=>{P!==Xe&&(f=f.concat(v(x,P)))}),f}(m,(x,P)=>P===Xe?[yt(m.children[Xe],!1)]:[`${P}:${yt(x,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[Xe]?`${Fe(m)}/${f[0]}`:`${Fe(m)}/(${f.join("//")})`}}function je(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(m){return je(m).replace(/%3B/gi,";")}function St(m){return je(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gt(m){return decodeURIComponent(m)}function fn(m){return gt(m.replace(/\+/g,"%20"))}function Dn(m){return`${St(m.path)}${function Gn(m){return Object.keys(m).map(v=>`;${St(v)}=${St(m[v])}`).join("")}(m.parameters)}`}const fi=/^[^\/()?;=#]+/;function yi(m){const v=m.match(fi);return v?v[0]:""}const Ln=/^[^=?&#]+/,Me=/^[^&#]+/;class ae{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(v.length>0||Object.keys(f).length>0)&&(x[Xe]=new mn(v,f)),x}parseSegment(){const v=yi(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new D.vHH(4009,$i);return this.capture(v),new pi(gt(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const f=yi(this.remaining);if(!f)return;this.capture(f);let x="";if(this.consumeOptional("=")){const P=yi(this.remaining);P&&(x=P,this.capture(x))}v[gt(f)]=gt(x)}parseQueryParam(v){const f=function Jn(m){const v=m.match(Ln);return v?v[0]:""}(this.remaining);if(!f)return;this.capture(f);let x="";if(this.consumeOptional("=")){const $=function Ae(m){const v=m.match(Me);return v?v[0]:""}(this.remaining);$&&(x=$,this.capture(x))}const P=fn(f),j=fn(x);if(v.hasOwnProperty(P)){let $=v[P];Array.isArray($)||($=[$],v[P]=$),$.push(j)}else v[P]=j}parseParens(v){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=yi(this.remaining),P=this.remaining[x.length];if("/"!==P&&")"!==P&&";"!==P)throw new D.vHH(4010,$i);let j;x.indexOf(":")>-1?(j=x.slice(0,x.indexOf(":")),this.capture(j),this.capture(":")):v&&(j=Xe);const $=this.parseChildren();f[j]=1===Object.keys($).length?$[Xe]:new mn([],$),this.consumeOptional("//")}return f}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new D.vHH(4011,$i)}}function Ye(m){return m.segments.length>0?new mn([],{[Xe]:m}):m}function dt(m){const v={};for(const x of Object.keys(m.children)){const j=dt(m.children[x]);(j.segments.length>0||j.hasChildren())&&(v[x]=j)}return function we(m){if(1===m.numberOfChildren&&m.children[Xe]){const v=m.children[Xe];return new mn(m.segments.concat(v.segments),v.children)}return m}(new mn(m.segments,v))}function he(m){return m instanceof di}function on(m,v,f,x,P){if(0===f.length)return oi(v.root,v.root,v.root,x,P);const j=function qn(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new Zr(!0,0,m);let v=0,f=!1;const x=m.reduce((P,j,$)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ze={};return Wn(j.outlets,(mt,ln)=>{ze[ln]="string"==typeof mt?mt.split("/"):mt}),[...P,{outlets:ze}]}if(j.segmentPath)return[...P,j.segmentPath]}return"string"!=typeof j?[...P,j]:0===$?(j.split("/").forEach((ze,mt)=>{0==mt&&"."===ze||(0==mt&&""===ze?f=!0:".."===ze?v++:""!=ze&&P.push(ze))}),P):[...P,j]},[]);return new Zr(f,v,x)}(f);return j.toRoot()?oi(v.root,v.root,new mn([],{}),x,P):function $(mt){const ln=function Vr(m,v,f,x){if(m.isAbsolute)return new bi(v.root,!0,0);if(-1===x)return new bi(f,f===v.root,0);return function Ji(m,v,f){let x=m,P=v,j=f;for(;j>P;){if(j-=P,x=x.parent,!x)throw new D.vHH(4005,!1);P=x.segments.length}return new bi(x,!1,P-j)}(f,x+(An(m.commands[0])?0:1),m.numberOfDoubleDots)}(j,v,m.snapshot?._urlSegment,mt),Qt=ln.processChildren?En(ln.segmentGroup,ln.index,j.commands):Wt(ln.segmentGroup,ln.index,j.commands);return oi(v.root,ln.segmentGroup,Qt,x,P)}(m.snapshot?._lastPathIndex)}function An(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function Ei(m){return"object"==typeof m&&null!=m&&m.outlets}function oi(m,v,f,x,P){let $,j={};x&&Wn(x,(mt,ln)=>{j[ln]=Array.isArray(mt)?mt.map(Qt=>`${Qt}`):`${mt}`}),$=m===v?f:Kr(m,v,f);const ze=Ye(dt($));return new di(ze,j,P)}function Kr(m,v,f){const x={};return Wn(m.children,(P,j)=>{x[j]=P===v?f:Kr(P,v,f)}),new mn(m.segments,x)}class Zr{constructor(v,f,x){if(this.isAbsolute=v,this.numberOfDoubleDots=f,this.commands=x,v&&x.length>0&&An(x[0]))throw new D.vHH(4003,!1);const P=x.find(Ei);if(P&&P!==an(x))throw new D.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bi{constructor(v,f,x){this.segmentGroup=v,this.processChildren=f,this.index=x}}function Wt(m,v,f){if(m||(m=new mn([],{})),0===m.segments.length&&m.hasChildren())return En(m,v,f);const x=function ri(m,v,f){let x=0,P=v;const j={match:!1,pathIndex:0,commandIndex:0};for(;P<m.segments.length;){if(x>=f.length)return j;const $=m.segments[P],ze=f[x];if(Ei(ze))break;const mt=`${ze}`,ln=x<f.length-1?f[x+1]:null;if(P>0&&void 0===mt)break;if(mt&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!cr(mt,ln,$))return j;x+=2}else{if(!cr(mt,{},$))return j;x++}P++}return{match:!0,pathIndex:P,commandIndex:x}}(m,v,f),P=f.slice(x.commandIndex);if(x.match&&x.pathIndex<m.segments.length){const j=new mn(m.segments.slice(0,x.pathIndex),{});return j.children[Xe]=new mn(m.segments.slice(x.pathIndex),m.children),En(j,0,P)}return x.match&&0===P.length?new mn(m.segments,{}):x.match&&!m.hasChildren()?Di(m,v,f):x.match?En(m,0,P):Di(m,v,f)}function En(m,v,f){if(0===f.length)return new mn(m.segments,{});{const x=function nr(m){return Ei(m[0])?m[0].outlets:{[Xe]:m}}(f),P={};return!x[Xe]&&m.children[Xe]&&1===m.numberOfChildren&&0===m.children[Xe].segments.length?En(m.children[Xe],v,f):(Wn(x,(j,$)=>{"string"==typeof j&&(j=[j]),null!==j&&(P[$]=Wt(m.children[$],v,j))}),Wn(m.children,(j,$)=>{void 0===x[$]&&(P[$]=j)}),new mn(m.segments,P))}}function Di(m,v,f){const x=m.segments.slice(0,v);let P=0;for(;P<f.length;){const j=f[P];if(Ei(j)){const mt=yr(j.outlets);return new mn(x,mt)}if(0===P&&An(f[0])){x.push(new pi(m.segments[v].path,Si(f[0]))),P++;continue}const $=Ei(j)?j.outlets[Xe]:`${j}`,ze=P<f.length-1?f[P+1]:null;$&&ze&&An(ze)?(x.push(new pi($,Si(ze))),P+=2):(x.push(new pi($,{})),P++)}return new mn(x,{})}function yr(m){const v={};return Wn(m,(f,x)=>{"string"==typeof f&&(f=[f]),null!==f&&(v[x]=Di(new mn([],{}),0,f))}),v}function Si(m){const v={};return Wn(m,(f,x)=>v[x]=`${f}`),v}function cr(m,v,f){return m==f.path&&zt(v,f.parameters)}const kn="imperative";class Ni{constructor(v,f){this.id=v,this.url=f}}class xr extends Ni{constructor(v,f,x="imperative",P=null){super(v,f),this.type=0,this.navigationTrigger=x,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tn extends Ni{constructor(v,f,x){super(v,f),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ss extends Ni{constructor(v,f,x,P){super(v,f),this.reason=x,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mr extends Ni{constructor(v,f,x,P){super(v,f),this.reason=x,this.code=P,this.type=16}}class _s extends Ni{constructor(v,f,x,P){super(v,f),this.error=x,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ur extends Ni{constructor(v,f,x,P){super(v,f),this.urlAfterRedirects=x,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends Ni{constructor(v,f,x,P){super(v,f),this.urlAfterRedirects=x,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends Ni{constructor(v,f,x,P,j){super(v,f),this.urlAfterRedirects=x,this.state=P,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends Ni{constructor(v,f,x,P){super(v,f),this.urlAfterRedirects=x,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends Ni{constructor(v,f,x,P){super(v,f),this.urlAfterRedirects=x,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gs{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jo{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gi{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ki{constructor(v,f,x){this.routerEvent=v,this.position=f,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Yi=(()=>{class m{createUrlTree(f,x,P,j,$,ze){return on(f||x.root,P,j,$,ze)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac}),m})(),hr=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:function(v){return Yi.\u0275fac(v)},providedIn:"root"}),m})();class dr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const f=this.pathFromRoot(v);return f.length>1?f[f.length-2]:null}children(v){const f=Fr(v,this._root);return f?f.children.map(x=>x.value):[]}firstChild(v){const f=Fr(v,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(v){const f=qr(v,this._root);return f.length<2?[]:f[f.length-2].children.map(P=>P.value).filter(P=>P!==v)}pathFromRoot(v){return qr(v,this._root).map(f=>f.value)}}function Fr(m,v){if(m===v.value)return v;for(const f of v.children){const x=Fr(m,f);if(x)return x}return null}function qr(m,v){if(m===v.value)return[v];for(const f of v.children){const x=qr(m,f);if(x.length)return x.unshift(v),x}return[]}class fr{constructor(v,f){this.value=v,this.children=f}toString(){return`TreeNode(${this.value})`}}function Hi(m){const v={};return m&&m.children.forEach(f=>v[f.value.outlet]=f),v}class js extends dr{constructor(v,f){super(v),this.snapshot=f,ao(this,v)}toString(){return this.snapshot.toString()}}function zs(m,v){const f=function oo(m,v){const $=new ys([],{},{},"",{},Xe,v,null,m.root,-1,{});return new Bi("",new fr($,[]))}(m,v),x=new le.X([new pi("",{})]),P=new le.X({}),j=new le.X({}),$=new le.X({}),ze=new le.X(""),mt=new as(x,P,$,ze,j,Xe,v,f.root);return mt.snapshot=f.root,new js(new fr(mt,[]),f)}class as{constructor(v,f,x,P,j,$,ze,mt){this.url=v,this.params=f,this.queryParams=x,this.fragment=P,this.data=j,this.outlet=$,this.component=ze,this.title=this.data?.pipe((0,Ke.U)(ln=>ln[_t]))??(0,ce.of)(void 0),this._futureSnapshot=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(v=>Yt(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(v=>Yt(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $s(m,v="emptyOnly"){const f=m.pathFromRoot;let x=0;if("always"!==v)for(x=f.length-1;x>=1;){const P=f[x],j=f[x-1];if(P.routeConfig&&""===P.routeConfig.path)x--;else{if(j.component)break;x--}}return function zo(m){return m.reduce((v,f)=>({params:{...v.params,...f.params},data:{...v.data,...f.data},resolve:{...f.data,...v.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(x))}class ys{get title(){return this.data?.[_t]}constructor(v,f,x,P,j,$,ze,mt,ln,Qt,ci){this.url=v,this.params=f,this.queryParams=x,this.fragment=P,this.data=j,this.outlet=$,this.component=ze,this.routeConfig=mt,this._urlSegment=ln,this._lastPathIndex=Qt,this._resolve=ci}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bi extends dr{constructor(v,f){super(f),this.url=v,ao(this,f)}toString(){return Is(this._root)}}function ao(m,v){v.value._routerState=m,v.children.forEach(f=>ao(m,f))}function Is(m){const v=m.children.length>0?` { ${m.children.map(Is).join(", ")} } `:"";return`${m.value}${v}`}function Qr(m){if(m.snapshot){const v=m.snapshot,f=m._futureSnapshot;m.snapshot=f,zt(v.queryParams,f.queryParams)||m.queryParams.next(f.queryParams),v.fragment!==f.fragment&&m.fragment.next(f.fragment),zt(v.params,f.params)||m.params.next(f.params),function _n(m,v){if(m.length!==v.length)return!1;for(let f=0;f<m.length;++f)if(!zt(m[f],v[f]))return!1;return!0}(v.url,f.url)||m.url.next(f.url),zt(v.data,f.data)||m.data.next(f.data)}else m.snapshot=m._futureSnapshot,m.data.next(m._futureSnapshot.data)}function vs(m,v){const f=zt(m.params,v.params)&&function Ar(m,v){return ii(m,v)&&m.every((f,x)=>zt(f.parameters,v[x].parameters))}(m.url,v.url);return f&&!(!m.parent!=!v.parent)&&(!m.parent||vs(m.parent,v.parent))}function Rs(m,v,f){if(f&&m.shouldReuseRoute(v.value,f.value.snapshot)){const x=f.value;x._futureSnapshot=v.value;const P=function Wo(m,v,f){return v.children.map(x=>{for(const P of f.children)if(m.shouldReuseRoute(x.value,P.value.snapshot))return Rs(m,x,P);return Rs(m,x)})}(m,v,f);return new fr(x,P)}{if(m.shouldAttach(v.value)){const j=m.retrieve(v.value);if(null!==j){const $=j.route;return $.value._futureSnapshot=v.value,$.children=v.children.map(ze=>Rs(m,ze)),$}}const x=function Ws(m){return new as(new le.X(m.url),new le.X(m.params),new le.X(m.queryParams),new le.X(m.fragment),new le.X(m.data),m.outlet,m.component,m)}(v.value),P=v.children.map(j=>Rs(m,j));return new fr(x,P)}}const Es="ngNavigationCancelingError";function Ps(m,v){const{redirectTo:f,navigationBehaviorOptions:x}=he(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,P=xo(!1,0,v);return P.url=f,P.navigationBehaviorOptions=x,P}function xo(m,v,f){const x=new Error("NavigationCancelingError: "+(m||""));return x[Es]=!0,x.cancellationCode=v,f&&(x.url=f),x}function Ys(m){return lo(m)&&he(m.url)}function lo(m){return m&&m[Es]}class ls{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gi,this.attachRef=null}}let Gi=(()=>{class m{constructor(){this.contexts=new Map}onChildOutletCreated(f,x){const P=this.getOrCreateContext(f);P.outlet=x,this.contexts.set(f,P)}onChildOutletDestroyed(f){const x=this.getContext(f);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let x=this.getContext(f);return x||(x=new ls,this.contexts.set(f,x)),x}getContext(f){return this.contexts.get(f)||null}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const jr=!1;let zr=(()=>{class m{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new D.vpe,this.deactivateEvents=new D.vpe,this.attachEvents=new D.vpe,this.detachEvents=new D.vpe,this.parentContexts=(0,D.f3M)(Gi),this.location=(0,D.f3M)(D.s_b),this.changeDetector=(0,D.f3M)(D.sBO),this.environmentInjector=(0,D.f3M)(D.lqb)}ngOnChanges(f){if(f.name){const{firstChange:x,previousValue:P}=f.name;if(x)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D.vHH(4012,jr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D.vHH(4012,jr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D.vHH(4012,jr);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,x){this.activated=f,this._activatedRoute=x,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,x){if(this.isActivated)throw new D.vHH(4013,jr);this._activatedRoute=f;const P=this.location,$=f.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,mt=new Xs(f,ze,P.injector);if(x&&function To(m){return!!m.resolveComponentFactory}(x)){const ln=x.resolveComponentFactory($);this.activated=P.createComponent(ln,P.length,mt)}else this.activated=P.createComponent($,{index:P.length,injector:mt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275dir=D.lG2({type:m,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[D.TTD]}),m})();class Xs{constructor(v,f,x){this.route=v,this.childContexts=f,this.parent=x}get(v,f){return v===as?this.route:v===Gi?this.childContexts:this.parent.get(v,f)}}let Os=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=D.Xpm({type:m,selectors:[["ng-component"]],standalone:!0,features:[D.jDz],decls:1,vars:0,template:function(f,x){1&f&&D._UZ(0,"router-outlet")},dependencies:[zr],encapsulation:2}),m})();function Fs(m,v){return m.providers&&!m._injector&&(m._injector=(0,D.MMx)(m.providers,v,`Route: ${m.path}`)),m._injector??v}function pr(m){const v=m.children&&m.children.map(pr),f=v?{...m,children:v}:{...m};return!f.component&&!f.loadComponent&&(v||f.loadChildren)&&f.outlet&&f.outlet!==Xe&&(f.component=Os),f}function ai(m){return m.outlet||Xe}function K(m,v){const f=m.filter(x=>ai(x)===v);return f.push(...m.filter(x=>ai(x)!==v)),f}function I(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let v=m.parent;v;v=v.parent){const f=v.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class N{constructor(v,f,x,P){this.routeReuseStrategy=v,this.futureState=f,this.currState=x,this.forwardEvent=P}activate(v){const f=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,x,v),Qr(this.futureState.root),this.activateChildRoutes(f,x,v)}deactivateChildRoutes(v,f,x){const P=Hi(f);v.children.forEach(j=>{const $=j.value.outlet;this.deactivateRoutes(j,P[$],x),delete P[$]}),Wn(P,(j,$)=>{this.deactivateRouteAndItsChildren(j,x)})}deactivateRoutes(v,f,x){const P=v.value,j=f?f.value:null;if(P===j)if(P.component){const $=x.getContext(P.outlet);$&&this.deactivateChildRoutes(v,f,$.children)}else this.deactivateChildRoutes(v,f,x);else j&&this.deactivateRouteAndItsChildren(f,x)}deactivateRouteAndItsChildren(v,f){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,f):this.deactivateRouteAndOutlet(v,f)}detachAndStoreRouteSubtree(v,f){const x=f.getContext(v.value.outlet),P=x&&v.value.component?x.children:f,j=Hi(v);for(const $ of Object.keys(j))this.deactivateRouteAndItsChildren(j[$],P);if(x&&x.outlet){const $=x.outlet.detach(),ze=x.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:$,route:v,contexts:ze})}}deactivateRouteAndOutlet(v,f){const x=f.getContext(v.value.outlet),P=x&&v.value.component?x.children:f,j=Hi(v);for(const $ of Object.keys(j))this.deactivateRouteAndItsChildren(j[$],P);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(v,f,x){const P=Hi(f);v.children.forEach(j=>{this.activateRoutes(j,P[j.value.outlet],x),this.forwardEvent(new Co(j.value.snapshot))}),v.children.length&&this.forwardEvent(new Tr(v.value.snapshot))}activateRoutes(v,f,x){const P=v.value,j=f?f.value:null;if(Qr(P),P===j)if(P.component){const $=x.getOrCreateContext(P.outlet);this.activateChildRoutes(v,f,$.children)}else this.activateChildRoutes(v,f,x);else if(P.component){const $=x.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ze=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),$.children.onOutletReAttached(ze.contexts),$.attachRef=ze.componentRef,$.route=ze.route.value,$.outlet&&$.outlet.attach(ze.componentRef,ze.route.value),Qr(ze.route.value),this.activateChildRoutes(v,null,$.children)}else{const ze=I(P.snapshot),mt=ze?.get(D._Vd)??null;$.attachRef=null,$.route=P,$.resolver=mt,$.injector=ze,$.outlet&&$.outlet.activateWith(P,$.injector),this.activateChildRoutes(v,null,$.children)}}else this.activateChildRoutes(v,null,x)}}class q{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class be{constructor(v,f){this.component=v,this.route=f}}function et(m,v,f){const x=m._root;return en(x,v?v._root:null,f,[x.value])}function kt(m,v){const f=Symbol(),x=v.get(m,f);return x===f?"function"!=typeof m||(0,D.Z0I)(m)?v.get(m):m:x}function en(m,v,f,x,P={canDeactivateChecks:[],canActivateChecks:[]}){const j=Hi(v);return m.children.forEach($=>{(function Mt(m,v,f,x,P={canDeactivateChecks:[],canActivateChecks:[]}){const j=m.value,$=v?v.value:null,ze=f?f.getContext(m.value.outlet):null;if($&&j.routeConfig===$.routeConfig){const mt=function Yn(m,v,f){if("function"==typeof f)return f(m,v);switch(f){case"pathParamsChange":return!ii(m.url,v.url);case"pathParamsOrQueryParamsChange":return!ii(m.url,v.url)||!zt(m.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vs(m,v)||!zt(m.queryParams,v.queryParams);default:return!vs(m,v)}}($,j,j.routeConfig.runGuardsAndResolvers);mt?P.canActivateChecks.push(new q(x)):(j.data=$.data,j._resolvedData=$._resolvedData),en(m,v,j.component?ze?ze.children:null:f,x,P),mt&&ze&&ze.outlet&&ze.outlet.isActivated&&P.canDeactivateChecks.push(new be(ze.outlet.component,$))}else $&&Er(v,ze,P),P.canActivateChecks.push(new q(x)),en(m,null,j.component?ze?ze.children:null:f,x,P)})($,j[$.value.outlet],f,x.concat([$.value]),P),delete j[$.value.outlet]}),Wn(j,($,ze)=>Er($,f.getContext(ze),P)),P}function Er(m,v,f){const x=Hi(m),P=m.value;Wn(x,(j,$)=>{Er(j,P.component?v?v.children.getContext($):null:v,f)}),f.canDeactivateChecks.push(new be(P.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,P))}function Fi(m){return"function"==typeof m}function So(m){return m instanceof ee||"EmptyError"===m?.name}const Li=Symbol("INITIAL_VALUE");function ws(){return(0,te.w)(m=>(0,ve.a)(m.map(v=>v.pipe((0,ct.q)(1),(0,ke.O)(Li)))).pipe((0,Ke.U)(v=>{for(const f of v)if(!0!==f){if(f===Li)return Li;if(!1===f||f instanceof di)return f}return!0}),(0,rt.h)(v=>v!==Li),(0,ct.q)(1)))}function Jr(m){return(0,Pe.z)((0,X.b)(v=>{if(he(v))throw Ps(0,v)}),(0,Ke.U)(v=>!0===v))}const Ui={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function us(m,v,f,x,P){const j=hs(m,v,f);return j.matched?function $r(m,v,f,x){const P=v.canMatch;if(!P||0===P.length)return(0,ce.of)(!0);const j=P.map($=>{const ze=kt($,m);return Xt(function ut(m){return m&&Fi(m.canMatch)}(ze)?ze.canMatch(v,f):m.runInContext(()=>ze(v,f)))});return(0,ce.of)(j).pipe(ws(),Jr())}(x=Fs(v,x),v,f).pipe((0,Ke.U)($=>!0===$?j:{...Ui})):(0,ce.of)(j)}function hs(m,v,f){if(""===v.path)return"full"===v.pathMatch&&(m.hasChildren()||f.length>0)?{...Ui}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const P=(v.matcher||dn)(f,m,v);if(!P)return{...Ui};const j={};Wn(P.posParams,(ze,mt)=>{j[mt]=ze.path});const $=P.consumed.length>0?{...j,...P.consumed[P.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:P.consumed,remainingSegments:f.slice(P.consumed.length),parameters:$,positionalParamSegments:P.posParams??{}}}function Wr(m,v,f,x){if(f.length>0&&function qs(m,v,f){return f.some(x=>er(m,v,x)&&ai(x)!==Xe)}(m,f,x)){const j=new mn(v,function Ds(m,v,f,x){const P={};P[Xe]=x,x._sourceSegment=m,x._segmentIndexShift=v.length;for(const j of f)if(""===j.path&&ai(j)!==Xe){const $=new mn([],{});$._sourceSegment=m,$._segmentIndexShift=v.length,P[ai(j)]=$}return P}(m,v,x,new mn(f,m.children)));return j._sourceSegment=m,j._segmentIndexShift=v.length,{segmentGroup:j,slicedSegments:[]}}if(0===f.length&&function gr(m,v,f){return f.some(x=>er(m,v,x))}(m,f,x)){const j=new mn(m.segments,function fo(m,v,f,x,P){const j={};for(const $ of x)if(er(m,f,$)&&!P[ai($)]){const ze=new mn([],{});ze._sourceSegment=m,ze._segmentIndexShift=v.length,j[ai($)]=ze}return{...P,...j}}(m,v,f,x,m.children));return j._sourceSegment=m,j._segmentIndexShift=v.length,{segmentGroup:j,slicedSegments:f}}const P=new mn(m.segments,m.children);return P._sourceSegment=m,P._segmentIndexShift=v.length,{segmentGroup:P,slicedSegments:f}}function er(m,v,f){return(!(m.hasChildren()||v.length>0)||"full"!==f.pathMatch)&&""===f.path}function Mo(m,v,f,x){return!!(ai(m)===x||x!==Xe&&er(v,f,m))&&("**"===m.path||hs(v,m,f).matched)}function pa(m,v,f){return 0===v.length&&!m.children[f]}const es=!1;class po{constructor(v){this.segmentGroup=v||null}}class U{constructor(v){this.urlTree=v}}function g(m){return(0,Re._)(new po(m))}function _(m){return(0,Re._)(new U(m))}class De{constructor(v,f,x,P,j){this.injector=v,this.configLoader=f,this.urlSerializer=x,this.urlTree=P,this.config=j,this.allowRedirects=!0}apply(){const v=Wr(this.urlTree.root,[],[],this.config).segmentGroup,f=new mn(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,f,Xe).pipe((0,Ke.U)(j=>this.createUrlTree(dt(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ee.K)(j=>{if(j instanceof U)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof po?this.noMatchError(j):j}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,Xe).pipe((0,Ke.U)(P=>this.createUrlTree(dt(P),v.queryParams,v.fragment))).pipe((0,Ee.K)(P=>{throw P instanceof po?this.noMatchError(P):P}))}noMatchError(v){return new D.vHH(4002,es)}createUrlTree(v,f,x){const P=Ye(v);return new di(P,f,x)}expandSegmentGroup(v,f,x,P){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(v,f,x).pipe((0,Ke.U)(j=>new mn([],j))):this.expandSegment(v,x,f,x.segments,P,!0)}expandChildren(v,f,x){const P=[];for(const j of Object.keys(x.children))"primary"===j?P.unshift(j):P.push(j);return(0,w.D)(P).pipe((0,ne.b)(j=>{const $=x.children[j],ze=K(f,j);return this.expandSegmentGroup(v,ze,$,j).pipe((0,Ke.U)(mt=>({segment:mt,outlet:j})))}),pe((j,$)=>(j[$.outlet]=$.segment,j),{}),He())}expandSegment(v,f,x,P,j,$){return(0,w.D)(x).pipe((0,ne.b)(ze=>this.expandSegmentAgainstRoute(v,f,x,ze,P,j,$).pipe((0,Ee.K)(ln=>{if(ln instanceof po)return(0,ce.of)(null);throw ln}))),W(ze=>!!ze),(0,Ee.K)((ze,mt)=>{if(So(ze))return pa(f,P,j)?(0,ce.of)(new mn([],{})):g(f);throw ze}))}expandSegmentAgainstRoute(v,f,x,P,j,$,ze){return Mo(P,f,j,$)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(v,f,P,j,$):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,f,x,P,j,$):g(f):g(f)}expandSegmentAgainstRouteUsingRedirect(v,f,x,P,j,$){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,x,P,$):this.expandRegularSegmentAgainstRouteUsingRedirect(v,f,x,P,j,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,f,x,P){const j=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?_(j):this.lineralizeSegments(x,j).pipe((0,Te.z)($=>{const ze=new mn($,{});return this.expandSegment(v,ze,f,$,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,f,x,P,j,$){const{matched:ze,consumedSegments:mt,remainingSegments:ln,positionalParamSegments:Qt}=hs(f,P,j);if(!ze)return g(f);const ci=this.applyRedirectCommands(mt,P.redirectTo,Qt);return P.redirectTo.startsWith("/")?_(ci):this.lineralizeSegments(P,ci).pipe((0,Te.z)(Mi=>this.expandSegment(v,f,x,Mi.concat(ln),$,!1)))}matchSegmentAgainstRoute(v,f,x,P,j){return"**"===x.path?(v=Fs(x,v),x.loadChildren?(x._loadedRoutes?(0,ce.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(v,x)).pipe((0,Ke.U)(ze=>(x._loadedRoutes=ze.routes,x._loadedInjector=ze.injector,new mn(P,{})))):(0,ce.of)(new mn(P,{}))):us(f,x,P,v).pipe((0,te.w)(({matched:$,consumedSegments:ze,remainingSegments:mt})=>$?this.getChildConfig(v=x._injector??v,x,P).pipe((0,Te.z)(Qt=>{const ci=Qt.injector??v,Mi=Qt.routes,{segmentGroup:to,slicedSegments:Bs}=Wr(f,ze,mt,Mi),yo=new mn(to.segments,to.children);if(0===Bs.length&&yo.hasChildren())return this.expandChildren(ci,Mi,yo).pipe((0,Ke.U)($a=>new mn(ze,$a)));if(0===Mi.length&&0===Bs.length)return(0,ce.of)(new mn(ze,{}));const Xr=ai(x)===j;return this.expandSegment(ci,yo,Mi,Bs,Xr?Xe:j,!0).pipe((0,Ke.U)(ns=>new mn(ze.concat(ns.segments),ns.children)))})):g(f)))}getChildConfig(v,f,x){return f.children?(0,ce.of)({routes:f.children,injector:v}):f.loadChildren?void 0!==f._loadedRoutes?(0,ce.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function sr(m,v,f,x){const P=v.canLoad;if(void 0===P||0===P.length)return(0,ce.of)(!0);const j=P.map($=>{const ze=kt($,m);return Xt(function br(m){return m&&Fi(m.canLoad)}(ze)?ze.canLoad(v,f):m.runInContext(()=>ze(v,f)))});return(0,ce.of)(j).pipe(ws(),Jr())}(v,f,x).pipe((0,Te.z)(P=>P?this.configLoader.loadChildren(v,f).pipe((0,X.b)(j=>{f._loadedRoutes=j.routes,f._loadedInjector=j.injector})):function G(m){return(0,Re._)(xo(es,3))}())):(0,ce.of)({routes:[],injector:v})}lineralizeSegments(v,f){let x=[],P=f.root;for(;;){if(x=x.concat(P.segments),0===P.numberOfChildren)return(0,ce.of)(x);if(P.numberOfChildren>1||!P.children[Xe])return(0,Re._)(new D.vHH(4e3,es));P=P.children[Xe]}}applyRedirectCommands(v,f,x){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),v,x)}applyRedirectCreateUrlTree(v,f,x,P){const j=this.createSegmentGroup(v,f.root,x,P);return new di(j,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(v,f){const x={};return Wn(v,(P,j)=>{if("string"==typeof P&&P.startsWith(":")){const ze=P.substring(1);x[j]=f[ze]}else x[j]=P}),x}createSegmentGroup(v,f,x,P){const j=this.createSegments(v,f.segments,x,P);let $={};return Wn(f.children,(ze,mt)=>{$[mt]=this.createSegmentGroup(v,ze,x,P)}),new mn(j,$)}createSegments(v,f,x,P){return f.map(j=>j.path.startsWith(":")?this.findPosParam(v,j,P):this.findOrReturn(j,x))}findPosParam(v,f,x){const P=x[f.path.substring(1)];if(!P)throw new D.vHH(4001,es);return P}findOrReturn(v,f){let x=0;for(const P of f){if(P.path===v.path)return f.splice(x),P;x++}return v}}class vt{}class Xn{constructor(v,f,x,P,j,$,ze){this.injector=v,this.rootComponentType=f,this.config=x,this.urlTree=P,this.url=j,this.paramsInheritanceStrategy=$,this.urlSerializer=ze}recognize(){const v=Wr(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,Xe).pipe((0,Ke.U)(f=>{if(null===f)return null;const x=new ys([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new fr(x,f),j=new Bi(this.url,P);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(v){const f=v.value,x=$s(f,this.paramsInheritanceStrategy);f.params=Object.freeze(x.params),f.data=Object.freeze(x.data),v.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(v,f,x,P){return 0===x.segments.length&&x.hasChildren()?this.processChildren(v,f,x):this.processSegment(v,f,x,x.segments,P)}processChildren(v,f,x){return(0,w.D)(Object.keys(x.children)).pipe((0,ne.b)(P=>{const j=x.children[P],$=K(f,P);return this.processSegmentGroup(v,$,j,P)}),pe((P,j)=>P&&j?(P.push(...j),P):null),function Ce(m,v=!1){return(0,pt.e)((f,x)=>{let P=0;f.subscribe((0,Tt.x)(x,j=>{const $=m(j,P++);($||v)&&x.next(j),!$&&x.complete()}))})}(P=>null!==P),wt(null),He(),(0,Ke.U)(P=>{if(null===P)return null;const j=C(P);return function Hn(m){m.sort((v,f)=>v.value.outlet===Xe?-1:f.value.outlet===Xe?1:v.value.outlet.localeCompare(f.value.outlet))}(j),j}))}processSegment(v,f,x,P,j){return(0,w.D)(f).pipe((0,ne.b)($=>this.processSegmentAgainstRoute($._injector??v,$,x,P,j)),W($=>!!$),(0,Ee.K)($=>{if(So($))return pa(x,P,j)?(0,ce.of)([]):(0,ce.of)(null);throw $}))}processSegmentAgainstRoute(v,f,x,P,j){if(f.redirectTo||!Mo(f,x,P,j))return(0,ce.of)(null);let $;if("**"===f.path){const ze=P.length>0?an(P).parameters:{},mt=V(x)+P.length,ln=new ys(P,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Je(f),ai(f),f.component??f._loadedComponent??null,f,M(x),mt,lt(f));$=(0,ce.of)({snapshot:ln,consumedSegments:[],remainingSegments:[]})}else $=us(x,f,P,v).pipe((0,Ke.U)(({matched:ze,consumedSegments:mt,remainingSegments:ln,parameters:Qt})=>{if(!ze)return null;const ci=V(x)+mt.length;return{snapshot:new ys(mt,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Je(f),ai(f),f.component??f._loadedComponent??null,f,M(x),ci,lt(f)),consumedSegments:mt,remainingSegments:ln}}));return $.pipe((0,te.w)(ze=>{if(null===ze)return(0,ce.of)(null);const{snapshot:mt,consumedSegments:ln,remainingSegments:Qt}=ze;v=f._injector??v;const ci=f._loadedInjector??v,Mi=function Cn(m){return m.children?m.children:m.loadChildren?m._loadedRoutes:[]}(f),{segmentGroup:to,slicedSegments:Bs}=Wr(x,ln,Qt,Mi.filter(Xr=>void 0===Xr.redirectTo));if(0===Bs.length&&to.hasChildren())return this.processChildren(ci,Mi,to).pipe((0,Ke.U)(Xr=>null===Xr?null:[new fr(mt,Xr)]));if(0===Mi.length&&0===Bs.length)return(0,ce.of)([new fr(mt,[])]);const yo=ai(f)===j;return this.processSegment(ci,Mi,to,Bs,yo?Xe:j).pipe((0,Ke.U)(Xr=>null===Xr?null:[new fr(mt,Xr)]))}))}}function xn(m){const v=m.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function C(m){const v=[],f=new Set;for(const x of m){if(!xn(x)){v.push(x);continue}const P=v.find(j=>x.value.routeConfig===j.value.routeConfig);void 0!==P?(P.children.push(...x.children),f.add(P)):v.push(x)}for(const x of f){const P=C(x.children);v.push(new fr(x.value,P))}return v.filter(x=>!f.has(x))}function M(m){let v=m;for(;v._sourceSegment;)v=v._sourceSegment;return v}function V(m){let v=m,f=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,f+=v._segmentIndexShift??0;return f-1}function Je(m){return m.data||{}}function lt(m){return m.resolve||{}}function $t(m){return"string"==typeof m.title||null===m.title}function Ai(m){return(0,te.w)(v=>{const f=m(v);return f?(0,w.D)(f).pipe((0,Ke.U)(()=>v)):(0,ce.of)(v)})}const nn=new D.OlP("ROUTES");let un=(()=>{class m{constructor(f,x){this.injector=f,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,ce.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const x=Xt(f.loadComponent()).pipe((0,Ke.U)(wi),(0,X.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=j}),(0,Q.x)(()=>{this.componentLoaders.delete(f)})),P=new bt(x,()=>new at.x).pipe(Ze());return this.componentLoaders.set(f,P),P}loadChildren(f,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,ce.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const j=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,Ke.U)(ze=>{this.onLoadEndListener&&this.onLoadEndListener(x);let mt,ln,Qt=!1;Array.isArray(ze)?ln=ze:(mt=ze.create(f).injector,ln=Un(mt.get(nn,[],D.XFs.Self|D.XFs.Optional)));return{routes:ln.map(pr),injector:mt}}),(0,Q.x)(()=>{this.childrenLoaders.delete(x)})),$=new bt(j,()=>new at.x).pipe(Ze());return this.childrenLoaders.set(x,$),$}loadModuleFactoryOrRoutes(f){return Xt(f()).pipe((0,Ke.U)(wi),(0,Te.z)(P=>P instanceof D.YKP||Array.isArray(P)?(0,ce.of)(P):(0,w.D)(this.compiler.compileModuleAsync(P))))}}return m.\u0275fac=function(f){return new(f||m)(D.LFG(D.zs3),D.LFG(D.Sil))},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function wi(m){return function Vn(m){return m&&"object"==typeof m&&"default"in m}(m)?m.default:m}let mr=(()=>{class m{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new at.x,this.configLoader=(0,D.f3M)(un),this.environmentInjector=(0,D.f3M)(D.lqb),this.urlSerializer=(0,D.f3M)(Pn),this.rootContexts=(0,D.f3M)(Gi),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new jo(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new Gs(P))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:x})}setupNavigations(f){return this.transitions=new le.X({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kn,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,rt.h)(x=>0!==x.id),(0,Ke.U)(x=>({...x,extractedUrl:f.urlHandlingStrategy.extract(x.rawUrl)})),(0,te.w)(x=>{let P=!1,j=!1;return(0,ce.of)(x).pipe((0,X.b)($=>{this.currentNavigation={id:$.id,initialUrl:$.rawUrl,extractedUrl:$.extractedUrl,trigger:$.source,extras:$.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,te.w)($=>{const ze=f.browserUrlTree.toString(),mt=!f.navigated||$.extractedUrl.toString()!==ze||ze!==f.currentUrlTree.toString();if(!mt&&"reload"!==($.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Qt="";return this.events.next(new Mr($.id,f.serializeUrl(x.rawUrl),Qt,0)),f.rawUrlTree=$.rawUrl,$.resolve(null),ot.E}if(f.urlHandlingStrategy.shouldProcessUrl($.rawUrl))return Ki($.source)&&(f.browserUrlTree=$.extractedUrl),(0,ce.of)($).pipe((0,te.w)(Qt=>{const ci=this.transitions?.getValue();return this.events.next(new xr(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Qt.source,Qt.restoredState)),ci!==this.transitions?.getValue()?ot.E:Promise.resolve(Qt)}),function re(m,v,f,x){return(0,te.w)(P=>function J(m,v,f,x,P){return new De(m,v,f,x,P).apply()}(m,v,f,P.extractedUrl,x).pipe((0,Ke.U)(j=>({...P,urlAfterRedirects:j}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,X.b)(Qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects},x.urlAfterRedirects=Qt.urlAfterRedirects}),function Vt(m,v,f,x,P){return(0,Te.z)(j=>function tn(m,v,f,x,P,j,$="emptyOnly"){return new Xn(m,v,f,x,P,$,j).recognize().pipe((0,te.w)(ze=>null===ze?function ht(m){return new Ie.y(v=>v.error(m))}(new vt):(0,ce.of)(ze)))}(m,v,f,j.urlAfterRedirects,x.serialize(j.urlAfterRedirects),x,P).pipe((0,Ke.U)($=>({...j,targetSnapshot:$}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,X.b)(Qt=>{if(x.targetSnapshot=Qt.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const Mi=f.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);f.setBrowserUrl(Mi,Qt)}f.browserUrlTree=Qt.urlAfterRedirects}const ci=new ur(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(ci)}));if(mt&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:Qt,extractedUrl:ci,source:Mi,restoredState:to,extras:Bs}=$,yo=new xr(Qt,this.urlSerializer.serialize(ci),Mi,to);this.events.next(yo);const Xr=zs(ci,this.rootComponentType).snapshot;return x={...$,targetSnapshot:Xr,urlAfterRedirects:ci,extras:{...Bs,skipLocationChange:!1,replaceUrl:!1}},(0,ce.of)(x)}{const Qt="";return this.events.next(new Mr($.id,f.serializeUrl(x.extractedUrl),Qt,1)),f.rawUrlTree=$.rawUrl,$.resolve(null),ot.E}}),(0,X.b)($=>{const ze=new Pi($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot);this.events.next(ze)}),(0,Ke.U)($=>x={...$,guards:et($.targetSnapshot,$.currentSnapshot,this.rootContexts)}),function ho(m,v){return(0,Te.z)(f=>{const{targetSnapshot:x,currentSnapshot:P,guards:{canActivateChecks:j,canDeactivateChecks:$}}=f;return 0===$.length&&0===j.length?(0,ce.of)({...f,guardsResult:!0}):function wr(m,v,f,x){return(0,w.D)(m).pipe((0,Te.z)(P=>function Dr(m,v,f,x,P){const j=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ce.of)(!0);const $=j.map(ze=>{const mt=I(v)??P,ln=kt(ze,mt);return Xt(function Ks(m){return m&&Fi(m.canDeactivate)}(ln)?ln.canDeactivate(m,v,f,x):mt.runInContext(()=>ln(m,v,f,x))).pipe(W())});return(0,ce.of)($).pipe(ws())}(P.component,P.route,f,v,x)),W(P=>!0!==P,!0))}($,x,P,m).pipe((0,Te.z)(ze=>ze&&function rr(m){return"boolean"==typeof m}(ze)?function Zs(m,v,f,x){return(0,w.D)(v).pipe((0,ne.b)(P=>(0,ue.z)(function Ua(m,v){return null!==m&&v&&v(new gi(m)),(0,ce.of)(!0)}(P.route.parent,x),function Ao(m,v){return null!==m&&v&&v(new os(m)),(0,ce.of)(!0)}(P.route,x),function fa(m,v,f){const x=v[v.length-1],j=v.slice(0,v.length-1).reverse().map($=>function ft(m){const v=m.routeConfig?m.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:m,guards:v}:null}($)).filter($=>null!==$).map($=>(0,xe.P)(()=>{const ze=$.guards.map(mt=>{const ln=I($.node)??f,Qt=kt(mt,ln);return Xt(function da(m){return m&&Fi(m.canActivateChild)}(Qt)?Qt.canActivateChild(x,m):ln.runInContext(()=>Qt(x,m))).pipe(W())});return(0,ce.of)(ze).pipe(ws())}));return(0,ce.of)(j).pipe(ws())}(m,P.path,f),function Xo(m,v,f){const x=v.routeConfig?v.routeConfig.canActivate:null;if(!x||0===x.length)return(0,ce.of)(!0);const P=x.map(j=>(0,xe.P)(()=>{const $=I(v)??f,ze=kt(j,$);return Xt(function cs(m){return m&&Fi(m.canActivate)}(ze)?ze.canActivate(v,m):$.runInContext(()=>ze(v,m))).pipe(W())}));return(0,ce.of)(P).pipe(ws())}(m,P.route,f))),W(P=>!0!==P,!0))}(x,j,m,v):(0,ce.of)(ze)),(0,Ke.U)(ze=>({...f,guardsResult:ze})))})}(this.environmentInjector,$=>this.events.next($)),(0,X.b)($=>{if(x.guardsResult=$.guardsResult,he($.guardsResult))throw Ps(0,$.guardsResult);const ze=new vr($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize($.urlAfterRedirects),$.targetSnapshot,!!$.guardsResult);this.events.next(ze)}),(0,rt.h)($=>!!$.guardsResult||(f.restoreHistory($),this.cancelNavigationTransition($,"",3),!1)),Ai($=>{if($.guards.canActivateChecks.length)return(0,ce.of)($).pipe((0,X.b)(ze=>{const mt=new Ir(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(mt)}),(0,te.w)(ze=>{let mt=!1;return(0,ce.of)(ze).pipe(function Sn(m,v){return(0,Te.z)(f=>{const{targetSnapshot:x,guards:{canActivateChecks:P}}=f;if(!P.length)return(0,ce.of)(f);let j=0;return(0,w.D)(P).pipe((0,ne.b)($=>function Mn(m,v,f,x){const P=m.routeConfig,j=m._resolve;return void 0!==P?.title&&!$t(P)&&(j[_t]=P.title),function Bn(m,v,f,x){const P=function Kn(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}(m);if(0===P.length)return(0,ce.of)({});const j={};return(0,w.D)(P).pipe((0,Te.z)($=>function li(m,v,f,x){const P=I(v)??x,j=kt(m,P);return Xt(j.resolve?j.resolve(v,f):P.runInContext(()=>j(v,f)))}(m[$],v,f,x).pipe(W(),(0,X.b)(ze=>{j[$]=ze}))),_e(1),function qe(m){return(0,Ke.U)(()=>m)}(j),(0,Ee.K)($=>So($)?ot.E:(0,Re._)($)))}(j,m,v,x).pipe((0,Ke.U)($=>(m._resolvedData=$,m.data=$s(m,f).resolve,P&&$t(P)&&(m.data[_t]=P.title),null)))}($.route,x,m,v)),(0,X.b)(()=>j++),_e(1),(0,Te.z)($=>j===P.length?(0,ce.of)(f):ot.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,X.b)({next:()=>mt=!0,complete:()=>{mt||(f.restoreHistory(ze),this.cancelNavigationTransition(ze,"",2))}}))}),(0,X.b)(ze=>{const mt=new Rr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(mt)}))}),Ai($=>{const ze=mt=>{const ln=[];mt.routeConfig?.loadComponent&&!mt.routeConfig._loadedComponent&&ln.push(this.configLoader.loadComponent(mt.routeConfig).pipe((0,X.b)(Qt=>{mt.component=Qt}),(0,Ke.U)(()=>{})));for(const Qt of mt.children)ln.push(...ze(Qt));return ln};return(0,ve.a)(ze($.targetSnapshot.root)).pipe(wt(),(0,ct.q)(1))}),Ai(()=>this.afterPreactivation()),(0,Ke.U)($=>{const ze=function $o(m,v,f){const x=Rs(m,v._root,f?f._root:void 0);return new js(x,v)}(f.routeReuseStrategy,$.targetSnapshot,$.currentRouterState);return x={...$,targetRouterState:ze}}),(0,X.b)($=>{f.currentUrlTree=$.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),f.routerState=$.targetRouterState,"deferred"===f.urlUpdateStrategy&&($.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,$),f.browserUrlTree=$.urlAfterRedirects)}),((m,v,f)=>(0,Ke.U)(x=>(new N(v,x.targetRouterState,x.currentRouterState,f).activate(m),x)))(this.rootContexts,f.routeReuseStrategy,$=>this.events.next($)),(0,X.b)({next:$=>{P=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new Tn($.id,this.urlSerializer.serialize($.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle($.targetRouterState.snapshot),$.resolve(!0)},complete:()=>{P=!0}}),(0,Q.x)(()=>{P||j||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),(0,Ee.K)($=>{if(j=!0,lo($)){Ys($)||(f.navigated=!0,f.restoreHistory(x,!0));const ze=new ss(x.id,this.urlSerializer.serialize(x.extractedUrl),$.message,$.cancellationCode);if(this.events.next(ze),Ys($)){const mt=f.urlHandlingStrategy.merge($.url,f.rawUrlTree),ln={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||Ki(x.source)};f.scheduleNavigation(mt,kn,null,ln,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{f.restoreHistory(x,!0);const ze=new _s(x.id,this.urlSerializer.serialize(x.extractedUrl),$,x.targetSnapshot??void 0);this.events.next(ze);try{x.resolve(f.errorHandler($))}catch(mt){x.reject(mt)}}return ot.E}))}))}cancelNavigationTransition(f,x,P){const j=new ss(f.id,this.urlSerializer.serialize(f.extractedUrl),x,P);this.events.next(j),f.resolve(!1)}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Ki(m){return m!==kn}let mi=(()=>{class m{buildTitle(f){let x,P=f.root;for(;void 0!==P;)x=this.getResolvedTitleForRoute(P)??x,P=P.children.find(j=>j.outlet===Xe);return x}getResolvedTitleForRoute(f){return f.data[_t]}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:function(){return(0,D.f3M)(Ns)},providedIn:"root"}),m})(),Ns=(()=>{class m extends mi{constructor(f){super(),this.title=f}updateTitle(f){const x=this.buildTitle(f);void 0!==x&&this.title.setTitle(x)}}return m.\u0275fac=function(f){return new(f||m)(D.LFG(Be.Dx))},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),ql=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:function(){return(0,D.f3M)(Ci)},providedIn:"root"}),m})();class or{shouldDetach(v){return!1}store(v,f){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,f){return v.routeConfig===f.routeConfig}}let Ci=(()=>{class m extends or{}return m.\u0275fac=function(){let v;return function(x){return(v||(v=D.n5z(m)))(x||m)}}(),m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Zi=new D.OlP("",{providedIn:"root",factory:()=>({})});let jn=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:function(){return(0,D.f3M)(Ko)},providedIn:"root"}),m})(),Ko=(()=>{class m{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,x){return f}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Io(m){throw m}function ga(m,v,f){return v.parse("/")}const xi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ro={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class m{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,D.f3M)(D.c2e),this.isNgZoneEnabled=!1,this.options=(0,D.f3M)(Zi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Io,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ga,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,D.f3M)(jn),this.routeReuseStrategy=(0,D.f3M)(ql),this.urlCreationStrategy=(0,D.f3M)(hr),this.titleStrategy=(0,D.f3M)(mi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Un((0,D.f3M)(nn,{optional:!0})??[]),this.navigationTransitions=(0,D.f3M)(mr),this.urlSerializer=(0,D.f3M)(Pn),this.location=(0,D.f3M)(Ct.Ye),this.isNgZoneEnabled=(0,D.f3M)(D.R0b)instanceof D.R0b&&D.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new di,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kn,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const x="popstate"===f.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,x,f.state)},0)}))}navigateToSyncWithBrowser(f,x,P){const j={replaceUrl:!0},$=P?.navigationId?P:null;if(P){const mt={...P};delete mt.navigationId,delete mt.\u0275routerPageId,0!==Object.keys(mt).length&&(j.state=mt)}const ze=this.parseUrl(f);this.scheduleNavigation(ze,x,$,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(pr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,x={}){const{relativeTo:P,queryParams:j,fragment:$,queryParamsHandling:ze,preserveFragment:mt}=x,ln=mt?this.currentUrlTree.fragment:$;let Qt=null;switch(ze){case"merge":Qt={...this.currentUrlTree.queryParams,...j};break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=j||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),this.urlCreationStrategy.createUrlTree(P,this.routerState,this.currentUrlTree,f,Qt,ln??null)}navigateByUrl(f,x={skipLocationChange:!1}){const P=he(f)?f:this.parseUrl(f),j=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(j,kn,null,x)}navigate(f,x={skipLocationChange:!1}){return function go(m){for(let v=0;v<m.length;v++){if(null==m[v])throw new D.vHH(4008,!1)}}(f),this.navigateByUrl(this.createUrlTree(f,x),x)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let x;try{x=this.urlSerializer.parse(f)}catch(P){x=this.malformedUriErrorHandler(P,this.urlSerializer,f)}return x}isActive(f,x){let P;if(P=!0===x?{...xi}:!1===x?{...Ro}:x,he(f))return Ii(this.currentUrlTree,f,P);const j=this.parseUrl(f);return Ii(this.currentUrlTree,j,P)}removeEmptyProps(f){return Object.keys(f).reduce((x,P)=>{const j=f[P];return null!=j&&(x[P]=j),x},{})}scheduleNavigation(f,x,P,j,$){if(this.disposed)return Promise.resolve(!1);let ze,mt,ln,Qt;return $?(ze=$.resolve,mt=$.reject,ln=$.promise):ln=new Promise((ci,Mi)=>{ze=ci,mt=Mi}),Qt="computed"===this.canceledNavigationResolution?P&&P.\u0275routerPageId?P.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Qt,source:x,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:j,resolve:ze,reject:mt,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(ci=>Promise.reject(ci))}setBrowserUrl(f,x){const P=this.urlSerializer.serialize(f),j={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(P)||x.extras.replaceUrl?this.location.replaceState(P,"",j):this.location.go(P,"",j)}restoreHistory(f,x=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===P?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===P&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,x){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:x}:{navigationId:f}}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Cs=(()=>{class m{constructor(f,x,P,j,$,ze){this.router=f,this.route=x,this.tabIndexAttribute=P,this.renderer=j,this.el=$,this.locationStrategy=ze,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new at.x;const mt=$.nativeElement.tagName;this.isAnchorElement="A"===mt||"AREA"===mt,this.isAnchorElement?this.subscription=f.events.subscribe(ln=>{ln instanceof Tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,D.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,D.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,D.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,x,P,j,$){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||x||P||j||$||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,D.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,x){const P=this.renderer,j=this.el.nativeElement;null!==x?P.setAttribute(j,f,x):P.removeAttribute(j,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return m.\u0275fac=function(f){return new(f||m)(D.Y36(qi),D.Y36(as),D.$8M("tabindex"),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(Ct.S$))},m.\u0275dir=D.lG2({type:m,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(f,x){1&f&&D.NdJ("click",function(j){return x.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&f&&D.uIk("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[D.TTD]}),m})();class mo{}let Qs=(()=>{class m{constructor(f,x,P,j,$){this.router=f,this.injector=P,this.preloadingStrategy=j,this.loader=$}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(f=>f instanceof Tn),(0,ne.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,x){const P=[];for(const j of x){j.providers&&!j._injector&&(j._injector=(0,D.MMx)(j.providers,f,`Route: ${j.path}`));const $=j._injector??f,ze=j._loadedInjector??$;j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent?P.push(this.preloadConfig($,j)):(j.children||j._loadedRoutes)&&P.push(this.processRoutes(ze,j.children??j._loadedRoutes))}return(0,w.D)(P).pipe((0,ye.J)())}preloadConfig(f,x){return this.preloadingStrategy.preload(x,()=>{let P;P=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(f,x):(0,ce.of)(null);const j=P.pipe((0,Te.z)($=>null===$?(0,ce.of)(void 0):(x._loadedRoutes=$.routes,x._loadedInjector=$.injector,this.processRoutes($.injector??f,$.routes))));if(x.loadComponent&&!x._loadedComponent){const $=this.loader.loadComponent(x);return(0,w.D)([j,$]).pipe((0,ye.J)())}return j})}}return m.\u0275fac=function(f){return new(f||m)(D.LFG(qi),D.LFG(D.Sil),D.LFG(D.lqb),D.LFG(mo),D.LFG(un))},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const ma=new D.OlP("");let ks=(()=>{class m{constructor(f,x,P,j,$={}){this.urlSerializer=f,this.transitions=x,this.viewportScroller=P,this.zone=j,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Tn&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof ki&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ki(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return m.\u0275fac=function(f){D.$Z()},m.\u0275prov=D.Yz7({token:m,factory:m.\u0275fac}),m})();function Po(m,v){return{\u0275kind:m,\u0275providers:v}}function Oo(){const m=(0,D.f3M)(D.zs3);return v=>{const f=m.get(D.z2F);if(v!==f.components[0])return;const x=m.get(qi),P=m.get(ea);1===m.get(_a)&&x.initialNavigation(),m.get(vi,null,D.XFs.Optional)?.setUpPreloading(),m.get(ma,null,D.XFs.Optional)?.init(),x.resetRootComponentType(f.componentTypes[0]),P.closed||(P.next(),P.unsubscribe())}}const ea=new D.OlP("",{factory:()=>new at.x}),_a=new D.OlP("",{providedIn:"root",factory:()=>1});const vi=new D.OlP("");function su(m){return Po(0,[{provide:vi,useExisting:Qs},{provide:mo,useExisting:m}])}const xs=new D.OlP("ROUTER_FORROOT_GUARD"),Ah=[Ct.Ye,{provide:Pn,useClass:Lt},qi,Gi,{provide:as,useFactory:function Js(m){return m.routerState.root},deps:[qi]},un,[]];function Nr(){return new D.PXZ("Router",qi)}let eo=(()=>{class m{constructor(f){}static forRoot(f,x){return{ngModule:m,providers:[Ah,[],{provide:nn,multi:!0,useValue:f},{provide:xs,useFactory:ya,deps:[[qi,new D.FiY,new D.tp0]]},{provide:Zi,useValue:x||{}},x?.useHash?{provide:Ct.S$,useClass:Ct.Do}:{provide:Ct.S$,useClass:Ct.b0},{provide:ma,useFactory:()=>{const m=(0,D.f3M)(Ct.EM),v=(0,D.f3M)(D.R0b),f=(0,D.f3M)(Zi),x=(0,D.f3M)(mr),P=(0,D.f3M)(Pn);return f.scrollOffset&&m.setOffset(f.scrollOffset),new ks(P,x,m,v,f)}},x?.preloadingStrategy?su(x.preloadingStrategy).\u0275providers:[],{provide:D.PXZ,multi:!0,useFactory:Nr},x?.initialNavigation?za(x):[],[{provide:ts,useFactory:Oo},{provide:D.tb,multi:!0,useExisting:ts}]]}}static forChild(f){return{ngModule:m,providers:[{provide:nn,multi:!0,useValue:f}]}}}return m.\u0275fac=function(f){return new(f||m)(D.LFG(xs,8))},m.\u0275mod=D.oAB({type:m}),m.\u0275inj=D.cJS({imports:[Os]}),m})();function ya(m){return"guarded"}function za(m){return["disabled"===m.initialNavigation?Po(3,[{provide:D.ip1,multi:!0,useFactory:()=>{const v=(0,D.f3M)(qi);return()=>{v.setUpLocationChangeListener()}}},{provide:_a,useValue:2}]).\u0275providers:[],"enabledBlocking"===m.initialNavigation?Po(2,[{provide:_a,useValue:0},{provide:D.ip1,multi:!0,deps:[D.zs3],useFactory:v=>{const f=v.get(Ct.V_,Promise.resolve());return()=>f.then(()=>new Promise(P=>{const j=v.get(qi),$=v.get(ea);(function x(P){v.get(qi).events.pipe((0,rt.h)($=>$ instanceof Tn||$ instanceof ss||$ instanceof _s),(0,Ke.U)($=>$ instanceof Tn||$ instanceof ss&&(0===$.code||1===$.code)&&null),(0,rt.h)($=>null!==$),(0,ct.q)(1)).subscribe(()=>{P()})})(()=>{P(!0)}),v.get(mr).afterPreactivation=()=>(P(!0),$.closed?(0,ce.of)(void 0):$),j.initialNavigation()}))}}]).\u0275providers:[]]}const ts=new D.OlP("")},4463:(At,Ne,F)=>{"use strict";F.d(Ne,{Zw:()=>bt,aw:()=>He,X$:()=>_e,sK:()=>Se});var D=F(4650),w=F(9646),ce=F(9751),le=F(576);function se(Ce){return!!Ce&&(Ce instanceof ce.y||(0,le.m)(Ce.lift)&&(0,le.m)(Ce.subscribe))}var ee=F(4128),ve=F(7272),ue=F(9770),xe=F(5698),Pe=F(7579),Re=F(6063);class Ie extends Pe.x{constructor(qe=1/0,Q=1/0,ye=Re.l){super(),this._bufferSize=qe,this._windowTime=Q,this._timestampProvider=ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Q===1/0,this._bufferSize=Math.max(1,qe),this._windowTime=Math.max(1,Q)}next(qe){const{isStopped:Q,_buffer:ye,_infiniteTimeWindow:Be,_timestampProvider:Xe,_windowTime:_t}=this;Q||(ye.push(qe),!Be&&ye.push(Xe.now()+_t)),this._trimBuffer(),super.next(qe)}_subscribe(qe){this._throwIfClosed(),this._trimBuffer();const Q=this._innerSubscribe(qe),{_infiniteTimeWindow:ye,_buffer:Be}=this,Xe=Be.slice();for(let _t=0;_t<Xe.length&&!qe.closed;_t+=ye?1:2)qe.next(Xe[_t]);return this._checkFinalizedStatuses(qe),Q}_trimBuffer(){const{_bufferSize:qe,_timestampProvider:Q,_buffer:ye,_infiniteTimeWindow:Be}=this,Xe=(Be?1:2)*qe;if(qe<1/0&&Xe<ye.length&&ye.splice(0,ye.length-Xe),!Be){const _t=Q.now();let Gt=0;for(let Yt=1;Yt<ye.length&&ye[Yt]<=_t;Yt+=2)Gt=Yt;Gt&&ye.splice(0,Gt+1)}}}var ot=F(3099);function $e(Ce,qe,Q){let ye,Be=!1;return Ce&&"object"==typeof Ce?({bufferSize:ye=1/0,windowTime:qe=1/0,refCount:Be=!1,scheduler:Q}=Ce):ye=Ce??1/0,(0,ot.B)({connector:()=>new Ie(ye,qe,Q),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}var pt=F(4004),Tt=F(4351),Ze=F(3900);class bt{}let at=(()=>{class Ce extends bt{getTranslation(Q){return(0,w.of)({})}}return Ce.\u0275fac=function(){let qe;return function(ye){return(qe||(qe=D.n5z(Ce)))(ye||Ce)}}(),Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Ct{}let Ke=(()=>{class Ce{handle(Q){return Q.key}}return Ce.\u0275fac=function(Q){return new(Q||Ce)},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function te(Ce,qe){if(Ce===qe)return!0;if(null===Ce||null===qe)return!1;if(Ce!=Ce&&qe!=qe)return!0;let Be,Xe,_t,Q=typeof Ce;if(Q==typeof qe&&"object"==Q){if(!Array.isArray(Ce)){if(Array.isArray(qe))return!1;for(Xe in _t=Object.create(null),Ce){if(!te(Ce[Xe],qe[Xe]))return!1;_t[Xe]=!0}for(Xe in qe)if(!(Xe in _t)&&typeof qe[Xe]<"u")return!1;return!0}if(!Array.isArray(qe))return!1;if((Be=Ce.length)==qe.length){for(Xe=0;Xe<Be;Xe++)if(!te(Ce[Xe],qe[Xe]))return!1;return!0}}return!1}function ct(Ce){return typeof Ce<"u"&&null!==Ce}function ke(Ce){return Ce&&"object"==typeof Ce&&!Array.isArray(Ce)}function rt(Ce,qe){let Q=Object.assign({},Ce);return ke(Ce)&&ke(qe)&&Object.keys(qe).forEach(ye=>{ke(qe[ye])?ye in Ce?Q[ye]=rt(Ce[ye],qe[ye]):Object.assign(Q,{[ye]:qe[ye]}):Object.assign(Q,{[ye]:qe[ye]})}),Q}class Te{}let wt=(()=>{class Ce extends Te{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Q,ye){let Be;return Be="string"==typeof Q?this.interpolateString(Q,ye):"function"==typeof Q?this.interpolateFunction(Q,ye):Q,Be}getValue(Q,ye){let Be="string"==typeof ye?ye.split("."):[ye];ye="";do{ye+=Be.shift(),!ct(Q)||!ct(Q[ye])||"object"!=typeof Q[ye]&&Be.length?Be.length?ye+=".":Q=void 0:(Q=Q[ye],ye="")}while(Be.length);return Q}interpolateFunction(Q,ye){return Q(ye)}interpolateString(Q,ye){return ye?Q.replace(this.templateMatcher,(Be,Xe)=>{let _t=this.getValue(ye,Xe);return ct(_t)?_t:Be}):Q}}return Ce.\u0275fac=function(){let qe;return function(ye){return(qe||(qe=D.n5z(Ce)))(ye||Ce)}}(),Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Pt{}let Ot=(()=>{class Ce extends Pt{compile(Q,ye){return Q}compileTranslations(Q,ye){return Q}}return Ce.\u0275fac=function(){let qe;return function(ye){return(qe||(qe=D.n5z(Ce)))(ye||Ce)}}(),Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class qt{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new D.vpe,this.onLangChange=new D.vpe,this.onDefaultLangChange=new D.vpe}}const W=new D.OlP("USE_STORE"),ne=new D.OlP("USE_DEFAULT_LANG"),X=new D.OlP("DEFAULT_LANGUAGE"),Ee=new D.OlP("USE_EXTEND");let Se=(()=>{class Ce{constructor(Q,ye,Be,Xe,_t,Gt=!0,Yt=!1,dn=!1,_n){this.store=Q,this.currentLoader=ye,this.compiler=Be,this.parser=Xe,this.missingTranslationHandler=_t,this.useDefaultLang=Gt,this.isolate=Yt,this.extend=dn,this.pending=!1,this._onTranslationChange=new D.vpe,this._onLangChange=new D.vpe,this._onDefaultLangChange=new D.vpe,this._langs=[],this._translations={},this._translationRequests={},_n&&this.setDefaultLang(_n)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Q){this.isolate?this._defaultLang=Q:this.store.defaultLang=Q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Q){this.isolate?this._currentLang=Q:this.store.currentLang=Q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Q){this.isolate?this._langs=Q:this.store.langs=Q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Q){this.isolate?this._translations=Q:this.store.translations=Q}setDefaultLang(Q){if(Q===this.defaultLang)return;let ye=this.retrieveTranslations(Q);typeof ye<"u"?(null==this.defaultLang&&(this.defaultLang=Q),ye.pipe((0,xe.q)(1)).subscribe(Be=>{this.changeDefaultLang(Q)})):this.changeDefaultLang(Q)}getDefaultLang(){return this.defaultLang}use(Q){if(Q===this.currentLang)return(0,w.of)(this.translations[Q]);let ye=this.retrieveTranslations(Q);return typeof ye<"u"?(this.currentLang||(this.currentLang=Q),ye.pipe((0,xe.q)(1)).subscribe(Be=>{this.changeLang(Q)}),ye):(this.changeLang(Q),(0,w.of)(this.translations[Q]))}retrieveTranslations(Q){let ye;return(typeof this.translations[Q]>"u"||this.extend)&&(this._translationRequests[Q]=this._translationRequests[Q]||this.getTranslation(Q),ye=this._translationRequests[Q]),ye}getTranslation(Q){this.pending=!0;const ye=this.currentLoader.getTranslation(Q).pipe($e(1),(0,xe.q)(1));return this.loadingTranslations=ye.pipe((0,pt.U)(Be=>this.compiler.compileTranslations(Be,Q)),$e(1),(0,xe.q)(1)),this.loadingTranslations.subscribe({next:Be=>{this.translations[Q]=this.extend&&this.translations[Q]?{...Be,...this.translations[Q]}:Be,this.updateLangs(),this.pending=!1},error:Be=>{this.pending=!1}}),ye}setTranslation(Q,ye,Be=!1){ye=this.compiler.compileTranslations(ye,Q),this.translations[Q]=(Be||this.extend)&&this.translations[Q]?rt(this.translations[Q],ye):ye,this.updateLangs(),this.onTranslationChange.emit({lang:Q,translations:this.translations[Q]})}getLangs(){return this.langs}addLangs(Q){Q.forEach(ye=>{-1===this.langs.indexOf(ye)&&this.langs.push(ye)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Q,ye,Be){let Xe;if(ye instanceof Array){let _t={},Gt=!1;for(let Yt of ye)_t[Yt]=this.getParsedResult(Q,Yt,Be),se(_t[Yt])&&(Gt=!0);if(Gt){const Yt=ye.map(dn=>se(_t[dn])?_t[dn]:(0,w.of)(_t[dn]));return(0,ee.D)(Yt).pipe((0,pt.U)(dn=>{let _n={};return dn.forEach((zt,xt)=>{_n[ye[xt]]=zt}),_n}))}return _t}if(Q&&(Xe=this.parser.interpolate(this.parser.getValue(Q,ye),Be)),typeof Xe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Xe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ye),Be)),typeof Xe>"u"){let _t={key:ye,translateService:this};typeof Be<"u"&&(_t.interpolateParams=Be),Xe=this.missingTranslationHandler.handle(_t)}return typeof Xe<"u"?Xe:ye}get(Q,ye){if(!ct(Q)||!Q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Tt.b)(Be=>se(Be=this.getParsedResult(Be,Q,ye))?Be:(0,w.of)(Be)));{let Be=this.getParsedResult(this.translations[this.currentLang],Q,ye);return se(Be)?Be:(0,w.of)(Be)}}getStreamOnTranslationChange(Q,ye){if(!ct(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,ve.z)((0,ue.P)(()=>this.get(Q,ye)),this.onTranslationChange.pipe((0,Ze.w)(Be=>{const Xe=this.getParsedResult(Be.translations,Q,ye);return"function"==typeof Xe.subscribe?Xe:(0,w.of)(Xe)})))}stream(Q,ye){if(!ct(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,ve.z)((0,ue.P)(()=>this.get(Q,ye)),this.onLangChange.pipe((0,Ze.w)(Be=>{const Xe=this.getParsedResult(Be.translations,Q,ye);return se(Xe)?Xe:(0,w.of)(Xe)})))}instant(Q,ye){if(!ct(Q)||!Q.length)throw new Error('Parameter "key" required');let Be=this.getParsedResult(this.translations[this.currentLang],Q,ye);if(se(Be)){if(Q instanceof Array){let Xe={};return Q.forEach((_t,Gt)=>{Xe[Q[Gt]]=Q[Gt]}),Xe}return Q}return Be}set(Q,ye,Be=this.currentLang){this.translations[Be][Q]=this.compiler.compile(ye,Be),this.updateLangs(),this.onTranslationChange.emit({lang:Be,translations:this.translations[Be]})}changeLang(Q){this.currentLang=Q,this.onLangChange.emit({lang:Q,translations:this.translations[Q]}),null==this.defaultLang&&this.changeDefaultLang(Q)}changeDefaultLang(Q){this.defaultLang=Q,this.onDefaultLangChange.emit({lang:Q,translations:this.translations[Q]})}reloadLang(Q){return this.resetLang(Q),this.getTranslation(Q)}resetLang(Q){this._translationRequests[Q]=void 0,this.translations[Q]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Q>"u"?void 0:(-1!==Q.indexOf("-")&&(Q=Q.split("-")[0]),-1!==Q.indexOf("_")&&(Q=Q.split("_")[0]),Q)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Q}}return Ce.\u0275fac=function(Q){return new(Q||Ce)(D.LFG(qt),D.LFG(bt),D.LFG(Pt),D.LFG(Te),D.LFG(Ct),D.LFG(ne),D.LFG(W),D.LFG(Ee),D.LFG(X))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),_e=(()=>{class Ce{constructor(Q,ye){this.translate=Q,this._ref=ye,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Q,ye,Be){let Xe=_t=>{this.value=void 0!==_t?_t:Q,this.lastKey=Q,this._ref.markForCheck()};if(Be){let _t=this.translate.getParsedResult(Be,Q,ye);se(_t.subscribe)?_t.subscribe(Xe):Xe(_t)}this.translate.get(Q,ye).subscribe(Xe)}transform(Q,...ye){if(!Q||!Q.length)return Q;if(te(Q,this.lastKey)&&te(ye,this.lastParams))return this.value;let Be;if(ct(ye[0])&&ye.length)if("string"==typeof ye[0]&&ye[0].length){let Xe=ye[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Be=JSON.parse(Xe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ye[0]}`)}}else"object"==typeof ye[0]&&!Array.isArray(ye[0])&&(Be=ye[0]);return this.lastKey=Q,this.lastParams=ye,this.updateValue(Q,Be),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Xe=>{this.lastKey&&Xe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Q,Be,Xe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Xe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,Be,Xe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,Be))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Ce.\u0275fac=function(Q){return new(Q||Ce)(D.Y36(Se,16),D.Y36(D.sBO,16))},Ce.\u0275pipe=D.Yjl({name:"translate",type:Ce,pure:!1}),Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),He=(()=>{class Ce{static forRoot(Q={}){return{ngModule:Ce,providers:[Q.loader||{provide:bt,useClass:at},Q.compiler||{provide:Pt,useClass:Ot},Q.parser||{provide:Te,useClass:wt},Q.missingTranslationHandler||{provide:Ct,useClass:Ke},qt,{provide:W,useValue:Q.isolate},{provide:ne,useValue:Q.useDefaultLang},{provide:Ee,useValue:Q.extend},{provide:X,useValue:Q.defaultLanguage},Se]}}static forChild(Q={}){return{ngModule:Ce,providers:[Q.loader||{provide:bt,useClass:at},Q.compiler||{provide:Pt,useClass:Ot},Q.parser||{provide:Te,useClass:wt},Q.missingTranslationHandler||{provide:Ct,useClass:Ke},{provide:W,useValue:Q.isolate},{provide:ne,useValue:Q.useDefaultLang},{provide:Ee,useValue:Q.extend},{provide:X,useValue:Q.defaultLanguage},Se]}}}return Ce.\u0275fac=function(Q){return new(Q||Ce)},Ce.\u0275mod=D.oAB({type:Ce}),Ce.\u0275inj=D.cJS({}),Ce})()},3184:(At,Ne,F)=>{"use strict";F.d(Ne,{KgH:()=>Rc,MxU:()=>Fu,deM:()=>_c,jyi:()=>No,xEZ:()=>hn,vB5:()=>ar,oO3:()=>ol});var D=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(D||{}),ce=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(ce||{}),le=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(le||{}),se=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(se||{}),ee=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(ee||{}),ve=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(ve||{}),ue=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(ue||{}),xe=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(xe||{}),Pe=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(Pe||{}),Re=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(Re||{}),Ie=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(Ie||{}),ot=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(ot||{}),$e=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))($e||{}),pt=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(pt||{}),Tt=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(Tt||{}),Ze=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(Ze||{}),at=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(at||{}),Ct=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(Ct||{});const te={ADAPTER:{createCanvas:(n,e)=>{const r=document.createElement("canvas");return r.width=n,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>(new DOMParser).parseFromString(n,"text/xml")},RESOLUTION:1,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,premultipliedAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ct=/iPhone/i,ke=/iPod/i,rt=/iPad/i,Te=/\biOS-universal(?:.+)Mac\b/i,wt=/\bAndroid(?:.+)Mobile\b/i,Pt=/Android/i,Ot=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,qt=/Silk/i,W=/Windows Phone/i,ne=/\bWindows(?:.+)ARM\b/i,X=/BlackBerry/i,Ee=/BB10/i,Se=/Opera Mini/i,pe=/\b(CriOS|Chrome)(?:.+)Mobile/i,_e=/Mobile(?:.+)Firefox\b/i,He=function(n){return typeof n<"u"&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&typeof MSStream>"u"};const Q=function qe(n){var e={userAgent:"",platform:"",maxTouchPoints:0};!n&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:"string"==typeof n?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0});var r=e.userAgent,o=r.split("[FBAN");typeof o[1]<"u"&&(r=o[0]),typeof(o=r.split("Twitter"))[1]<"u"&&(r=o[0]);var l=function Ce(n){return function(e){return e.test(n)}}(r),u={apple:{phone:l(ct)&&!l(W),ipod:l(ke),tablet:!l(ct)&&(l(rt)||He(e))&&!l(W),universal:l(Te),device:(l(ct)||l(ke)||l(rt)||l(Te)||He(e))&&!l(W)},amazon:{phone:l(Ot),tablet:!l(Ot)&&l(qt),device:l(Ot)||l(qt)},android:{phone:!l(W)&&l(Ot)||!l(W)&&l(wt),tablet:!l(W)&&!l(Ot)&&!l(wt)&&(l(qt)||l(Pt)),device:!l(W)&&(l(Ot)||l(qt)||l(wt)||l(Pt))||l(/\bokhttp\b/i)},windows:{phone:l(W),tablet:l(ne),device:l(W)||l(ne)},other:{blackberry:l(X),blackberry10:l(Ee),opera:l(Se),firefox:l(_e),chrome:l(pe),device:l(X)||l(Ee)||l(Se)||l(_e)||l(pe)},any:!1,phone:!1,tablet:!1};return u.any=u.apple.device||u.android.device||u.windows.device||u.other.device,u.phone=u.apple.phone||u.android.phone||u.windows.phone,u.tablet=u.apple.tablet||u.android.tablet||u.windows.tablet,u}(globalThis.navigator);te.RETINA_PREFIX=/@([0-9\.]+)x/,te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ye=F(2005),Be=F(5469),Xe=F(8762);const _t={parse:Xe.Qc,format:Xe.WU,resolve:Xe.DB};function Gt(n){if("string"!=typeof n)throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function Yt(n){return n.split("?")[0].split("#")[0]}const xt={toPosix:n=>function _n(n,e,r){return n.replace(new RegExp(function dn(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"g"),r)}(n,"\\","/"),isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl:n=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n),hasProtocol(n){return/^[^/:]+:\//.test(this.toPosix(n))},getProtocol(n){Gt(n),n=this.toPosix(n);let e="";const r=/^file:\/\/\//.exec(n),o=/^[^/:]+:\/\//.exec(n),l=/^[^/:]+:\//.exec(n);if(r||o||l){const u=r?.[0]||o?.[0]||l?.[0];e=u,n=n.slice(u.length)}return e},toAbsolute(n,e,r){if(this.isDataUrl(n))return n;const o=Yt(this.toPosix(e??te.ADAPTER.getBaseUrl())),l=Yt(this.toPosix(r??this.rootname(o)));return Gt(n),(n=this.toPosix(n)).startsWith("/")?xt.join(l,n.slice(1)):this.isAbsolute(n)?n:this.join(o,n)},normalize(n){if(Gt(n=this.toPosix(n)),0===n.length)return".";let e="";const r=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const o=n.endsWith("/");return n=function zt(n,e){let r="",o=0,l=-1,u=0,d=-1;for(let y=0;y<=n.length;++y){if(y<n.length)d=n.charCodeAt(y);else{if(47===d)break;d=47}if(47===d){if(l!==y-1&&1!==u)if(l!==y-1&&2===u){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){const T=r.lastIndexOf("/");if(T!==r.length-1){-1===T?(r="",o=0):(r=r.slice(0,T),o=r.length-1-r.lastIndexOf("/")),l=y,u=0;continue}}else if(2===r.length||1===r.length){r="",o=0,l=y,u=0;continue}e&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+=`/${n.slice(l+1,y)}`:r=n.slice(l+1,y),o=y-l-1;l=y,u=0}else 46===d&&-1!==u?++u:u=-1}return r}(n,!1),n.length>0&&o&&(n+="/"),r?`/${n}`:e+n},isAbsolute(n){return Gt(n),n=this.toPosix(n),!!this.hasProtocol(n)||n.startsWith("/")},join(...n){if(0===n.length)return".";let e;for(let r=0;r<n.length;++r){const o=n[r];Gt(o),o.length>0&&(void 0===e?e=o:this.extname(n[r-1]??"")?e+=`/../${o}`:e+=`/${o}`)}return void 0===e?".":this.normalize(e)},dirname(n){if(Gt(n),0===n.length)return".";let e=(n=this.toPosix(n)).charCodeAt(0);const r=47===e;let o=-1,l=!0;const u=this.getProtocol(n),d=n;for(let y=(n=n.slice(u.length)).length-1;y>=1;--y)if(e=n.charCodeAt(y),47===e){if(!l){o=y;break}}else l=!1;return-1===o?r?"/":this.isUrl(d)?u+n:u:r&&1===o?"//":u+n.slice(0,o)},rootname(n){Gt(n);let e="";if(e=(n=this.toPosix(n)).startsWith("/")?"/":this.getProtocol(n),this.isUrl(n)){const r=n.indexOf("/",e.length);e=-1!==r?n.slice(0,r):n,e.endsWith("/")||(e+="/")}return e},basename(n,e){Gt(n),e&&Gt(e),n=Yt(this.toPosix(n));let u,r=0,o=-1,l=!0;if(void 0!==e&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let d=e.length-1,y=-1;for(u=n.length-1;u>=0;--u){const T=n.charCodeAt(u);if(47===T){if(!l){r=u+1;break}}else-1===y&&(l=!1,y=u+1),d>=0&&(T===e.charCodeAt(d)?-1==--d&&(o=u):(d=-1,o=y))}return r===o?o=y:-1===o&&(o=n.length),n.slice(r,o)}for(u=n.length-1;u>=0;--u)if(47===n.charCodeAt(u)){if(!l){r=u+1;break}}else-1===o&&(l=!1,o=u+1);return-1===o?"":n.slice(r,o)},extname(n){Gt(n);let e=-1,r=0,o=-1,l=!0,u=0;for(let d=(n=Yt(this.toPosix(n))).length-1;d>=0;--d){const y=n.charCodeAt(d);if(47!==y)-1===o&&(l=!1,o=d+1),46===y?-1===e?e=d:1!==u&&(u=1):-1!==e&&(u=-1);else if(!l){r=d+1;break}}return-1===e||-1===o||0===u||1===u&&e===o-1&&e===r+1?"":n.slice(e,o)},parse(n){Gt(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===n.length)return e;let r=(n=Yt(this.toPosix(n))).charCodeAt(0);const o=this.isAbsolute(n);let l;e.root=this.rootname(n),l=o||this.hasProtocol(n)?1:0;let d=-1,y=0,T=-1,O=!0,B=n.length-1,H=0;for(;B>=l;--B)if(r=n.charCodeAt(B),47!==r)-1===T&&(O=!1,T=B+1),46===r?-1===d?d=B:1!==H&&(H=1):-1!==d&&(H=-1);else if(!O){y=B+1;break}return-1===d||-1===T||0===H||1===H&&d===T-1&&d===y+1?-1!==T&&(e.base=e.name=n.slice(0===y&&o?1:y,T)):(0===y&&o?(e.name=n.slice(1,d),e.base=n.slice(1,T)):(e.name=n.slice(y,d),e.base=n.slice(y,T)),e.ext=n.slice(d,T)),e.dir=this.dirname(n),e},sep:"/",delimiter:":"},Un={};function an(n,e,r=3){if(Un[e])return;let o=(new Error).stack;typeof o>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${n}`):(o=o.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${n}`),console.warn(o),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${n}`),console.warn(o))),Un[e]=!0}let Xt;var da={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ks(n,e=[]){return e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,e}function ut(n){let e=n.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function ei(n){if("string"==typeof n&&("#"===(n=da[n.toLowerCase()]||n)[0]&&(n=n.slice(1)),3===n.length)){const[e,r,o]=n;n=e+e+r+r+o+o}return parseInt(n,16)}const Li=function So(){const n=[],e=[];for(let o=0;o<32;o++)n[o]=o,e[o]=o;n[le.NORMAL_NPM]=le.NORMAL,n[le.ADD_NPM]=le.ADD,n[le.SCREEN_NPM]=le.SCREEN,e[le.NORMAL]=le.NORMAL_NPM,e[le.ADD]=le.ADD_NPM,e[le.SCREEN]=le.SCREEN_NPM;const r=[];return r.push(e),r.push(n),r}();function ws(n,e){return Li[e?1:0][n]}function wr(n,e){if(1===e)return(255*e<<24)+n;if(0===e)return 0;let r=n>>16&255,o=n>>8&255,l=255&n;return r=r*e+.5|0,o=o*e+.5|0,l=l*e+.5|0,(255*e<<24)+(r<<16)+(o<<8)+l}function Zs(n,e,r,o){return(r=r||new Float32Array(4))[0]=(n>>16&255)/255,r[1]=(n>>8&255)/255,r[2]=(255&n)/255,(o||void 0===o)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Xo(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function sr(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function Jr(n){return!(n&n-1||!n)}function $r(n){let e=(n>65535?1:0)<<4,r=((n>>>=e)>255?1:0)<<3;return e|=r,r=((n>>>=r)>15?1:0)<<2,e|=r,r=((n>>>=r)>3?1:0)<<1,e|=r,e|(n>>>=r)>>1}function Ui(n,e,r){const o=n.length;let l;if(e>=o||0===r)return;const u=o-(r=e+r>o?o-e:r);for(l=e;l<u;++l)n[l]=n[l+r];n.length=u}function us(n){return 0===n?0:n<0?-1:1}Float32Array,Uint32Array,Int32Array,Uint8Array;let hs=0;function Wr(){return++hs}const fo=class{constructor(n,e,r,o){this.left=n,this.top=e,this.right=r,this.bottom=o}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Ds=fo;Ds.EMPTY=new fo(0,0,0,0);const qs={},gr=Object.create(null),er=Object.create(null);class es{constructor(e,r,o){this._canvas=te.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=o||te.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function po(n,e,r){for(let o=0,l=4*r*e;o<e;++o,l+=4)if(0!==n[l+3])return!1;return!0}function U(n,e,r,o,l){const u=4*e;for(let d=o,y=o*u+4*r;d<=l;++d,y+=u)if(0!==n[y+3])return!1;return!0}let G;function De(n,e=1){const r=te.RETINA_PREFIX?.exec(n);return r?parseFloat(r[1]):e}var re=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(re||{});const We=n=>{if("function"==typeof n||"object"==typeof n&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={..."object"!=typeof n.extension?{type:n.extension}:n.extension,ref:n}}if("object"!=typeof n)throw new Error("Invalid extension type");return"string"==typeof(n={...n}).type&&(n.type=[n.type]),n},vt=(n,e)=>We(n).priority??e,ht={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(We).forEach(e=>{e.type.forEach(r=>this._removeHandlers[r]?.(e))}),this},add(...n){return n.map(We).forEach(e=>{e.type.forEach(r=>{const o=this._addHandlers,l=this._queue;o[r]?o[r](e):(l[r]=l[r]||[],l[r].push(e))})}),this},handle(n,e,r){const o=this._addHandlers,l=this._removeHandlers;if(o[n]||l[n])throw new Error(`Extension type ${n} already has a handler`);o[n]=e,l[n]=r;const u=this._queue;return u[n]&&(u[n].forEach(d=>e(d)),delete u[n]),this},handleByMap(n,e){return this.handle(n,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(n,e,r=-1){return this.handle(n,o=>{e.includes(o.ref)||(e.push(o.ref),e.sort((l,u)=>vt(u,r)-vt(l,r)))},o=>{const l=e.indexOf(o.ref);-1!==l&&e.splice(l,1)})}};class tn{constructor(e){this.rawBinaryData="number"==typeof e?new ArrayBuffer(e):e instanceof Uint8Array?e.buffer:e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Xn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Hn(n){let e="";for(let r=0;r<n;++r)r>0&&(e+="\nelse "),r<n-1&&(e+=`if(test == ${r}.0){}`);return e}class Je{constructor(){this.data=0,this.blendMode=le.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==le.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Je;return e.depthTest=!1,e.blend=!0,e}}const lt=[];function Vt(n,e){if(!n)return null;let r="";if("string"==typeof n){const o=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);o&&(r=o[1].toLowerCase())}for(let o=lt.length-1;o>=0;--o){const l=lt[o];if(l.test&&l.test(n,r))return new l(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Sn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,o,l,u,d,y,T){if(arguments.length>8)throw new Error("max arguments reached");const{name:O,items:B}=this;this._aliasCount++;for(let H=0,Y=B.length;H<Y;H++)B[H][O](e,r,o,l,u,d,y,T);return B===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return-1!==r&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(Sn.prototype,{dispatch:{value:Sn.prototype.emit},run:{value:Sn.prototype.emit}});class Mn{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Sn("setRealSize"),this.onUpdate=new Sn("update"),this.onError=new Sn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,o){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Bn extends Mn{constructor(e,r){const{width:o,height:l}=r||{};if(!o||!l)throw new Error("BufferResource width or height invalid");super(o,l),this.data=e}upload(e,r,o){const l=e.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ot.UNPACK);const u=r.realWidth,d=r.realHeight;return o.width===u&&o.height===d?l.texSubImage2D(r.target,0,0,0,u,d,r.format,o.type,this.data):(o.width=u,o.height=d,l.texImage2D(r.target,0,o.internalFormat,u,d,0,r.format,o.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const Kn={scaleMode:Pe.NEAREST,format:ee.RGBA,alphaMode:ot.NPM},li=class extends ye{constructor(n=null,e=null){super(),e=Object.assign({},li.defaultOptions,e);const{alphaMode:r,mipmap:o,anisotropicLevel:l,scaleMode:u,width:d,height:y,wrapMode:T,format:O,type:B,target:H,resolution:Y,resourceOptions:oe}=e;n&&!(n instanceof Mn)&&((n=Vt(n,oe)).internal=!0),this.resolution=Y||te.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((y||0)*this.resolution)/this.resolution,this._mipmap=o,this.anisotropicLevel=l,this._wrapMode=T,this._scaleMode=u,this.format=O,this.type=B,this.target=H,this.alphaMode=r,this.uid=Wr(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&y>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(n)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)}setStyle(n,e){let r;return void 0!==n&&n!==this.scaleMode&&(this.scaleMode=n,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(n,e,r){return this.setRealSize(n*(r=r||this.resolution),e*r,r)}setRealSize(n,e,r){return this.resolution=r||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Jr(this.realWidth)&&Jr(this.realHeight)}setResolution(n){const e=this.resolution;return e===n||(this.resolution=n,this.valid&&(this.width=Math.round(this.width*e)/n,this.height=Math.round(this.height*e)/n,this.emit("update",this)),this._refreshPOT()),this}setResource(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(n){this.emit("error",this,n)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete er[this.cacheId],delete gr[this.cacheId],this.cacheId=null),this.dispose(),li.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(n,e,r=te.STRICT_TEXTURE_CACHE){const o="string"==typeof n;let l=null;o?l=n:(n._pixiId||(n._pixiId=`${e?.pixiIdPrefix||"pixiid"}_${Wr()}`),l=n._pixiId);let u=er[l];if(o&&r&&!u)throw new Error(`The cacheId "${l}" does not exist in BaseTextureCache.`);return u||(u=new li(n,e),u.cacheId=l,li.addToCache(u,l)),u}static fromBuffer(n,e,r,o){n=n||new Float32Array(e*r*4);const l=new Bn(n,{width:e,height:r}),u=n instanceof Float32Array?ue.FLOAT:ue.UNSIGNED_BYTE;return new li(l,Object.assign({},Kn,o||{width:e,height:r,type:u}))}static addToCache(n,e){e&&(n.textureCacheIds.includes(e)||n.textureCacheIds.push(e),er[e]&&er[e]!==n&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),er[e]=n)}static removeFromCache(n){if("string"==typeof n){const e=er[n];if(e){const r=e.textureCacheIds.indexOf(n);return r>-1&&e.textureCacheIds.splice(r,1),delete er[n],e}}else if(n?.textureCacheIds){for(let e=0;e<n.textureCacheIds.length;++e)delete er[n.textureCacheIds[e]];return n.textureCacheIds.length=0,n}return null}};let $t=li;$t.defaultOptions={mipmap:Ie.POW2,anisotropicLevel:0,scaleMode:Pe.LINEAR,wrapMode:Re.CLAMP,alphaMode:ot.UNPACK,target:ve.TEXTURE_2D,format:ee.RGBA,type:ue.UNSIGNED_BYTE},$t._globalBatch=0;class Ai{constructor(){this.texArray=null,this.blend=0,this.type=se.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Yr=0;class Ft{constructor(e,r=!0,o=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=o,this.static=r,this.id=Yr++,this.disposeRunner=new Sn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ct.ELEMENT_ARRAY_BUFFER:Ct.ARRAY_BUFFER}get index(){return this.type===Ct.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ft(e)}}class nn{constructor(e,r=0,o=!1,l=ue.FLOAT,u,d,y,T=1){this.buffer=e,this.size=r,this.normalized=o,this.type=l,this.stride=u,this.start=d,this.instance=y,this.divisor=T}destroy(){this.buffer=null}static from(e,r,o,l,u){return new nn(e,r,o,l,u)}}const un={Float32Array,Uint32Array,Int32Array,Uint8Array},wi={5126:4,5123:2,5121:1};let Xi=0;const mr={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ki{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Xi++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Sn("disposeGeometry"),this.refCount=0}addAttribute(e,r,o=0,l=!1,u,d,y,T=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ft||(r instanceof Array&&(r=new Float32Array(r)),r=new Ft(r));const O=e.split("|");if(O.length>1){for(let H=0;H<O.length;H++)this.addAttribute(O[H],r,o,l,u);return this}let B=this.buffers.indexOf(r);return-1===B&&(this.buffers.push(r),B=this.buffers.length-1),this.attributes[e]=new nn(B,o,l,u,d,y,T),this.instanced=this.instanced||T,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ft||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ft(e)),e.type=Ct.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],r=[],o=new Ft;let l;for(l in this.attributes){const u=this.attributes[l];e.push(this.buffers[u.buffer].data),r.push(u.size*wi[u.type]/4),u.buffer=0}for(o.data=function Vn(n,e){let r=0,o=0;const l={};for(let T=0;T<n.length;T++)o+=e[T],r+=n[T].length;const u=new ArrayBuffer(4*r);let d=null,y=0;for(let T=0;T<n.length;T++){const O=e[T],B=n[T],H=Xo(B);l[H]||(l[H]=new un[H](u)),d=l[H];for(let Y=0;Y<B.length;Y++)d[(Y/O|0)*o+y+Y%O]=B[Y];y+=O}return new Float32Array(u)}(e,r),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[o],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ki;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ft(this.buffers[r].data.slice(0));for(const r in this.attributes){const o=this.attributes[r];e.attributes[r]=new nn(o.buffer,o.size,o.normalized,o.type,o.stride,o.start,o.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ct.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Ki,o=[],l=[],u=[];let d;for(let y=0;y<e.length;y++){d=e[y];for(let T=0;T<d.buffers.length;T++)l[T]=l[T]||0,l[T]+=d.buffers[T].data.length,u[T]=0}for(let y=0;y<d.buffers.length;y++)o[y]=new(mr[Xo(d.buffers[y].data)])(l[y]),r.buffers[y]=new Ft(o[y]);for(let y=0;y<e.length;y++){d=e[y];for(let T=0;T<d.buffers.length;T++)o[T].set(d.buffers[T].data,u[T]),u[T]+=d.buffers[T].data.length}if(r.attributes=d.attributes,d.indexBuffer){r.indexBuffer=r.buffers[d.buffers.indexOf(d.indexBuffer)],r.indexBuffer.type=Ct.ELEMENT_ARRAY_BUFFER;let y=0,T=0,O=0,B=0;for(let H=0;H<d.buffers.length;H++)if(d.buffers[H]!==d.indexBuffer){B=H;break}for(const H in d.attributes){const Y=d.attributes[H];(0|Y.buffer)===B&&(T+=Y.size*wi[Y.type]/4)}for(let H=0;H<e.length;H++){const Y=e[H].indexBuffer.data;for(let oe=0;oe<Y.length;oe++)r.indexBuffer.data[oe+O]+=y;y+=e[H].buffers[B].data.length/T,O+=Y.length}}return r}}class mi extends Ki{constructor(e=!1){super(),this._buffer=new Ft(null,e,!1),this._indexBuffer=new Ft(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ue.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ue.FLOAT).addAttribute("aColor",this._buffer,4,!0,ue.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ue.FLOAT).addIndex(this._indexBuffer)}}const Ns=2*Math.PI,ql=180/Math.PI,or=Math.PI/180;var Ci=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(Ci||{});class On{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new On(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Zi=[new On,new On,new On,new On];class jn{constructor(e=0,r=0,o=0,l=0){this.x=Number(e),this.y=Number(r),this.width=Number(o),this.height=Number(l),this.type=Ci.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new jn(0,0,0,0)}clone(){return new jn(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r)return!((this.right>e.right?e.right:this.right)<=(this.x<e.x?e.x:this.x))&&(this.bottom>e.bottom?e.bottom:this.bottom)>(this.y<e.y?e.y:this.y);const o=this.left,l=this.right,u=this.top,d=this.bottom;if(l<=o||d<=u)return!1;const y=Zi[0].set(e.left,e.top),T=Zi[1].set(e.left,e.bottom),O=Zi[2].set(e.right,e.top),B=Zi[3].set(e.right,e.bottom);if(O.x<=y.x||T.y<=y.y)return!1;const H=Math.sign(r.a*r.d-r.b*r.c);if(0===H||(r.apply(y,y),r.apply(T,T),r.apply(O,O),r.apply(B,B),Math.max(y.x,T.x,O.x,B.x)<=o||Math.min(y.x,T.x,O.x,B.x)>=l||Math.max(y.y,T.y,O.y,B.y)<=u||Math.min(y.y,T.y,O.y,B.y)>=d))return!1;const Y=H*(T.y-y.y),oe=H*(y.x-T.x),me=Y*o+oe*u,Ge=Y*l+oe*u,Qe=Y*o+oe*d,st=Y*l+oe*d;if(Math.max(me,Ge,Qe,st)<=Y*y.x+oe*y.y||Math.min(me,Ge,Qe,st)>=Y*B.x+oe*B.y)return!1;const It=H*(y.y-O.y),it=H*(O.x-y.x),Dt=It*o+it*u,wn=It*l+it*u,vn=It*o+it*d,rn=It*l+it*d;return!(Math.max(Dt,wn,vn,rn)<=It*y.x+it*y.y||Math.min(Dt,wn,vn,rn)>=It*B.x+it*B.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=2*e,this.height+=2*r,this}fit(e){const r=Math.max(this.x,e.x),o=Math.min(this.x+this.width,e.x+e.width),l=Math.max(this.y,e.y),u=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(o-r,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(e=1,r=.001){const o=Math.ceil((this.x+this.width-r)*e)/e,l=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=o-this.x,this.height=l-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),o=Math.max(this.x+this.width,e.x+e.width),l=Math.min(this.y,e.y),u=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=o-r,this.y=l,this.height=u-l,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ko{constructor(e=0,r=0,o=0){this.x=e,this.y=r,this.radius=o,this.type=Ci.CIRC}clone(){return new Ko(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;let l=this.x-e,u=this.y-r;return l*=l,u*=u,l+u<=this.radius*this.radius}getBounds(){return new jn(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Zo{constructor(e=0,r=0,o=0,l=0){this.x=e,this.y=r,this.width=o,this.height=l,this.type=Ci.ELIP}clone(){return new Zo(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let o=(e-this.x)/this.width,l=(r-this.y)/this.height;return o*=o,l*=l,o+l<=1}getBounds(){return new jn(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Io{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){const o=[];for(let l=0,u=r.length;l<u;l++)o.push(r[l].x,r[l].y);r=o}this.points=r,this.type=Ci.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Io(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let o=!1;const l=this.points.length/2;for(let u=0,d=l-1;u<l;d=u++){const y=this.points[2*u],T=this.points[2*u+1],B=this.points[2*d+1];T>r!=B>r&&e<(r-T)/(B-T)*(this.points[2*d]-y)+y&&(o=!o)}return o}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class ga{constructor(e=0,r=0,o=0,l=0,u=20){this.x=e,this.y=r,this.width=o,this.height=l,this.radius=u,this.type=Ci.RREC}clone(){return new ga(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const o=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+o&&r<=this.y+this.height-o||e>=this.x+o&&e<=this.x+this.width-o)return!0;let l=e-(this.x+o),u=r-(this.y+o);const d=o*o;if(l*l+u*u<=d||(l=e-(this.x+this.width-o),l*l+u*u<=d)||(u=r-(this.y+this.height-o),l*l+u*u<=d)||(l=e-(this.x+o),l*l+u*u<=d))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class xi{constructor(e=1,r=0,o=0,l=1,u=0,d=0){this.array=null,this.a=e,this.b=r,this.c=o,this.d=l,this.tx=u,this.ty=d}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,o,l,u,d){return this.a=e,this.b=r,this.c=o,this.d=l,this.tx=u,this.ty=d,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const o=r||this.array;return e?(o[0]=this.a,o[1]=this.b,o[2]=0,o[3]=this.c,o[4]=this.d,o[5]=0,o[6]=this.tx,o[7]=this.ty,o[8]=1):(o[0]=this.a,o[1]=this.c,o[2]=this.tx,o[3]=this.b,o[4]=this.d,o[5]=this.ty,o[6]=0,o[7]=0,o[8]=1),o}apply(e,r){r=r||new On;const o=e.x,l=e.y;return r.x=this.a*o+this.c*l+this.tx,r.y=this.b*o+this.d*l+this.ty,r}applyInverse(e,r){r=r||new On;const o=1/(this.a*this.d+this.c*-this.b),l=e.x,u=e.y;return r.x=this.d*o*l+-this.c*o*u+(this.ty*this.c-this.tx*this.d)*o,r.y=this.a*o*u+-this.b*o*l+(-this.ty*this.a+this.tx*this.b)*o,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),o=Math.sin(e),l=this.a,u=this.c,d=this.tx;return this.a=l*r-this.b*o,this.b=l*o+this.b*r,this.c=u*r-this.d*o,this.d=u*o+this.d*r,this.tx=d*r-this.ty*o,this.ty=d*o+this.ty*r,this}append(e){const r=this.a,o=this.b,l=this.c,u=this.d;return this.a=e.a*r+e.b*l,this.b=e.a*o+e.b*u,this.c=e.c*r+e.d*l,this.d=e.c*o+e.d*u,this.tx=e.tx*r+e.ty*l+this.tx,this.ty=e.tx*o+e.ty*u+this.ty,this}setTransform(e,r,o,l,u,d,y,T,O){return this.a=Math.cos(y+O)*u,this.b=Math.sin(y+O)*u,this.c=-Math.sin(y-T)*d,this.d=Math.cos(y-T)*d,this.tx=e-(o*this.a+l*this.c),this.ty=r-(o*this.b+l*this.d),this}prepend(e){const r=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const o=this.a,l=this.c;this.a=o*e.a+this.b*e.c,this.b=o*e.b+this.b*e.d,this.c=l*e.a+this.d*e.c,this.d=l*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,o=this.b,l=this.c,u=this.d,d=e.pivot,y=-Math.atan2(-l,u),T=Math.atan2(o,r),O=Math.abs(y+T);return O<1e-5||Math.abs(Ns-O)<1e-5?(e.rotation=T,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=y,e.skew.y=T),e.scale.x=Math.sqrt(r*r+o*o),e.scale.y=Math.sqrt(l*l+u*u),e.position.x=this.tx+(d.x*r+d.y*l),e.position.y=this.ty+(d.x*o+d.y*u),e}invert(){const e=this.a,r=this.b,o=this.c,l=this.d,u=this.tx,d=e*l-r*o;return this.a=l/d,this.b=-r/d,this.c=-o/d,this.d=e/d,this.tx=(o*this.ty-l*u)/d,this.ty=-(e*this.ty-r*u)/d,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new xi;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new xi}static get TEMP_MATRIX(){return new xi}}const Ro=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],qi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],go=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Cs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ha=[],Ql=[],mo=Math.sign;!function qo(){for(let n=0;n<16;n++){const e=[];Ha.push(e);for(let r=0;r<16;r++){const o=mo(Ro[n]*Ro[r]+go[n]*qi[r]),l=mo(qi[n]*Ro[r]+Cs[n]*qi[r]),u=mo(Ro[n]*go[r]+go[n]*Cs[r]),d=mo(qi[n]*go[r]+Cs[n]*Cs[r]);for(let y=0;y<16;y++)if(Ro[y]===o&&qi[y]===l&&go[y]===u&&Cs[y]===d){e.push(y);break}}}for(let n=0;n<16;n++){const e=new xi;e.set(Ro[n],qi[n],go[n],Cs[n],0,0),Ql.push(e)}}();const Vi={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Ro[n],uY:n=>qi[n],vX:n=>go[n],vY:n=>Cs[n],inv:n=>8&n?15&n:7&-n,add:(n,e)=>Ha[n][e],sub:(n,e)=>Ha[n][Vi.inv(e)],rotate180:n=>4^n,isVertical:n=>2==(3&n),byDirection:(n,e)=>2*Math.abs(n)<=Math.abs(e)?e>=0?Vi.S:Vi.N:2*Math.abs(e)<=Math.abs(n)?n>0?Vi.E:Vi.W:e>0?n>0?Vi.SE:Vi.SW:n>0?Vi.NE:Vi.NW,matrixAppendRotationInv:(n,e,r=0,o=0)=>{const l=Ql[Vi.inv(e)];l.tx=r,l.ty=o,n.append(l)}};class Qs{constructor(e,r,o=0,l=0){this._x=o,this._y=l,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Qs(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const ma=class{constructor(){this.worldTransform=new xi,this.localTransform=new xi,this.position=new Qs(this.onChange,this,0,0),this.scale=new Qs(this.onChange,this,1,1),this.pivot=new Qs(this.onChange,this,0,0),this.skew=new Qs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const r=n.worldTransform,o=this.worldTransform;o.a=e.a*r.a+e.b*r.c,o.b=e.a*r.b+e.b*r.d,o.c=e.c*r.a+e.d*r.c,o.d=e.c*r.b+e.d*r.d,o.tx=e.tx*r.a+e.ty*r.c+r.tx,o.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};let ks=ma;ks.IDENTITY=new ma;const Js=[{test:n=>"float"===n.type&&1===n.size&&!n.isArray,code:n=>`\n            if(uv["${n}"] !== ud["${n}"].value)\n            {\n                ud["${n}"].value = uv["${n}"]\n                gl.uniform1f(ud["${n}"].location, uv["${n}"])\n            }\n            `},{test:(n,e)=>!("sampler2D"!==n.type&&"samplerCube"!==n.type&&"sampler2DArray"!==n.type||1!==n.size||n.isArray||null!=e&&void 0===e.castToBaseTexture),code:n=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${n}"], t);\n\n            if(ud["${n}"].value !== t)\n            {\n                ud["${n}"].value = t;\n                gl.uniform1i(ud["${n}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(n,e)=>"mat3"===n.type&&1===n.size&&!n.isArray&&void 0!==e.a,code:n=>`\n            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));\n            `,codeUbo:n=>`\n                var ${n}_matrix = uv.${n}.toArray(true);\n\n                data[offset] = ${n}_matrix[0];\n                data[offset+1] = ${n}_matrix[1];\n                data[offset+2] = ${n}_matrix[2];\n        \n                data[offset + 4] = ${n}_matrix[3];\n                data[offset + 5] = ${n}_matrix[4];\n                data[offset + 6] = ${n}_matrix[5];\n        \n                data[offset + 8] = ${n}_matrix[6];\n                data[offset + 9] = ${n}_matrix[7];\n                data[offset + 10] = ${n}_matrix[8];\n            `},{test:(n,e)=>"vec2"===n.type&&1===n.size&&!n.isArray&&void 0!==e.x,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${n}"].location, v.x, v.y);\n                }`,codeUbo:n=>`\n                v = uv.${n};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:n=>"vec2"===n.type&&1===n.size&&!n.isArray,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);\n                }\n            `},{test:(n,e)=>"vec4"===n.type&&1===n.size&&!n.isArray&&void 0!==e.width,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:n=>`\n                    v = uv.${n};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:n=>"vec4"===n.type&&1===n.size&&!n.isArray,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])\n                }`}],Po={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Ga={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Jo={};let ea,_o=Jo;const ta={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ru(n){return ta[n]}let Va=null;const vi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function su(n,e){if(!Va){const r=Object.keys(vi);Va={};for(let o=0;o<r.length;++o){const l=r[o];Va[n[l]]=vi[l]}}return Va[e]}function Sh(n,e,r){if("precision"!==n.substring(0,9)){let o=e;return e===Tt.HIGH&&r!==Tt.HIGH&&(o=Tt.MEDIUM),`precision ${o} float;\n${n}`}return r!==Tt.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}let Of=0;const Fo={},ja=class{constructor(n,e,r="pixi-shader",o={}){this.extra={},this.id=Of++,this.vertexSrc=n||ja.defaultVertexSrc,this.fragmentSrc=e||ja.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=o,"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Fo[r]?(Fo[r]++,r+=`-${Fo[r]}`):Fo[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}\n${this.fragmentSrc}`,this.vertexSrc=Sh(this.vertexSrc,ja.defaultVertexPrecision,Tt.HIGH),this.fragmentSrc=Sh(this.fragmentSrc,ja.defaultFragmentPrecision,function _a(){if(!ea){ea=Tt.MEDIUM;const n=function Oo(){if(_o===Jo||_o?.isContextLost()){const n=te.ADAPTER.createCanvas();let e;te.PREFER_ENV>=D.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),_o=e}return _o}();n&&n.getShaderPrecisionFormat&&(ea=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?Tt.HIGH:Tt.MEDIUM)}return ea}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(n,e,r){const o=n+e;let l=qs[o];return l||(qs[o]=l=new ja(n,e,r)),l}};let xs=ja;xs.defaultVertexPrecision=Tt.HIGH,xs.defaultFragmentPrecision=Q.apple.device?Tt.HIGH:Tt.MEDIUM;let Ah=0;class Nr{constructor(e,r,o){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ah++,this.static=!!r,this.ubo=!!o,e instanceof Ft?(this.buffer=e,this.buffer.type=Ct.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=Ct.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,o){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new Nr(r,o)}static from(e,r,o){return new Nr(e,r,o)}static uboFrom(e,r){return new Nr(e,r??!0,!0)}}class eo{constructor(e,r){this.uniformBindCount=0,this.program=e,this.uniformGroup=r?r instanceof Nr?r:new Nr(r):new Nr({}),this.disposeRunner=new Sn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const o in r.uniforms){const l=r.uniforms[o];if(l.group&&this.checkUniformExists(e,l))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,o){const l=xs.from(e,r);return new eo(l,o)}}class Mh{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const o=new Int32Array(e);for(let u=0;u<e;u++)o[u]=u;this.defaultGroupCache[e]=Nr.from({uSamplers:o},!0);let l=this.fragTemplate;l=l.replace(/%count%/gi,`${e}`),l=l.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new xs(this.vertexSrc,l)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new xi,default:this.defaultGroupCache[e]};return new eo(this.programCache[e],r)}generateSampleSrc(e){let r="";r+="\n",r+="\n";for(let o=0;o<e;o++)o>0&&(r+="\nelse "),o<e-1&&(r+=`if(vTextureId < ${o}.5)`),r+="\n{",r+=`\n\tcolor = texture2D(uSamplers[${o}], vTextureCoord);`,r+="\n}";return r+="\n",r+="\n",r}}class Qi{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class za{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const Ts=class extends za{constructor(n){super(n),this.setShaderGenerator(),this.geometryClass=mi,this.vertexSize=6,this.state=Je.for2d(),this.size=4*Ts.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),n.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??function ya(n){let e=!0;const r=te.ADAPTER.getNavigator();if(Q.tablet||Q.phone){if(Q.apple.device){const o=r.userAgent.match(/OS (\d+)_(\d+)?/);o&&parseInt(o[1],10)<11&&(e=!1)}if(Q.android.device){const o=r.userAgent.match(/Android\s([0-9.]*)/);o&&parseInt(o[1],10)<7&&(e=!1)}}return e?n:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(n){this._defaultMaxTextures=n}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??function hl(){return!Q.apple.device}(),this._canUploadSameBuffer}static set canUploadSameBuffer(n){this._canUploadSameBuffer=n}get MAX_TEXTURES(){return an("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator({vertex:n=Ts.defaultVertexSrc,fragment:e=Ts.defaultFragmentTemplate}={}){this.shaderGenerator=new Mh(n,e)}contextChange(){const n=this.renderer.gl;te.PREFER_ENV===D.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),Ts.defaultMaxTextures),this.maxTextures=function Cn(n,e){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const o=Xn.replace(/%forloop%/gi,Hn(n));if(e.shaderSource(r,o),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;n=n/2|0}return n}(this.maxTextures,n)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:n,_textureArrayPool:e}=Ts,r=this.size/4,o=Math.floor(r/this.maxTextures)+1;for(;n.length<r;)n.push(new Ai);for(;e.length<o;)e.push(new Qi);for(let l=0;l<this.maxTextures;l++)this._tempBoundTextures[l]=null}onPrerender(){this._flushId=0}render(n){n._texture.valid&&(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)}buildTexturesAndDrawCalls(){const{_bufferedTextures:n,maxTextures:e}=this,r=Ts._textureArrayPool,o=this.renderer.batch,l=this._tempBoundTextures,u=this.renderer.textureGC.count;let d=++$t._globalBatch,y=0,T=r[0],O=0;o.copyBoundTextures(l,e);for(let B=0;B<this._bufferSize;++B){const H=n[B];n[B]=null,H._batchEnabled!==d&&(T.count>=e&&(o.boundArray(T,l,d,e),this.buildDrawCalls(T,O,B),O=B,T=r[++y],++d),H._batchEnabled=d,H.touched=u,T.elements[T.count++]=H)}T.count>0&&(o.boundArray(T,l,d,e),this.buildDrawCalls(T,O,this._bufferSize),++y,++d);for(let B=0;B<l.length;B++)l[B]=null;$t._globalBatch=d}buildDrawCalls(n,e,r){const{_bufferedElements:o,_attributeBuffer:l,_indexBuffer:u,vertexSize:d}=this,y=Ts._drawCallPool;let T=this._dcIndex,O=this._aIndex,B=this._iIndex,H=y[T];H.start=this._iIndex,H.texArray=n;for(let Y=e;Y<r;++Y){const oe=o[Y],Ge=Li[oe._texture.baseTexture.alphaMode?1:0][oe.blendMode];o[Y]=null,e<Y&&H.blend!==Ge&&(H.size=B-H.start,e=Y,H=y[++T],H.texArray=n,H.start=B),this.packInterleavedGeometry(oe,l,u,O,B),O+=oe.vertexData.length/2*d,B+=oe.indices.length,H.blend=Ge}e<r&&(H.size=B-H.start,++T),this._dcIndex=T,this._aIndex=O,this._iIndex=B}bindAndClearTexArray(n){const e=this.renderer.texture;for(let r=0;r<n.count;r++)e.bind(n.elements[r],n.ids[r]),n.elements[r]=null;n.count=0}updateGeometry(){const{_packedGeometries:n,_attributeBuffer:e,_indexBuffer:r}=this;Ts.canUploadSameBuffer?(n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(e.rawBinaryData),n[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const n=this._dcIndex,{gl:e,state:r}=this.renderer,o=Ts._drawCallPool;let l=null;for(let u=0;u<n;u++){const{texArray:d,type:y,size:T,start:O,blend:B}=o[u];l!==d&&(l=d,this.bindAndClearTexArray(d)),this.state.blendMode=B,r.set(this.state),e.drawElements(y,T,e.UNSIGNED_SHORT,2*O)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ts.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(n){const e=sr(Math.ceil(n/8)),r=$r(e),o=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let l=this._aBuffers[o];return l||(this._aBuffers[o]=l=new tn(o*this.vertexSize*4)),l}getIndexBuffer(n){const e=sr(Math.ceil(n/12)),r=$r(e),o=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let l=this._iBuffers[r];return l||(this._iBuffers[r]=l=new Uint16Array(o)),l}packInterleavedGeometry(n,e,r,o,l){const{uint32View:u,float32View:d}=e,y=o/this.vertexSize,T=n.uvs,O=n.indices,B=n.vertexData,H=n._texture.baseTexture._batchLocation,Y=Math.min(n.worldAlpha,1),oe=Y<1&&n._texture.baseTexture.alphaMode?wr(n._tintRGB,Y):n._tintRGB+(255*Y<<24);for(let me=0;me<B.length;me+=2)d[o++]=B[me],d[o++]=B[me+1],d[o++]=T[me],d[o++]=T[me+1],u[o++]=oe,d[o++]=H;for(let me=0;me<O.length;me++)r[l++]=y+O[me]}};let m=Ts;m.defaultBatchSize=4096,m.extension={name:"batch",type:re.RendererPlugin},m._drawCallPool=[],m._textureArrayPool=[],ht.add(m);const x=class extends eo{constructor(n,e,r){super(xs.from(n||x.defaultVertexSrc,e||x.defaultFragmentSrc),r),this.padding=0,this.resolution=x.defaultResolution,this.multisample=x.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Je}apply(n,e,r,o,l){n.applyFilter(this,e,r,o)}get blendMode(){return this.state.blendMode}set blendMode(n){this.state.blendMode=n}get resolution(){return this._resolution}set resolution(n){this._resolution=n}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};let P=x;P.defaultResolution=1,P.defaultMultisample=at.NONE;class j{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color="string"==typeof e.color?ei(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=ut(e),Ks(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}j.extension={type:[re.RendererSystem,re.CanvasRendererSystem],name:"background"},ht.add(j);class ${constructor(e){this.renderer=e,this.emptyRenderer=new za(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:o}=this.renderer.texture;for(let l=r-1;l>=0;--l)e[l]=o[l]||null,e[l]&&(e[l]._batchLocation=l)}boundArray(e,r,o,l){const{elements:u,ids:d,count:y}=e;let T=0;for(let O=0;O<y;O++){const B=u[O],H=B._batchLocation;if(H>=0&&H<l&&r[H]===B)d[O]=H;else for(;T<l;){const Y=r[T];if(!Y||Y._batchEnabled!==o||Y._batchLocation!==T){d[O]=T,B._batchLocation=T,r[T]=B;break}T++}}}destroy(){this.renderer=null}}$.extension={type:re.RendererSystem,name:"batch"},ht.add($);let ze=0;class mt{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ze++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,o=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:o,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ze++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;void 0!==r.addEventListener&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let o;if(te.PREFER_ENV>=D.WEBGL2&&(o=e.getContext("webgl2",r)),o)this.webGLVersion=2;else if(this.webGLVersion=1,o=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!o)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),o="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;o&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const l=o||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=l,l||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}mt.extension={type:re.RendererSystem,name:"context"},ht.add(mt);class ln extends Bn{upload(e,r,o){const l=e.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ot.UNPACK);const u=r.realWidth,d=r.realHeight;return o.width===u&&o.height===d?l.texSubImage2D(r.target,0,0,0,u,d,r.format,o.type,this.data):(o.width=u,o.height=d,l.texImage2D(r.target,0,o.internalFormat,u,d,0,r.format,o.type,this.data)),!0}}class Qt{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Sn("disposeFramebuffer"),this.multisample=at.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new $t(null,{scaleMode:Pe.NEAREST,resolution:1,mipmap:Ie.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new $t(new ln(null,{width:this.width,height:this.height}),{scaleMode:Pe.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ie.OFF,format:ee.DEPTH_COMPONENT,type:ue.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),e!==this.width||r!==this.height){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let o=0;o<this.colorTextures.length;o++){const l=this.colorTextures[o],u=l.resolution;l.setSize(e/u,r/u)}if(this.depthTexture){const o=this.depthTexture.resolution;this.depthTexture.setSize(e/o,r/o)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ci extends $t{constructor(e={}){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=at.NONE),super(null,e),this.mipmap=Ie.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Qt(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Mi extends Mn{constructor(e){super(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,o){void 0!==o||r.startsWith("data:")?!1!==o&&(e.crossOrigin="string"==typeof o?o:"anonymous"):e.crossOrigin=function J(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location,G||(G=document.createElement("a")),G.href=n;const r=_t.parse(G.href);return r.hostname!==e.hostname||(r.port||""!==e.port)&&r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}(r)}upload(e,r,o,l){const u=e.gl,d=r.realWidth,y=r.realHeight;if(l=l||this.source,typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement){if(!l.complete||0===l.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&l instanceof HTMLVideoElement&&l.readyState<=1&&0===l.buffered.length)return!1;return u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ot.UNPACK),this.noSubImage||r.target!==u.TEXTURE_2D||o.width!==d||o.height!==y?(o.width=d,o.height=y,u.texImage2D(r.target,0,o.internalFormat,r.format,o.type,l)):u.texSubImage2D(u.TEXTURE_2D,0,0,0,r.format,o.type,l),!0}update(){if(this.destroyed)return;const e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),super.update()}dispose(){this.source=null}}class to extends Mi{constructor(e,r){if(r=r||{},"string"==typeof e){const o=new Image;Mi.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((r,o)=>{const l=this.source;this.url=l.src;const u=()=>{this.destroyed||(l.onload=null,l.onerror=null,this.resize(l.width,l.height),this._load=null,r(this.createBitmap?this.process():this))};l.complete&&l.src?u():(l.onload=u,l.onerror=d=>{o(d),this.onError.emit(d)})})),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap;return this._process=fetch(e.src,{mode:e.crossOrigin&&"anonymous"!==e.crossOrigin?"no-cors":"cors"}).then(l=>l.blob()).then(l=>r(l,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===ot.UNPACK?"premultiply":"none"})).then(l=>this.destroyed?Promise.reject():(this.bitmap=l,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,o){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,o,this.bitmap),!this.preserveBitmap){let l=!0;const u=r._glTextures;for(const d in u){const y=u[d];if(y!==o&&y.dirtyId!==r.dirtyId){l=!1;break}}l&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class Bs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,o){const l=r.width,u=r.height;if(o){const d=e.width/2/l,y=e.height/2/u,T=e.x/l+d,O=e.y/u+y;o=Vi.add(o,Vi.NW),this.x0=T+d*Vi.uX(o),this.y0=O+y*Vi.uY(o),o=Vi.add(o,2),this.x1=T+d*Vi.uX(o),this.y1=O+y*Vi.uY(o),o=Vi.add(o,2),this.x2=T+d*Vi.uX(o),this.y2=O+y*Vi.uY(o),o=Vi.add(o,2),this.x3=T+d*Vi.uX(o),this.y3=O+y*Vi.uY(o)}else this.x0=e.x/l,this.y0=e.y/u,this.x1=(e.x+e.width)/l,this.y1=e.y/u,this.x2=(e.x+e.width)/l,this.y2=(e.y+e.height)/u,this.x3=e.x/l,this.y3=(e.y+e.height)/u;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const yo=new Bs;function Xr(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class hn extends ye{constructor(e,r,o,l,u,d){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new jn(0,0,1,1)),e instanceof hn&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=l,this.valid=!1,this._uvs=yo,this.uvMatrix=null,this.orig=o||r,this._rotate=Number(u||0),!0===u)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=d?new On(d.x,d.y):new On(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r?.url&&gr[r.url]&&hn.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,hn.removeFromCache(this),this.textureCacheIds=null}clone(){const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),o=new hn(this.baseTexture,!this.noFrame&&e,r,this.trim?.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(o._frame=e),o}updateUvs(){this._uvs===yo&&(this._uvs=new Bs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},o=te.STRICT_TEXTURE_CACHE){const l="string"==typeof e;let u=null;l?u=e:e instanceof $t?(e.cacheId||(e.cacheId=`${r?.pixiIdPrefix||"pixiid"}-${Wr()}`,$t.addToCache(e,e.cacheId)),u=e.cacheId):(e._pixiId||(e._pixiId=`${r?.pixiIdPrefix||"pixiid"}_${Wr()}`),u=e._pixiId);let d=gr[u];if(l&&o&&!d)throw new Error(`The cacheId "${u}" does not exist in TextureCache.`);return d||e instanceof $t?!d&&e instanceof $t&&(d=new hn(e),hn.addToCache(d,u)):(r.resolution||(r.resolution=De(e)),d=new hn(new $t(e,r)),d.baseTexture.cacheId=u,$t.addToCache(d.baseTexture,u),hn.addToCache(d,u)),d}static fromURL(e,r){const o=Object.assign({autoLoad:!1},r?.resourceOptions),l=hn.from(e,Object.assign({resourceOptions:o},r),!1),u=l.baseTexture.resource;return l.baseTexture.valid?Promise.resolve(l):u.load().then(()=>Promise.resolve(l))}static fromBuffer(e,r,o,l){return new hn($t.fromBuffer(e,r,o,l))}static fromLoader(e,r,o,l){const u=new $t(e,Object.assign({scaleMode:$t.defaultOptions.scaleMode,resolution:De(r)},l)),{resource:d}=u;d instanceof to&&(d.url=r);const y=new hn(u);return o||(o=r),$t.addToCache(y.baseTexture,o),hn.addToCache(y,o),o!==r&&($t.addToCache(y.baseTexture,r),hn.addToCache(y,r)),y.baseTexture.valid?Promise.resolve(y):new Promise(T=>{y.baseTexture.once("loaded",()=>T(y))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),gr[r]&&gr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),gr[r]=e)}static removeFromCache(e){if("string"==typeof e){const r=gr[e];if(r){const o=r.textureCacheIds.indexOf(e);return o>-1&&r.textureCacheIds.splice(o,1),delete gr[e],r}}else if(e?.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)gr[e.textureCacheIds[r]]===e&&delete gr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:o,width:l,height:u}=e,d=r+l>this.baseTexture.width,y=o+u>this.baseTexture.height;if(d||y)throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: X: ${r} + ${l} = ${r+l} > ${this.baseTexture.width} ${d&&y?"and":"or"} Y: ${o} + ${u} = ${o+u} > ${this.baseTexture.height}`);this.valid=l&&u&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return hn._EMPTY||(hn._EMPTY=new hn(new $t),Xr(hn._EMPTY),Xr(hn._EMPTY.baseTexture)),hn._EMPTY}static get WHITE(){if(!hn._WHITE){const e=te.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),hn._WHITE=new hn($t.from(e)),Xr(hn._WHITE),Xr(hn._WHITE.baseTexture)}return hn._WHITE}}class ns extends hn{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,o=!0){const l=this.baseTexture.resolution,u=Math.round(e*l)/l,d=Math.round(r*l)/l;this.valid=u>0&&d>0,this._frame.width=this.orig.width=u,this._frame.height=this.orig.height=d,o&&this.baseTexture.resize(u,d),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ns(new ci(e))}}let $a=(()=>{class n{constructor(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(r,o,l=at.NONE){const u=new ci(Object.assign({width:r,height:o,resolution:1,multisample:l},this.textureOptions));return new ns(u)}getOptimalTexture(r,o,l=1,u=at.NONE){let d;r=Math.ceil(r*l-1e-6),o=Math.ceil(o*l-1e-6),this.enableFullScreen&&r===this._pixelsWidth&&o===this._pixelsHeight?d=u>1?-u:-1:(d=((65535&(r=sr(r)))<<16|65535&(o=sr(o)))>>>0,u>1&&(d+=4294967296*u)),this.texturePool[d]||(this.texturePool[d]=[]);let y=this.texturePool[d].pop();return y||(y=this.createTexture(r,o,u)),y.filterPoolKey=d,y.setResolution(l),y}getFilterTexture(r,o,l){const u=this.getOptimalTexture(r.width,r.height,o||r.resolution,l||at.NONE);return u.filterFrame=r.filterFrame,u}returnTexture(r){const o=r.filterPoolKey;r.filterFrame=null,this.texturePool[o].push(r)}returnFilterTexture(r){this.returnTexture(r)}clear(r){if(r=!1!==r)for(const o in this.texturePool){const l=this.texturePool[o];if(l)for(let u=0;u<l.length;u++)l[u].destroy(!0)}this.texturePool={}}setScreenSize(r){if(r.width!==this._pixelsWidth||r.height!==this._pixelsHeight){this.enableFullScreen=r.width>0&&r.height>0;for(const o in this.texturePool){if(!(Number(o)<0))continue;const l=this.texturePool[o];if(l)for(let u=0;u<l.length;u++)l[u].destroy(!0);this.texturePool[o]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}}}return n.SCREEN_KEY=-1,n})();class dl extends Ki{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ou extends Ki{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ft(this.vertices),this.uvBuffer=new Ft(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let o=0,l=0;return this.uvs[0]=o,this.uvs[1]=l,this.uvs[2]=o+r.width/e.width,this.uvs[3]=l,this.uvs[4]=o+r.width/e.width,this.uvs[5]=l+r.height/e.height,this.uvs[6]=o,this.uvs[7]=l+r.height/e.height,o=r.x,l=r.y,this.vertices[0]=o,this.vertices[1]=l,this.vertices[2]=o+r.width,this.vertices[3]=l,this.vertices[4]=o+r.width,this.vertices[5]=l+r.height,this.vertices[6]=o,this.vertices[7]=l+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class fl{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=at.NONE,this.sourceFrame=new jn,this.destinationFrame=new jn,this.bindingSourceFrame=new jn,this.bindingDestinationFrame=new jn,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Jl=[new On,new On,new On,new On],ec=new xi;class Wa{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new $a,this.statePool=[],this.quad=new dl,this.quadUv=new ou,this.tempRect=new jn,this.activeState={},this.globalUniforms=new Nr({outputFrame:new jn,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const o=this.renderer,l=this.defaultFilterStack,u=this.statePool.pop()||new fl,d=this.renderer.renderTexture;let y=r[0].resolution,T=r[0].multisample,O=r[0].padding,B=r[0].autoFit,H=r[0].legacy??!0;for(let me=1;me<r.length;me++){const Ge=r[me];y=Math.min(y,Ge.resolution),T=Math.min(T,Ge.multisample),O=this.useMaxPadding?Math.max(O,Ge.padding):O+Ge.padding,B=B&&Ge.autoFit,H=H||(Ge.legacy??!0)}1===l.length&&(this.defaultFilterStack[0].renderTexture=d.current),l.push(u),u.resolution=y,u.multisample=T,u.legacy=H,u.target=e,u.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),u.sourceFrame.pad(O);const Y=this.tempRect.copyFrom(d.sourceFrame);o.projection.transform&&this.transformAABB(ec.copyFrom(o.projection.transform).invert(),Y),B?(u.sourceFrame.fit(Y),(u.sourceFrame.width<=0||u.sourceFrame.height<=0)&&(u.sourceFrame.width=0,u.sourceFrame.height=0)):u.sourceFrame.intersects(Y)||(u.sourceFrame.width=0,u.sourceFrame.height=0),this.roundFrame(u.sourceFrame,d.current?d.current.resolution:o.resolution,d.sourceFrame,d.destinationFrame,o.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,y,T),u.filters=r,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;const oe=this.tempRect;oe.x=0,oe.y=0,oe.width=u.sourceFrame.width,oe.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(d.sourceFrame),u.bindingDestinationFrame.copyFrom(d.destinationFrame),u.transform=o.projection.transform,o.projection.transform=null,d.bind(u.renderTexture,u.sourceFrame,oe),o.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),o=r.filters;this.activeState=r;const l=this.globalUniforms.uniforms;l.outputFrame=r.sourceFrame,l.resolution=r.resolution;const u=l.inputSize,d=l.inputPixel,y=l.inputClamp;if(u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=1/u[0],u[3]=1/u[1],d[0]=Math.round(u[0]*r.resolution),d[1]=Math.round(u[1]*r.resolution),d[2]=1/d[0],d[3]=1/d[1],y[0]=.5*d[2],y[1]=.5*d[3],y[2]=r.sourceFrame.width*u[2]-.5*d[2],y[3]=r.sourceFrame.height*u[3]-.5*d[3],r.legacy){const O=l.filterArea;O[0]=r.destinationFrame.width,O[1]=r.destinationFrame.height,O[2]=r.sourceFrame.x,O[3]=r.sourceFrame.y,l.filterClamp=l.inputClamp}this.globalUniforms.update();const T=e[e.length-1];if(this.renderer.framebuffer.blit(),1===o.length)o[0].apply(this,r.renderTexture,T.renderTexture,$e.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let O=r.renderTexture,B=this.getOptimalFilterTexture(O.width,O.height,r.resolution);B.filterFrame=O.filterFrame;let H=0;for(H=0;H<o.length-1;++H){1===H&&r.multisample>1&&(B=this.getOptimalFilterTexture(O.width,O.height,r.resolution),B.filterFrame=O.filterFrame),o[H].apply(this,O,B,$e.CLEAR,r);const Y=O;O=B,B=Y}o[H].apply(this,O,T.renderTexture,$e.BLEND,r),H>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(O),this.returnFilterTexture(B)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=$e.CLEAR){const{renderTexture:o,state:l}=this.renderer;if(this.renderer.projection.transform=e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,e?.filterFrame){const d=this.tempRect;d.x=0,d.y=0,d.width=e.filterFrame.width,d.height=e.filterFrame.height,o.bind(e,e.filterFrame,d)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?o.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(r===$e.CLEAR||r===$e.BLIT&&(1&l.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,o,l){const u=this.renderer;u.state.set(e.state),this.bindAndClear(o,l),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,u.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),u.geometry.bind(this.quadUv),u.geometry.draw(se.TRIANGLES)):(u.geometry.bind(this.quad),u.geometry.draw(se.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:o,destinationFrame:l}=this.activeState,{orig:u}=r._texture,d=e.set(l.width,0,0,l.height,o.x,o.y),y=r.worldTransform.copyTo(xi.TEMP_MATRIX);return y.invert(),d.prepend(y),d.scale(1/u.width,1/u.height),d.translate(r.anchor.x,r.anchor.y),d}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,o=1,l=at.NONE){return this.texturePool.getOptimalTexture(e,r,o,l)}getFilterTexture(e,r,o){if("number"==typeof e){const u=e;e=r,r=u}const l=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,r||e.resolution,o||at.NONE);return l.filterFrame=e.filterFrame,l}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const o=Jl[0],l=Jl[1],u=Jl[2],d=Jl[3];o.set(r.left,r.top),l.set(r.left,r.bottom),u.set(r.right,r.top),d.set(r.right,r.bottom),e.apply(o,o),e.apply(l,l),e.apply(u,u),e.apply(d,d);const y=Math.min(o.x,l.x,u.x,d.x),T=Math.min(o.y,l.y,u.y,d.y),O=Math.max(o.x,l.x,u.x,d.x),B=Math.max(o.y,l.y,u.y,d.y);r.x=y,r.y=T,r.width=O-y,r.height=B-T}roundFrame(e,r,o,l,u){if(!(e.width<=0||e.height<=0||o.width<=0||o.height<=0)){if(u){const{a:d,b:y,c:T,d:O}=u;if((Math.abs(y)>1e-4||Math.abs(T)>1e-4)&&(Math.abs(d)>1e-4||Math.abs(O)>1e-4))return}(u=u?ec.copyFrom(u):ec.identity()).translate(-o.x,-o.y).scale(l.width/o.width,l.height/o.height).translate(l.x,l.y),this.transformAABB(u,e),e.ceil(r),this.transformAABB(u.invert(),e)}}}Wa.extension={type:re.RendererSystem,name:"filter"},ht.add(Wa);class tc{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=at.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Ih=new jn;class Rh{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Qt(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new jn,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let r=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;te.PREFER_ENV===D.WEBGL_LEGACY&&(r=null,o=null),r?e.drawBuffers=l=>r.drawBuffersWEBGL(l):(this.hasMRT=!1,e.drawBuffers=()=>{}),o||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,o=0){const{gl:l}=this;if(e){const u=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,l.bindFramebuffer(l.FRAMEBUFFER,u.framebuffer)),u.mipLevel!==o&&(e.dirtyId++,e.dirtyFormat++,u.mipLevel=o),u.dirtyId!==e.dirtyId&&(u.dirtyId=e.dirtyId,u.dirtyFormat!==e.dirtyFormat?(u.dirtyFormat=e.dirtyFormat,u.dirtySize=e.dirtySize,this.updateFramebuffer(e,o)):u.dirtySize!==e.dirtySize&&(u.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let d=0;d<e.colorTextures.length;d++){const y=e.colorTextures[d];this.renderer.texture.unbind(y.parentTextureArray||y)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const d=r.width>>o,T=d/r.width;this.setViewport(r.x*T,r.y*T,d,r.height>>o)}else this.setViewport(0,0,e.width>>o,e.height>>o)}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,o,l){const u=this.viewport;e=Math.round(e),r=Math.round(r),o=Math.round(o),l=Math.round(l),(u.width!==o||u.height!==l||u.x!==e||u.y!==r)&&(u.x=e,u.y=r,u.width=o,u.height=l,this.gl.viewport(e,r,o,l))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,o,l,u=ce.COLOR|ce.DEPTH){const{gl:d}=this;d.clearColor(e,r,o,l),d.clear(u)}initFramebuffer(e){const{gl:r}=this,o=new tc(r.createFramebuffer());return o.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=o,this.managedFramebuffers.push(e),e.disposeRunner.add(this),o}resizeFramebuffer(e){const{gl:r}=this,o=e.glFramebuffers[this.CONTEXT_UID];o.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,o.stencil),o.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const l=e.colorTextures;let u=l.length;r.drawBuffers||(u=Math.min(u,1));for(let d=0;d<u;d++){const y=l[d],T=y.parentTextureArray||y;this.renderer.texture.bind(T,0),0===d&&o.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,o.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,o.multisample,T._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:o}=this,l=e.glFramebuffers[this.CONTEXT_UID],u=e.colorTextures;let d=u.length;o.drawBuffers||(d=Math.min(d,1)),l.multisample>1&&this.canMultisampleFramebuffer(e)?l.msaaBuffer=l.msaaBuffer||o.createRenderbuffer():l.msaaBuffer&&(o.deleteRenderbuffer(l.msaaBuffer),l.msaaBuffer=null,l.blitFramebuffer&&(l.blitFramebuffer.dispose(),l.blitFramebuffer=null));const y=[];for(let T=0;T<d;T++){const O=u[T],B=O.parentTextureArray||O;this.renderer.texture.bind(B,0),0===T&&l.msaaBuffer?(o.bindRenderbuffer(o.RENDERBUFFER,l.msaaBuffer),o.renderbufferStorageMultisample(o.RENDERBUFFER,l.multisample,B._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,l.msaaBuffer)):(o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+T,O.target,B._glTextures[this.CONTEXT_UID].texture,r),y.push(o.COLOR_ATTACHMENT0+T))}if(y.length>1&&o.drawBuffers(y),e.depthTexture&&this.writeDepthTexture){const O=e.depthTexture;this.renderer.texture.bind(O,0),o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,O._glTextures[this.CONTEXT_UID].texture,r)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?l.stencil&&(o.deleteRenderbuffer(l.stencil),l.stencil=null):(l.stencil=l.stencil||o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,l.stencil),l.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,l.multisample,o.DEPTH24_STENCIL8,e.width,e.height):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e.width,e.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,l.stencil))}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let o=at.NONE;if(e<=1||null===r)return o;for(let l=0;l<r.length;l++)if(r[l]<=e){o=r[l];break}return 1===o&&(o=at.NONE),o}blit(e,r,o){const{current:l,renderer:u,gl:d,CONTEXT_UID:y}=this;if(2!==u.context.webGLVersion||!l)return;const T=l.glFramebuffers[y];if(!T)return;if(!e){if(!T.msaaBuffer)return;const B=l.colorTextures[0];if(!B)return;T.blitFramebuffer||(T.blitFramebuffer=new Qt(l.width,l.height),T.blitFramebuffer.addColorTexture(0,B)),(e=T.blitFramebuffer).colorTextures[0]!==B&&(e.colorTextures[0]=B,e.dirtyId++,e.dirtyFormat++),(e.width!==l.width||e.height!==l.height)&&(e.width=l.width,e.height=l.height,e.dirtyId++,e.dirtySize++)}r||((r=Ih).width=l.width,r.height=l.height),o||(o=r);const O=r.width===o.width&&r.height===o.height;this.bind(e),d.bindFramebuffer(d.READ_FRAMEBUFFER,T.framebuffer),d.blitFramebuffer(r.left,r.top,r.right,r.bottom,o.left,o.top,o.right,o.bottom,d.COLOR_BUFFER_BIT,O?d.NEAREST:d.LINEAR)}disposeFramebuffer(e,r){const o=e.glFramebuffers[this.CONTEXT_UID],l=this.gl;if(!o)return;delete e.glFramebuffers[this.CONTEXT_UID];const u=this.managedFramebuffers.indexOf(e);u>=0&&this.managedFramebuffers.splice(u,1),e.disposeRunner.remove(this),r||(l.deleteFramebuffer(o.framebuffer),o.msaaBuffer&&l.deleteRenderbuffer(o.msaaBuffer),o.stencil&&l.deleteRenderbuffer(o.stencil)),o.blitFramebuffer&&o.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let o=0;o<r.length;o++)this.disposeFramebuffer(r[o],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const o=e.width,l=e.height,u=this.gl,d=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,d),r.msaaBuffer?u.renderbufferStorageMultisample(u.RENDERBUFFER,r.multisample,u.DEPTH24_STENCIL8,o,l):u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,o,l),r.stencil=d,u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,d)}reset(){this.current=this.unknownFramebuffer,this.viewport=new jn}destroy(){this.renderer=null}}Rh.extension={type:re.RendererSystem,name:"framebuffer"},ht.add(Rh);const au={5126:4,5123:2,5121:1};class va{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){let o=this.renderer.context.extensions.vertexArrayObject;te.PREFER_ENV===D.WEBGL_LEGACY&&(o=null),o?(e.createVertexArray=()=>o.createVertexArrayOES(),e.bindVertexArray=l=>o.bindVertexArrayOES(l),e.deleteVertexArray=l=>o.deleteVertexArrayOES(l)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==r.webGLVersion){const o=e.getExtension("ANGLE_instanced_arrays");o?(e.vertexAttribDivisor=(l,u)=>o.vertexAttribDivisorANGLE(l,u),e.drawElementsInstanced=(l,u,d,y,T)=>o.drawElementsInstancedANGLE(l,u,d,y,T),e.drawArraysInstanced=(l,u,d,y)=>o.drawArraysInstancedANGLE(l,u,d,y)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:o}=this;let l=e.glVertexArrayObjects[this.CONTEXT_UID],u=!1;l||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=l={},u=!0);const d=l[r.program.id]||this.initGeometryVao(e,r,u);this._activeGeometry=e,this._activeVao!==d&&(this._activeVao=d,this.hasVao?o.bindVertexArray(d):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let o=0;o<e.buffers.length;o++)r.update(e.buffers[o])}checkCompatibility(e,r){const o=e.attributes,l=r.attributeData;for(const u in l)if(!o[u])throw new Error(`shader and geometry incompatible, geometry missing the "${u}" attribute`)}getSignature(e,r){const o=e.attributes,l=r.attributeData,u=["g",e.id];for(const d in o)l[d]&&u.push(d,l[d].location);return u.join("-")}initGeometryVao(e,r,o=!0){const l=this.gl,u=this.CONTEXT_UID,d=this.renderer.buffer,y=r.program;y.glPrograms[u]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,y);const T=this.getSignature(e,y),O=e.glVertexArrayObjects[this.CONTEXT_UID];let B=O[T];if(B)return O[y.id]=B,B;const H=e.buffers,Y=e.attributes,oe={},me={};for(const Ge in H)oe[Ge]=0,me[Ge]=0;for(const Ge in Y)!Y[Ge].size&&y.attributeData[Ge]?Y[Ge].size=y.attributeData[Ge].size:Y[Ge].size||console.warn(`PIXI Geometry attribute '${Ge}' size cannot be determined (likely the bound shader does not have the attribute)`),oe[Y[Ge].buffer]+=Y[Ge].size*au[Y[Ge].type];for(const Ge in Y){const Qe=Y[Ge],st=Qe.size;void 0===Qe.stride&&(Qe.stride=oe[Qe.buffer]===st*au[Qe.type]?0:oe[Qe.buffer]),void 0===Qe.start&&(Qe.start=me[Qe.buffer],me[Qe.buffer]+=st*au[Qe.type])}B=l.createVertexArray(),l.bindVertexArray(B);for(let Ge=0;Ge<H.length;Ge++){const Qe=H[Ge];d.bind(Qe),o&&Qe._glBuffers[u].refCount++}return this.activateVao(e,y),O[y.id]=B,O[T]=B,l.bindVertexArray(null),d.unbind(Ct.ARRAY_BUFFER),B}disposeGeometry(e,r){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const o=e.glVertexArrayObjects[this.CONTEXT_UID],l=this.gl,u=e.buffers,d=this.renderer?.buffer;if(e.disposeRunner.remove(this),o){if(d)for(let y=0;y<u.length;y++){const T=u[y]._glBuffers[this.CONTEXT_UID];T&&(T.refCount--,0===T.refCount&&!r&&d.dispose(u[y],r))}if(!r)for(const y in o)if("g"===y[0]){const T=o[y];this._activeVao===T&&this.unbind(),l.deleteVertexArray(T)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let o=0;o<r.length;o++)this.disposeGeometry(this.managedGeometries[r[o]],e)}activateVao(e,r){const o=this.gl,l=this.CONTEXT_UID,u=this.renderer.buffer,d=e.buffers,y=e.attributes;e.indexBuffer&&u.bind(e.indexBuffer);let T=null;for(const O in y){const B=y[O],H=d[B.buffer],Y=H._glBuffers[l];if(r.attributeData[O]){T!==Y&&(u.bind(H),T=Y);const oe=r.attributeData[O].location;if(o.enableVertexAttribArray(oe),o.vertexAttribPointer(oe,B.size,B.type||o.FLOAT,B.normalized,B.stride,B.start),B.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");o.vertexAttribDivisor(oe,B.divisor)}}}}draw(e,r,o,l){const{gl:u}=this,d=this._activeGeometry;if(d.indexBuffer){const y=d.indexBuffer.data.BYTES_PER_ELEMENT,T=2===y?u.UNSIGNED_SHORT:u.UNSIGNED_INT;2===y||4===y&&this.canUseUInt32ElementIndex?d.instanced?u.drawElementsInstanced(e,r||d.indexBuffer.data.length,T,(o||0)*y,l||1):u.drawElements(e,r||d.indexBuffer.data.length,T,(o||0)*y):console.warn("unsupported index buffer type: uint32")}else d.instanced?u.drawArraysInstanced(e,o,r||d.getSize(),l||1):u.drawArrays(e,o,r||d.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}va.extension={type:re.RendererSystem,name:"geometry"},ht.add(va);const Ya=new xi;class lu{constructor(e,r){this._texture=e,this.mapCoord=new xi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){void 0===r&&(r=e);const o=this.mapCoord;for(let l=0;l<e.length;l+=2){const u=e[l],d=e[l+1];r[l]=u*o.a+d*o.c+o.tx,r[l+1]=u*o.b+d*o.d+o.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const o=r._uvs;this.mapCoord.set(o.x1-o.x0,o.y1-o.y0,o.x3-o.x0,o.y3-o.y0,o.x0,o.y0);const l=r.orig,u=r.trim;u&&(Ya.set(l.width/u.width,0,0,l.height/u.height,-u.x/u.width,-u.y/u.height),this.mapCoord.append(Ya));const d=r.baseTexture,y=this.uClampFrame,T=this.clampMargin/d.resolution,O=this.clampOffset;return y[0]=(r._frame.x+T+O)/d.width,y[1]=(r._frame.y+T+O)/d.height,y[2]=(r._frame.x+r._frame.width-T+O)/d.width,y[3]=(r._frame.y+r._frame.height-T+O)/d.height,this.uClampOffset[0]=O/d.realWidth,this.uClampOffset[1]=O/d.realHeight,this.isSimple=r._frame.width===d.width&&r._frame.height===d.height&&0===r.rotate,!0}}class Ff extends P{constructor(e,r,o){let l=null;"string"!=typeof e&&void 0===r&&void 0===o&&(l=e,e=void 0,r=void 0,o=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",o),this.maskSprite=l,this.maskMatrix=new xi}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,o,l){const u=this._maskSprite,d=u._texture;d.valid&&(d.uvMatrix||(d.uvMatrix=new lu(d,0)),d.uvMatrix.update(),this.uniforms.npmAlpha=d.baseTexture.alphaMode?0:1,this.uniforms.mask=d,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,u).prepend(d.uvMatrix.mapCoord),this.uniforms.alpha=u.worldAlpha,this.uniforms.maskClamp=d.uvMatrix.uClampFrame,e.applyFilter(this,r,o,l))}}class Kg{constructor(e=null){this.type=Ze.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=P.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ze.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Oh{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let o=r;if(!o.isMaskData){const u=this.maskDataPool.pop()||new Kg;u.pooled=!0,u.maskObject=r,o=u}const l=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(o.copyCountersOrReset(l),o._colorMask=l?l._colorMask:15,o.autoDetect&&this.detect(o),o._target=e,o.type!==Ze.SPRITE&&this.maskStack.push(o),o.enabled)switch(o.type){case Ze.SCISSOR:this.renderer.scissor.push(o);break;case Ze.STENCIL:this.renderer.stencil.push(o);break;case Ze.SPRITE:o.copyCountersOrReset(null),this.pushSpriteMask(o);break;case Ze.COLOR:this.pushColorMask(o)}o.type===Ze.SPRITE&&this.maskStack.push(o)}pop(e){const r=this.maskStack.pop();if(r&&r._target===e){if(r.enabled)switch(r.type){case Ze.SCISSOR:this.renderer.scissor.pop(r);break;case Ze.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ze.SPRITE:this.popSpriteMask(r);break;case Ze.COLOR:this.popColorMask(r)}if(r.reset(),r.pooled&&this.maskDataPool.push(r),0!==this.maskStack.length){const o=this.maskStack[this.maskStack.length-1];o.type===Ze.SPRITE&&o._filters&&(o._filters[0].maskSprite=o.maskObject)}}}detect(e){const r=e.maskObject;e.type=r?r.isSprite?Ze.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?Ze.SCISSOR:Ze.STENCIL:Ze.COLOR}pushSpriteMask(e){const{maskObject:r}=e,o=e._target;let l=e._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new Ff]));const u=this.renderer,d=u.renderTexture;let y,T;if(d.current){const B=d.current;y=e.resolution||B.resolution,T=e.multisample??B.multisample}else y=e.resolution||u.resolution,T=e.multisample??u.multisample;l[0].resolution=y,l[0].multisample=T,l[0].maskSprite=r;const O=o.filterArea;o.filterArea=r.getBounds(!0),u.filter.push(o,l),o.filterArea=O,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,o=e._colorMask=r&e.colorMask;o!==r&&this.renderer.gl.colorMask(0!=(1&o),0!=(2&o),0!=(4&o),0!=(8&o))}popColorMask(e){const o=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;o!==e._colorMask&&this.renderer.gl.colorMask(0!=(1&o),0!=(2&o),0!=(4&o),0!=(8&o))}destroy(){this.renderer=null}}Oh.extension={type:re.RendererSystem,name:"mask"},ht.add(Oh);class Fh{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,o=this.getStackLength();this.maskStack=e;const l=this.getStackLength();l!==o&&(0===l?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Lh=new xi,pl=[],gl=class extends Fh{constructor(n){super(n),this.glConst=te.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0}calcScissorRect(n){if(n._scissorRectLocal)return;const e=n._scissorRect,{maskObject:r}=n,{renderer:o}=this,l=o.renderTexture,u=r.getBounds(!0,pl.pop()??new jn);this.roundFrameToPixels(u,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),e&&u.fit(e),n._scissorRectLocal=u}static isMatrixRotated(n){if(!n)return!1;const{a:e,b:r,c:o,d:l}=n;return(Math.abs(r)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(l)>1e-4)}testScissor(n){const{maskObject:e}=n;if(!e.isFastRect||!e.isFastRect()||gl.isMatrixRotated(e.worldTransform)||gl.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);const r=n._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(n,e,r,o,l){gl.isMatrixRotated(l)||((l=l?Lh.copyFrom(l):Lh.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(l,n),n.fit(o),n.x=Math.round(n.x*e),n.y=Math.round(n.y*e),n.width=Math.round(n.width*e),n.height=Math.round(n.height*e))}push(n){n._scissorRectLocal||this.calcScissorRect(n);const{gl:e}=this.renderer;n._scissorRect||e.enable(e.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()}pop(n){const{gl:e}=this.renderer;n&&pl.push(n._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const n=this.maskStack[this.maskStack.length-1]._scissorRect;let e;e=this.renderer.renderTexture.current?n.y:this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,e,n.width,n.height)}};let Nh=gl;Nh.extension={type:re.RendererSystem,name:"scissor"},ht.add(Nh);class cu extends Fh{constructor(e){super(e),this.glConst=te.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:o}=this.renderer,l=e._stencilCounter;0===l&&(this.renderer.framebuffer.forceStencil(),o.clearStencil(0),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST)),e._stencilCounter++;const u=e._colorMask;0!==u&&(e._colorMask=0,o.colorMask(!1,!1,!1,!1)),o.stencilFunc(o.EQUAL,l,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,0!==u&&(e._colorMask=u,o.colorMask(0!=(1&u),0!=(2&u),0!=(4&u),0!=(8&u))),this._useCurrent()}pop(e){const r=this.renderer.gl;if(0===this.getStackLength())r.disable(r.STENCIL_TEST);else{const o=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,l=o?o._colorMask:15;0!==l&&(o._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==l&&(o._colorMask=l,r.colorMask(0!=(1&l),0!=(2&l),0!=(4&l),0!=(8&l))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}cu.extension={type:re.RendererSystem,name:"stencil"},ht.add(cu);class Lf{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(an("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(an("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(an("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Lf.extension={type:[re.RendererSystem,re.CanvasRendererSystem],name:"_plugin"},ht.add(Lf);class uu{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xi,this.transform=null}update(e,r,o,l){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,o,l),this.transform&&this.projectionMatrix.append(this.transform);const u=this.renderer;u.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,u.globalUniforms.update(),u.shader.shader&&u.shader.syncUniformGroup(u.shader.shader.uniforms.globals)}calculateProjection(e,r,o,l){const u=this.projectionMatrix,d=l?-1:1;u.identity(),u.a=1/r.width*2,u.d=d*(1/r.height*2),u.tx=-1-r.x*u.a,u.ty=-d-r.y*u.d}setTransform(e){}destroy(){this.renderer=null}}uu.extension={type:re.RendererSystem,name:"projection"},ht.add(uu);const Zg=new ks;class kh{constructor(e){this.renderer=e,this._tempMatrix=new xi}generateTexture(e,r){const{region:o,...l}=r||{},u=o||e.getLocalBounds(null,!0);0===u.width&&(u.width=1),0===u.height&&(u.height=1);const d=ns.create({width:u.width,height:u.height,...l});this._tempMatrix.tx=-u.x,this._tempMatrix.ty=-u.y;const y=e.transform;return e.transform=Zg,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=y,d}destroy(){}}kh.extension={type:[re.RendererSystem,re.CanvasRendererSystem],name:"textureGenerator"},ht.add(kh);const Ea=new jn,ba=new jn;class Nf{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new jn,this.destinationFrame=new jn,this.viewportFrame=new jn}bind(e=null,r,o){const l=this.renderer;let u,d,y;this.current=e,e?(u=e.baseTexture,y=u.resolution,r||(Ea.width=e.frame.width,Ea.height=e.frame.height,r=Ea),o||(ba.x=e.frame.x,ba.y=e.frame.y,ba.width=r.width,ba.height=r.height,o=ba),d=u.framebuffer):(y=l.resolution,r||(Ea.width=l._view.screen.width,Ea.height=l._view.screen.height,r=Ea),o||((o=Ea).width=r.width,o.height=r.height));const T=this.viewportFrame;T.x=o.x*y,T.y=o.y*y,T.width=o.width*y,T.height=o.height*y,e||(T.y=l.view.height-(T.y+T.height)),T.ceil(),this.renderer.framebuffer.bind(d,T),this.renderer.projection.update(o,r,y,!d),this.renderer.mask.setMaskStack(e?u.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(o)}clear(e,r){e=this.current?e||this.current.baseTexture.clearColor:e||this.renderer.background.colorRgba;const o=this.destinationFrame,l=this.current?this.current.baseTexture:this.renderer._view.screen,u=o.width!==l.width||o.height!==l.height;if(u){let{x:d,y,width:T,height:O}=this.viewportFrame;d=Math.round(d),y=Math.round(y),T=Math.round(T),O=Math.round(O),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(d,y,T,O)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Nf.extension={type:re.RendererSystem,name:"renderTexture"},ht.add(Nf);class hu{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function kf(n,e,r){const o=n.createShader(e);return n.shaderSource(o,r),n.compileShader(o),o}function Bh(n){const e=new Array(n);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Bf(n,e){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Bh(2*e);case"bvec3":return Bh(3*e);case"bvec4":return Bh(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Uh(n,e){const r=n.getShaderSource(e).split("\n").map((O,B)=>`${B}: ${O}`),o=n.getShaderInfoLog(e),l=o.split("\n"),u={},d=l.map(O=>parseFloat(O.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(O=>!(!O||u[O]||(u[O]=!0,0))),y=[""];d.forEach(O=>{r[O-1]=`%c${r[O-1]}%c`,y.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const T=r.join("\n");y[0]=T,console.error(o),console.groupCollapsed("click to view full shader code"),console.warn(...y),console.groupEnd()}function Gh(n,e,r,o,l){r.buffer.update(l)}const Vh={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},fu={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};let ml,pu=0;const nc={textureCount:0,uboCount:0};class zh{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=pu++}systemCheck(){if(!function jh(){if("boolean"==typeof ml)return ml;try{ml=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{ml=!1}return ml}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const o=e.program,l=o.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==o&&(this.program=o,this.gl.useProgram(l.program)),r||(nc.textureCount=0,nc.uboCount=0,this.syncUniformGroup(e.uniformGroup,nc)),l}setUniforms(e){const r=this.shader.program;r.syncUniforms(r.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)}syncUniformGroup(e,r){const o=this.getGlProgram();(!e.static||e.dirtyId!==o.uniformDirtyGroups[e.id])&&(o.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,o,r))}syncUniforms(e,r,o){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,o)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=function ul(n,e){const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const o in n.uniforms){const l=e[o];if(!l){n.uniforms[o]?.group&&r.push(n.uniforms[o].ubo?`\n                        renderer.shader.syncUniformBufferGroup(uv.${o}, '${o}');\n                    `:`\n                        renderer.shader.syncUniformGroup(uv.${o}, syncData);\n                    `);continue}const u=n.uniforms[o];let d=!1;for(let y=0;y<Js.length;y++)if(Js[y].test(l,u)){r.push(Js[y].code(o,u)),d=!0;break}if(!d){const T=(1!==l.size||l.isArray?Ga:Po)[l.type].replace("location",`ud["${o}"].location`);r.push(`\n            cu = ud["${o}"];\n            cv = cu.value;\n            v = uv["${o}"];\n            ${T};`)}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const o=this.getGlProgram();if(!e.static||0!==e.dirtyId||!o.uniformGroups[e.id]){e.dirtyId=0;const l=o.uniformGroups[e.id]||this.createSyncBufferGroup(e,o,r);e.buffer.update(),l(o.uniformData,e.uniforms,this.renderer,nc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,o.uniformBufferBindings[r])}createSyncBufferGroup(e,r,o){const{gl:l}=this.renderer;this.renderer.buffer.bind(e.buffer);const u=this.gl.getUniformBlockIndex(r.program,o);r.uniformBufferBindings[o]=this.shader.uniformBindCount,l.uniformBlockBinding(r.program,u,this.shader.uniformBindCount),this.shader.uniformBindCount++;const d=this.getSignature(e,this.shader.program.uniformData,"ubo");let y=this._uboCache[d];if(y||(y=this._uboCache[d]=function Hf(n,e){if(!n.autoManage)return{size:0,syncFunc:Gh};const r=function Uf(n,e){const r=[];for(const o in n)e[o]&&r.push(e[o]);return r.sort((o,l)=>o.index-l.index),r}(n.uniforms,e),{uboElements:o,size:l}=function vo(n){const e=n.map(u=>({data:u,offset:0,dataLen:0,dirty:0}));let r=0,o=0,l=0;for(let u=0;u<e.length;u++){const d=e[u];if(r=fu[d.data.type],d.data.size>1&&(r=Math.max(r,16)*d.data.size),d.dataLen=r,o%r!=0&&o<16){const y=o%r%16;o+=y,l+=y}o+r>16?(l=16*Math.ceil(l/16),d.offset=l,l+=r,o=r):(d.offset=l,o+=r,l+=r)}return l=16*Math.ceil(l/16),{uboElements:e,size:l}}(r),u=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let d=0;d<o.length;d++){const y=o[d],T=n.uniforms[y.data.name],O=y.data.name;let B=!1;for(let H=0;H<Js.length;H++){const Y=Js[H];if(Y.codeUbo&&Y.test(y.data,T)){u.push(`offset = ${y.offset/4};`,Js[H].codeUbo(y.data.name,T)),B=!0;break}}if(!B)if(y.data.size>1){const H=ru(y.data.type),Y=Math.max(fu[y.data.type]/16,1),oe=H/Y;u.push(`\n                cv = ud.${O}.value;\n                v = uv.${O};\n                offset = ${y.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${y.data.size*Y}; i++)\n                {\n                    for(var j = 0; j < ${oe}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${(4-oe%4)%4};\n                }\n\n                `)}else u.push(`\n                cv = ud.${O}.value;\n                v = uv.${O};\n                offset = ${y.offset/4};\n                ${Vh[y.data.type]};\n                `)}return u.push("\n       renderer.buffer.update(buffer);\n    "),{size:l,syncFunc:new Function("ud","uv","renderer","syncData","buffer",u.join("\n"))}}(e,this.shader.program.uniformData)),e.autoManage){const T=new Float32Array(y.size/4);e.buffer.update(T)}return r.uniformGroups[e.id]=y.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,o){const l=e.uniforms,u=[`${o}-`];for(const d in l)u.push(d),r[d]&&u.push(r[d].type);return u.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const o=e.program,l=function du(n,e){const r=kf(n,n.VERTEX_SHADER,e.vertexSrc),o=kf(n,n.FRAGMENT_SHADER,e.fragmentSrc),l=n.createProgram();n.attachShader(l,r),n.attachShader(l,o);const u=e.extra?.transformFeedbackVaryings;if(u&&("function"!=typeof n.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(l,u.names,"separate"===u.bufferMode?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(l),n.getProgramParameter(l,n.LINK_STATUS)||function Hh(n,e,r,o){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(r,n.COMPILE_STATUS)||Uh(n,r),n.getShaderParameter(o,n.COMPILE_STATUS)||Uh(n,o),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}(n,l,r,o),e.attributeData=function qg(n,e){const r={},o=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let l=0;l<o;l++){const u=e.getActiveAttrib(n,l);if(u.name.startsWith("gl_"))continue;const d=su(e,u.type),y={type:d,name:u.name,size:ru(d),location:e.getAttribLocation(n,u.name)};r[u.name]=y}return r}(l,n),e.uniformData=function Qg(n,e){const r={},o=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let l=0;l<o;l++){const u=e.getActiveUniform(n,l),d=u.name.replace(/\[.*?\]$/,""),y=!!u.name.match(/\[.*?\]$/),T=su(e,u.type);r[d]={name:d,index:l,type:T,size:u.size,isArray:y,value:Bf(T,u.size)}}return r}(l,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const T=Object.keys(e.attributeData);T.sort((O,B)=>O>B?1:-1);for(let O=0;O<T.length;O++)e.attributeData[T[O]].location=O,n.bindAttribLocation(l,O,T[O]);n.linkProgram(l)}n.deleteShader(r),n.deleteShader(o);const d={};for(const T in e.uniformData){const O=e.uniformData[T];d[T]={location:n.getUniformLocation(l,T),value:Bf(O.type,O.size)}}return new hu(l,d)}(this.gl,o);return o.glPrograms[this.renderer.CONTEXT_UID]=l,l}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}zh.extension={type:re.RendererSystem,name:"shader"},ht.add(zh);class $h{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.1.1 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}$h.extension={type:[re.RendererSystem,re.CanvasRendererSystem],name:"startup"},ht.add($h);const Sr=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=le.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Je,this.defaultState.blend=!0}contextChange(n){this.gl=n,this.blendModes=function Wh(n,e=[]){return e[le.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.ADD]=[n.ONE,n.ONE],e[le.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.NONE]=[0,0],e[le.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[le.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[le.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[le.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[le.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[le.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[le.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[le.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[le.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[le.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[le.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}(n),this.set(this.defaultState),this.reset()}set(n){if(this.stateId!==(n=n||this.defaultState).data){let e=this.stateId^n.data,r=0;for(;e;)1&e&&this.map[r].call(this,!!(n.data&1<<r)),e>>=1,r++;this.stateId=n.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,n)}forceState(n){n=n||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(n.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,n);this.stateId=n.data}setBlend(n){this.updateCheck(Sr.checkBlendMode,n),this.gl[n?"enable":"disable"](this.gl.BLEND)}setOffset(n){this.updateCheck(Sr.checkPolygonOffset,n),this.gl[n?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(n){this.gl[n?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(n){this.gl.depthMask(n)}setCullFace(n){this.gl[n?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(n){this.gl.frontFace(this.gl[n?"CW":"CCW"])}setBlendMode(n){if(n===this.blendMode)return;this.blendMode=n;const e=this.blendModes[n],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(n,e){this.gl.polygonOffset(n,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(n,e){const r=this.checks.indexOf(n);e&&-1===r?this.checks.push(n):!e&&-1!==r&&this.checks.splice(r,1)}static checkBlendMode(n,e){n.setBlendMode(e.blendMode)}static checkPolygonOffset(n,e){n.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Xa=Sr;Xa.extension={type:re.RendererSystem,name:"state"},ht.add(Xa);class Xh extends ye{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(l=>e.systems[l]),o=[...r,...Object.keys(e.systems).filter(l=>!r.includes(l))];for(const l of o)this.addSystem(e.systems[l],l)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Sn(r)})}addSystem(e,r){const o=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=o,this._systemsHash[r]=o;for(const l in this.runners)this.runners[l].add(o);return this}emitWithCustomOptions(e,r){const o=Object.keys(this._systemsHash);e.items.forEach(l=>{const u=o.find(d=>this._systemsHash[d]===l);l[e.name](r[u])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const _l=class{constructor(n){this.renderer=n,this.count=0,this.checkCount=0,this.maxIdle=_l.defaultMaxIdle,this.checkCountMax=_l.defaultCheckCountMax,this.mode=_l.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==pt.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const n=this.renderer.texture,e=n.managedTextures;let r=!1;for(let o=0;o<e.length;o++){const l=e[o];!l.framebuffer&&this.count-l.touched>this.maxIdle&&(n.destroyTexture(l,!0),e[o]=null,r=!0)}if(r){let o=0;for(let l=0;l<e.length;l++)null!==e[l]&&(e[o++]=e[l]);e.length=o}}unload(n){const r=n._texture;r&&!r.framebuffer&&this.renderer.texture.destroyTexture(r);for(let o=n.children.length-1;o>=0;o--)this.unload(n.children[o])}destroy(){this.renderer=null}};let no=_l;no.defaultMode=pt.AUTO,no.defaultMaxIdle=3600,no.defaultCheckCountMax=600,no.extension={type:re.RendererSystem,name:"textureGC"},ht.add(no);class ic{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ue.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}class _u{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new $t,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function jf(n){let e;return e="WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?{[ue.UNSIGNED_BYTE]:{[ee.RGBA]:n.RGBA8,[ee.RGB]:n.RGB8,[ee.RG]:n.RG8,[ee.RED]:n.R8,[ee.RGBA_INTEGER]:n.RGBA8UI,[ee.RGB_INTEGER]:n.RGB8UI,[ee.RG_INTEGER]:n.RG8UI,[ee.RED_INTEGER]:n.R8UI,[ee.ALPHA]:n.ALPHA,[ee.LUMINANCE]:n.LUMINANCE,[ee.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[ue.BYTE]:{[ee.RGBA]:n.RGBA8_SNORM,[ee.RGB]:n.RGB8_SNORM,[ee.RG]:n.RG8_SNORM,[ee.RED]:n.R8_SNORM,[ee.RGBA_INTEGER]:n.RGBA8I,[ee.RGB_INTEGER]:n.RGB8I,[ee.RG_INTEGER]:n.RG8I,[ee.RED_INTEGER]:n.R8I},[ue.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:n.RGBA16UI,[ee.RGB_INTEGER]:n.RGB16UI,[ee.RG_INTEGER]:n.RG16UI,[ee.RED_INTEGER]:n.R16UI,[ee.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[ue.SHORT]:{[ee.RGBA_INTEGER]:n.RGBA16I,[ee.RGB_INTEGER]:n.RGB16I,[ee.RG_INTEGER]:n.RG16I,[ee.RED_INTEGER]:n.R16I},[ue.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:n.RGBA32UI,[ee.RGB_INTEGER]:n.RGB32UI,[ee.RG_INTEGER]:n.RG32UI,[ee.RED_INTEGER]:n.R32UI,[ee.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[ue.INT]:{[ee.RGBA_INTEGER]:n.RGBA32I,[ee.RGB_INTEGER]:n.RGB32I,[ee.RG_INTEGER]:n.RG32I,[ee.RED_INTEGER]:n.R32I},[ue.FLOAT]:{[ee.RGBA]:n.RGBA32F,[ee.RGB]:n.RGB32F,[ee.RG]:n.RG32F,[ee.RED]:n.R32F,[ee.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[ue.HALF_FLOAT]:{[ee.RGBA]:n.RGBA16F,[ee.RGB]:n.RGB16F,[ee.RG]:n.RG16F,[ee.RED]:n.R16F},[ue.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:n.RGB565},[ue.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:n.RGBA4},[ue.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:n.RGB5_A1},[ue.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:n.RGB10_A2,[ee.RGBA_INTEGER]:n.RGB10_A2UI},[ue.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:n.R11F_G11F_B10F},[ue.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:n.RGB9_E5},[ue.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[ue.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:{[ue.UNSIGNED_BYTE]:{[ee.RGBA]:n.RGBA,[ee.RGB]:n.RGB,[ee.ALPHA]:n.ALPHA,[ee.LUMINANCE]:n.LUMINANCE,[ee.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[ue.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:n.RGB},[ue.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:n.RGBA},[ue.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:n.RGBA}},e}(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let l=0;l<r;l++)this.boundTextures[l]=null;this.emptyTextures={};const o=new ic(e.createTexture());e.bindTexture(e.TEXTURE_2D,o.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=o,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ic(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let l=0;l<this.boundTextures.length;l++)this.bind(null,l)}bind(e,r=0){const{gl:o}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const l=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(e.target,l.texture)),l.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),this.updateTexture(e)):l.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,o.activeTexture(o.TEXTURE0+r)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:o}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let l=0;l<o.length;l++)o[l]===this.unknownTexture&&this.bind(null,l)}for(let l=0;l<o.length;l++)o[l]===e&&(this.currentLocation!==l&&(r.activeTexture(r.TEXTURE0+l),this.currentLocation=l),r.bindTexture(e.target,this.emptyTextures[e.target].texture),o[l]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:o,CONTEXT_UID:l}=this;if(o)for(let u=e-1;u>=0;--u){const d=r[u];d&&d._glTextures[l].samplerType!==xe.FLOAT&&this.renderer.texture.unbind(d)}}initTexture(e){const r=new ic(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){r.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,r.type=2===this.webGLVersion&&e.type===ue.HALF_FLOAT?this.gl.HALF_FLOAT:e.type}updateTexture(e){const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const o=this.renderer;if(this.initTextureType(e,r),e.resource?.upload(o,e,r))r.samplerType!==xe.FLOAT&&(this.hasIntegerTextures=!0);else{const l=e.realWidth,u=e.realHeight,d=o.gl;(r.width!==l||r.height!==u||r.dirtyId<0)&&(r.width=l,r.height=u,d.texImage2D(e.target,0,r.internalFormat,l,u,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:o}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),o.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const l=this.managedTextures.indexOf(e);-1!==l&&Ui(this.managedTextures,l,1)}}updateTextureStyle(e){const r=e._glTextures[this.CONTEXT_UID];r&&(r.mipmap=!!(e.mipmap!==Ie.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,r.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:Re.CLAMP,e.resource?.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const o=this.gl;if(r.mipmap&&e.mipmap!==Ie.ON_MANUAL&&o.generateMipmap(e.target),o.texParameteri(e.target,o.TEXTURE_WRAP_S,r.wrapMode),o.texParameteri(e.target,o.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Pe.LINEAR?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&e.anisotropicLevel>0&&e.scaleMode===Pe.LINEAR){const u=Math.min(e.anisotropicLevel,o.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));o.texParameterf(e.target,l.TEXTURE_MAX_ANISOTROPY_EXT,u)}}else o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Pe.LINEAR?o.LINEAR:o.NEAREST);o.texParameteri(e.target,o.TEXTURE_MAG_FILTER,e.scaleMode===Pe.LINEAR?o.LINEAR:o.NEAREST)}destroy(){this.renderer=null}}_u.extension={type:re.RendererSystem,name:"texture"},ht.add(_u);class Kh{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:o}=this,l=e._glTransformFeedbacks[o]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,l)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:o,renderer:l}=this;r&&l.shader.bind(r),o.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:o,CONTEXT_UID:l}=this,u=r.createTransformFeedback();e._glTransformFeedbacks[l]=u,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,u);for(let d=0;d<e.buffers.length;d++){const y=e.buffers[d];y&&(o.buffer.update(y),y._glBuffers[l].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,d,y._glBuffers[l].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),u}disposeTransformFeedback(e,r){const o=e._glTransformFeedbacks[this.CONTEXT_UID],l=this.gl;e.disposeRunner.remove(this);const u=this.renderer.buffer;if(u)for(let d=0;d<e.buffers.length;d++){const y=e.buffers[d];if(!y)continue;const T=y._glBuffers[this.CONTEXT_UID];T&&(T.refCount--,0===T.refCount&&!r&&u.dispose(y,r))}o&&(r||l.deleteTransformFeedback(o),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Kh.extension={type:re.RendererSystem,name:"transformFeedback"},ht.add(Kh);class yu{constructor(e){this.renderer=e}init(e){this.screen=new jn(0,0,e.width,e.height),this.element=e.view||te.ADAPTER.createCanvas(),this.resolution=e.resolution||te.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const o=this.element.width/this.resolution,l=this.element.height/this.resolution;this.screen.width=o,this.screen.height=l,this.autoDensity&&(this.element.style.width=`${o}px`,this.element.style.height=`${l}px`),this.renderer.emit("resize",o,l),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}yu.extension={type:[re.RendererSystem,re.CanvasRendererSystem],name:"_view"},ht.add(yu),te.PREFER_ENV=D.WEBGL2,te.STRICT_TEXTURE_CACHE=!1,Object.defineProperties(te,{WRAP_MODE:{get:()=>$t.defaultOptions.wrapMode,set(n){an("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),$t.defaultOptions.wrapMode=n}},SCALE_MODE:{get:()=>$t.defaultOptions.scaleMode,set(n){an("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),$t.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get:()=>$t.defaultOptions.mipmap,set(n){an("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),$t.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get:()=>$t.defaultOptions.anisotropicLevel,set(n){an("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),$t.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get:()=>(an("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),P.defaultResolution),set(n){P.defaultResolution=n}},FILTER_MULTISAMPLE:{get:()=>(an("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),P.defaultMultisample),set(n){P.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get:()=>m.defaultMaxTextures,set(n){an("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),m.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get:()=>m.defaultBatchSize,set(n){an("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),m.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get:()=>m.canUploadSameBuffer,set(n){an("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),m.canUploadSameBuffer=n}},GC_MODE:{get:()=>no.defaultMode,set(n){an("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),no.defaultMode=n}},GC_MAX_IDLE:{get:()=>no.defaultMaxIdle,set(n){an("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),no.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get:()=>no.defaultCheckCountMax,set(n){an("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),no.defaultCheckCountMax=n}},PRECISION_VERTEX:{get:()=>xs.defaultVertexPrecision,set(n){an("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),xs.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get:()=>xs.defaultFragmentPrecision,set(n){an("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),xs.defaultFragmentPrecision=n}}});var wa=(n=>(n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(wa||{});class vu{constructor(e,r=null,o=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=o,this.once=l}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const is=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new vu(null,null,1/0),this.deltaMS=1/is.targetFPMS,this.elapsedMS=1/is.targetFPMS,this._tick=n=>{this._requestId=null,this.started&&(this.update(n),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(n,e,r=wa.NORMAL){return this._addListener(new vu(n,e,r))}addOnce(n,e,r=wa.NORMAL){return this._addListener(new vu(n,e,r,!0))}_addListener(n){let e=this._head.next,r=this._head;if(e){for(;e;){if(n.priority>e.priority){n.connect(r);break}r=e,e=e.next}n.previous||n.connect(r)}else n.connect(r);return this._startIfPossible(),this}remove(n,e){let r=this._head.next;for(;r;)r=r.match(n,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let n=0,e=this._head;for(;e=e.next;)n++;return n}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let n=this._head.next;for(;n;)n=n.destroy(!0);this._head.destroy(),this._head=null}}update(n=performance.now()){let e;if(n>this.lastTime){if(e=this.elapsedMS=n-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const l=n-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=n-l%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*is.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(n){const e=Math.min(this.maxFPS,n),r=Math.min(Math.max(0,e)/1e3,is.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(n){if(0===n)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,n);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!is._shared){const n=is._shared=new is;n.autoStart=!0,n._protected=!0}return is._shared}static get system(){if(!is._system){const n=is._system=new is;n.autoStart=!0,n._protected=!0}return is._system}};let ar=is;ar.targetFPMS=.06,Object.defineProperties(te,{TARGET_FPMS:{get:()=>ar.targetFPMS,set(n){an("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ar.targetFPMS=n}}});class Zh{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,wa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ar.shared:new ar,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Zh.extension=re.Application,ht.add(Zh);const Ka=[];ht.handleByList(re.Renderer,Ka);const wu="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class Da{constructor(e){this.renderer=e}contextChange(e){let r;if(1===this.renderer.context.webGLVersion){const o=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,o)}else{const o=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,o)}this.multisample=r>=at.HIGH?at.HIGH:r>=at.MEDIUM?at.MEDIUM:r>=at.LOW?at.LOW:at.NONE}destroy(){}}Da.extension={type:re.RendererSystem,name:"_multisample"},ht.add(Da);class Du{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Cu{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:o}=this,l=e._glBuffers[o]||this.createGLBuffer(e);r.bindBuffer(e.type,l.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:o,CONTEXT_UID:l}=this;if(this.boundBufferBases[r]!==e){const u=e._glBuffers[l]||this.createGLBuffer(e);this.boundBufferBases[r]=e,o.bindBufferBase(o.UNIFORM_BUFFER,r,u.buffer)}}bindBufferRange(e,r,o){const{gl:l,CONTEXT_UID:u}=this;o=o||0;const d=e._glBuffers[u]||this.createGLBuffer(e);l.bindBufferRange(l.UNIFORM_BUFFER,r||0,d.buffer,256*o,256)}update(e){const{gl:r,CONTEXT_UID:o}=this,l=e._glBuffers[o]||this.createGLBuffer(e);if(e._updateID!==l.updateID)if(l.updateID=e._updateID,r.bindBuffer(e.type,l.buffer),l.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const u=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;l.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,u)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const o=e._glBuffers[this.CONTEXT_UID],l=this.gl;e.disposeRunner.remove(this),o&&(r||l.deleteBuffer(o.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let o=0;o<r.length;o++)this.dispose(this.managedBuffers[r[o]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:o}=this;return e._glBuffers[r]=new Du(o.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Cu.extension={type:re.RendererSystem,name:"buffer"},ht.add(Cu);class qh{constructor(e){this.renderer=e}render(e,r){const o=this.renderer;let l,u,d,y;if(r&&(l=r.renderTexture,u=r.clear,d=r.transform,y=r.skipUpdateTransform),this.renderingToScreen=!l,o.runners.prerender.emit(),o.emit("prerender"),o.projection.transform=d,!o.context.isLost){if(l||(this.lastObjectRendered=e),!y){const T=e.enableTempParent();e.updateTransform(),e.disableTempParent(T)}o.renderTexture.bind(l),o.batch.currentRenderer.start(),(u??o.background.clearBeforeRender)&&o.renderTexture.clear(),e.render(o),o.batch.currentRenderer.flush(),l&&(r.blit&&o.framebuffer.blit(),l.baseTexture.update()),o.runners.postrender.emit(),o.projection.transform=null,o.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}qh.extension={type:re.RendererSystem,name:"objectRenderer"},ht.add(qh);const yl=class extends Xh{constructor(n){super(),n=Object.assign({},te.RENDER_OPTIONS,n),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Nr({projectionMatrix:new xi},!0),this.setup({runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:yl.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]}),"useContextAlpha"in n&&(an("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),n.premultipliedAlpha=n.useContextAlpha&&"notMultiplied"!==n.useContextAlpha,n.backgroundAlpha=!1===n.useContextAlpha?1:n.backgroundAlpha),this.startup.run({hello:n.hello,_plugin:yl.__plugins,background:{alpha:n.backgroundAlpha,color:n.background??n.backgroundColor,clearBeforeRender:n.clearBeforeRender},_view:{height:n.height,width:n.width,autoDensity:n.autoDensity,resolution:n.resolution,view:n.view},context:{antialias:n.antialias,context:n.context,powerPreference:n.powerPreference,premultipliedAlpha:n.premultipliedAlpha,preserveDrawingBuffer:n.preserveDrawingBuffer}}),this.options=n}static test(n){return!n?.forceCanvas&&function $i(){return typeof Xt>"u"&&(Xt=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!te.ADAPTER.getWebGLRenderingContext())return!1;const r=te.ADAPTER.createCanvas();let o=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const l=!!o?.getContextAttributes()?.stencil;if(o){const u=o.getExtension("WEBGL_lose_context");u&&u.loseContext()}return o=null,l}catch{return!1}}()),Xt}()}render(n,e){this.objectRenderer.render(n,e)}resize(n,e){this._view.resizeView(n,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(n=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:n}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(n){this._view.resolution=n,this.runners.resolutionChange.emit(n)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return an("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return an("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return an("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return an("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(n){an("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=n}get backgroundAlpha(){return an("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(n){an("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=n}get powerPreference(){return an("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(n,e){return this.textureGenerator.generateTexture(n,e)}};let Za=yl;Za.extension={type:re.Renderer,priority:1},Za.__plugins={},Za.__systems={},ht.handleByMap(re.RendererPlugin,Za.__plugins),ht.handleByMap(re.RendererSystem,Za.__systems),ht.add(Za);class Qh extends Mn{constructor(e,r){const{width:o,height:l}=r||{};super(o,l),this.items=[],this.itemDirtyIds=[];for(let u=0;u<e;u++){const d=new $t;this.items.push(d),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let o=0;o<this.length;o++)e[o]&&(e[o].castToBaseTexture?this.addBaseTextureAt(e[o].castToBaseTexture(),o):this.addResourceAt(e[o]instanceof Mn?e[o]:Vt(e[o],r),o))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(o=>o.resource).filter(o=>o).map(o=>o.load());return this._load=Promise.all(r).then(()=>{const{realWidth:o,realHeight:l}=this.items[0];return this.resize(o,l),Promise.resolve(this)}),this._load}}const vl=class extends Qh{constructor(n,e){const{width:r,height:o,autoLoad:l,linkBaseTexture:u}=e||{};if(n&&n.length!==vl.SIDES)throw new Error(`Invalid length. Got ${n.length}, expected 6`);super(6,{width:r,height:o});for(let d=0;d<vl.SIDES;d++)this.items[d].target=ve.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=!1!==u,n&&this.initFromArray(n,e),!1!==l&&this.load()}bind(n){super.bind(n),n.target=ve.TEXTURE_CUBE_MAP}addBaseTextureAt(n,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0){if(!n.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(n.resource,e)}else n.target=ve.TEXTURE_CUBE_MAP_POSITIVE_X+e,n.parentTextureArray=this.baseTexture,this.items[e]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[e]=n,this}upload(n,e,r){const o=this.itemDirtyIds;for(let l=0;l<vl.SIDES;l++){const u=this.items[l];(o[l]<u.dirtyId||r.dirtyId<e.dirtyId)&&(u.valid&&u.resource?(u.resource.upload(n,u,r),o[l]=u.dirtyId):o[l]<-1&&(n.gl.texImage2D(u.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),o[l]=-1))}return!0}static test(n){return Array.isArray(n)&&n.length===vl.SIDES}};let Jh=vl;Jh.SIDES=6;var Nn=F(5861);class na extends Mi{constructor(e,r){let o,l;r=r||{},"string"==typeof e?(o=na.EMPTY,l=e):(o=e,l=null),super(o),this.url=l,this.crossOrigin=r.crossOrigin??!0,this.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,this._load=null,!1!==r.autoLoad&&this.load()}load(){var e=this;return this._load||(this._load=new Promise(function(){var r=(0,Nn.Z)(function*(o,l){if(null!==e.url)try{const u=yield te.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});if(e.destroyed)return;const d=yield u.blob();if(e.destroyed)return;const y=yield createImageBitmap(d,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===ot.UNPACK?"premultiply":"none"});if(e.destroyed)return;e.source=y,e.update(),o(e)}catch(u){if(e.destroyed)return;l(u),e.onError.emit(u)}else o(e)});return function(o,l){return r.apply(this,arguments)}}())),this._load}upload(e,r,o){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),super.upload(e,r,o)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return na._EMPTY=na._EMPTY??te.ADAPTER.createCanvas(0,0),na._EMPTY}}const El=class extends Mi{constructor(n,e){e=e||{},super(te.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=n,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(n=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),n(this)},El.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})),this._load}_loadSvg(){const n=new Image;Mi.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=e=>{this._resolve&&(n.onerror=null,this.onError.emit(e))},n.onload=()=>{if(!this._resolve)return;const e=n.width,r=n.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let o=e*this.scale,l=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(o=this._overrideWidth||this._overrideHeight/r*e,l=this._overrideHeight||this._overrideWidth/e*r),o=Math.round(o),l=Math.round(l);const u=this.source;u.width=o,u.height=l,u._pixiId=`canvas_${Wr()}`,u.getContext("2d").drawImage(n,0,0,e,r,0,0,o,l),this._resolve(),this._resolve=null}}static getSize(n){const e=El.SVG_SIZE.exec(n),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(n,e){return"svg"===e||"string"==typeof n&&n.startsWith("data:image/svg+xml")||"string"==typeof n&&El.SVG_XML.test(n)}};let Ca=El;Ca.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Ca.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const xu=class extends Mi{constructor(n,e){if(e=e||{},!(n instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]),Mi.crossOrigin(r,n[0].src||n[0],e.crossorigin);for(let l=0;l<n.length;++l){const u=document.createElement("source");let{src:d,mime:y}=n[l];d=d||n[l];const T=d.split("?").shift().toLowerCase(),O=T.slice(T.lastIndexOf(".")+1);y=y||xu.MIME_TYPES[O]||`video/${O}`,u.src=d,u.type=y,r.appendChild(u)}n=r}super(n),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==e.autoLoad&&this.load()}update(n=0){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-ar.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))}load(){if(this._load)return this._load;const n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,n.load())}),this._load}_onError(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)}_isSourcePlaying(){const n=this.source;return!n.paused&&!n.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ar.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ar.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(n.videoWidth,n.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()}dispose(){this._isConnectedToTicker&&(ar.shared.remove(this.update,this),this._isConnectedToTicker=!1);const n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(ar.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ar.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(n){n!==this._updateFPS&&(this._updateFPS=n)}static test(n,e){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||xu.TYPES.includes(e)}};let Tu=xu;Tu.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Tu.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},lt.push(na,to,class Yf extends Mi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return!!(r&&e instanceof r)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}},Tu,Ca,Bn,Jh,class Wf extends Qh{constructor(e,r){const{width:o,height:l}=r||{};let u,d;Array.isArray(e)?(u=e,d=e.length):d=e,super(d,{width:o,height:l}),u&&this.initFromArray(u,r)}addBaseTextureAt(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this}bind(e){super.bind(e),e.target=ve.TEXTURE_2D_ARRAY}upload(e,r,o){const{length:l,itemDirtyIds:u,items:d}=this,{gl:y}=e;o.dirtyId<0&&y.texImage3D(y.TEXTURE_2D_ARRAY,0,o.internalFormat,this._width,this._height,l,0,r.format,o.type,null);for(let T=0;T<l;T++){const O=d[T];u[T]<O.dirtyId&&(u[T]=O.dirtyId,O.valid&&y.texSubImage3D(y.TEXTURE_2D_ARRAY,0,0,0,T,O.resource.width,O.resource.height,1,r.format,o.type,O.resource.source))}return!0}});class Eo{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?jn.EMPTY:((e=e||new jn(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:o,b:l,c:u,d,tx:y,ty:T}=e,O=o*r.x+u*r.y+y,B=l*r.x+d*r.y+T;this.minX=Math.min(this.minX,O),this.maxX=Math.max(this.maxX,O),this.minY=Math.min(this.minY,B),this.maxY=Math.max(this.maxY,B)}addQuad(e){let r=this.minX,o=this.minY,l=this.maxX,u=this.maxY,d=e[0],y=e[1];r=d<r?d:r,o=y<o?y:o,l=d>l?d:l,u=y>u?y:u,d=e[2],y=e[3],r=d<r?d:r,o=y<o?y:o,l=d>l?d:l,u=y>u?y:u,d=e[4],y=e[5],r=d<r?d:r,o=y<o?y:o,l=d>l?d:l,u=y>u?y:u,d=e[6],y=e[7],r=d<r?d:r,o=y<o?y:o,l=d>l?d:l,u=y>u?y:u,this.minX=r,this.minY=o,this.maxX=l,this.maxY=u}addFrame(e,r,o,l,u){this.addFrameMatrix(e.worldTransform,r,o,l,u)}addFrameMatrix(e,r,o,l,u){const d=e.a,y=e.b,T=e.c,O=e.d,B=e.tx,H=e.ty;let Y=this.minX,oe=this.minY,me=this.maxX,Ge=this.maxY,Qe=d*r+T*o+B,st=y*r+O*o+H;Y=Qe<Y?Qe:Y,oe=st<oe?st:oe,me=Qe>me?Qe:me,Ge=st>Ge?st:Ge,Qe=d*l+T*o+B,st=y*l+O*o+H,Y=Qe<Y?Qe:Y,oe=st<oe?st:oe,me=Qe>me?Qe:me,Ge=st>Ge?st:Ge,Qe=d*r+T*u+B,st=y*r+O*u+H,Y=Qe<Y?Qe:Y,oe=st<oe?st:oe,me=Qe>me?Qe:me,Ge=st>Ge?st:Ge,Qe=d*l+T*u+B,st=y*l+O*u+H,Y=Qe<Y?Qe:Y,oe=st<oe?st:oe,me=Qe>me?Qe:me,Ge=st>Ge?st:Ge,this.minX=Y,this.minY=oe,this.maxX=me,this.maxY=Ge}addVertexData(e,r,o){let l=this.minX,u=this.minY,d=this.maxX,y=this.maxY;for(let T=r;T<o;T+=2){const O=e[T],B=e[T+1];l=O<l?O:l,u=B<u?B:u,d=O>d?O:d,y=B>y?B:y}this.minX=l,this.minY=u,this.maxX=d,this.maxY=y}addVertices(e,r,o,l){this.addVerticesMatrix(e.worldTransform,r,o,l)}addVerticesMatrix(e,r,o,l,u=0,d=u){const y=e.a,T=e.b,O=e.c,B=e.d,H=e.tx,Y=e.ty;let oe=this.minX,me=this.minY,Ge=this.maxX,Qe=this.maxY;for(let st=o;st<l;st+=2){const It=r[st],it=r[st+1],Dt=y*It+O*it+H,wn=B*it+T*It+Y;oe=Math.min(oe,Dt-u),Ge=Math.max(Ge,Dt+u),me=Math.min(me,wn-d),Qe=Math.max(Qe,wn+d)}this.minX=oe,this.minY=me,this.maxX=Ge,this.maxY=Qe}addBounds(e){const r=this.minX,o=this.minY,l=this.maxX,u=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<o?e.minY:o,this.maxX=e.maxX>l?e.maxX:l,this.maxY=e.maxY>u?e.maxY:u}addBoundsMask(e,r){const o=e.minX>r.minX?e.minX:r.minX,l=e.minY>r.minY?e.minY:r.minY,u=e.maxX<r.maxX?e.maxX:r.maxX,d=e.maxY<r.maxY?e.maxY:r.maxY;if(o<=u&&l<=d){const y=this.minX,T=this.minY,O=this.maxX,B=this.maxY;this.minX=o<y?o:y,this.minY=l<T?l:T,this.maxX=u>O?u:O,this.maxY=d>B?d:B}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const o=e.minX>r.x?e.minX:r.x,l=e.minY>r.y?e.minY:r.y,u=e.maxX<r.x+r.width?e.maxX:r.x+r.width,d=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(o<=u&&l<=d){const y=this.minX,T=this.minY,O=this.maxX,B=this.maxY;this.minX=o<y?o:y,this.minY=l<T?l:T,this.maxX=u>O?u:O,this.maxY=d>B?d:B}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,o,l,u,d){r-=d,o+=u,l+=d,this.minX=this.minX<(e-=u)?this.minX:e,this.maxX=this.maxX>o?this.maxX:o,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>l?this.maxY:l}}class ji extends ye{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new ks,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Eo,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let o=0;o<r.length;++o){const l=r[o];Object.defineProperty(ji.prototype,l,Object.getOwnPropertyDescriptor(e,l))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new jn),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new jn),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Eo);const r=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const l=this._bounds,u=this._boundsID;this._bounds=this._localBounds;const d=this.getBounds(!1,e);return this.parent=o,this.transform=r,this._bounds=l,this._bounds.updateID+=this._boundsID-u,d}toGlobal(e,r,o=!1){return o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,o,l){return r&&(e=r.toGlobal(e,o,l)),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,o)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,r=0,o=1,l=1,u=0,d=0,y=0,T=0,O=0){return this.position.x=e,this.position.y=r,this.scale.x=o||1,this.scale.y=l||1,this.rotation=u,this.skew.x=d,this.skew.y=y,this.pivot.x=T,this.pivot.y=O,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new ed),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*ql}set angle(e){this.transform.rotation=e*or}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,0===r._maskRefCount&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(0===r._maskRefCount&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class ed extends ji{constructor(){super(...arguments),this.sortDirty=null}}ji.prototype.displayObjectUpdateTransform=ji.prototype.updateTransform;const Zf=new xi;function Jg(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const qa=class extends ji{constructor(){super(),this.children=[],this.sortableChildren=qa.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(n){}addChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.addChild(n[e]);else{const e=n[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return n[0]}addChildAt(n,e){if(e<0||e>this.children.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(e,0,n),this._boundsID++,this.onChildrenChange(e),n.emit("added",this),this.emit("childAdded",n,this,e),n}swapChildren(n,e){if(n===e)return;const r=this.getChildIndex(n),o=this.getChildIndex(e);this.children[r]=e,this.children[o]=n,this.onChildrenChange(r<o?r:o)}getChildIndex(n){const e=this.children.indexOf(n);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(n);Ui(this.children,r,1),this.children.splice(e,0,n),this.onChildrenChange(e)}getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]}removeChild(...n){if(n.length>1)for(let e=0;e<n.length;e++)this.removeChild(n[e]);else{const e=n[0],r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,Ui(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return n[0]}removeChildAt(n){const e=this.getChildAt(n);return e.parent=null,e.transform._parentID=-1,Ui(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n),e}removeChildren(n=0,e=this.children.length){const l=e-n;let u;if(l>0&&l<=e){u=this.children.splice(n,l);for(let d=0;d<u.length;++d)u[d].parent=null,u[d].transform&&(u[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(let d=0;d<u.length;++d)u[d].emit("removed",this),this.emit("childRemoved",u[d],this,d);return u}if(0===l&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let n=!1;for(let e=0,r=this.children.length;e<r;++e){const o=this.children[e];o._lastSortedIndex=e,!n&&0!==o.zIndex&&(n=!0)}n&&this.children.length>1&&this.children.sort(Jg),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let n=0,e=this.children.length;n<e;++n){const r=this.children[n];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let n=0;n<this.children.length;n++){const e=this.children[n];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(n,e=!1){const r=super.getLocalBounds(n);if(!e)for(let o=0,l=this.children.length;o<l;++o){const u=this.children[o];u.visible&&u.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(n){const e=n.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,o;this.cullArea?(r=this.cullArea,o=this.worldTransform):this._render!==qa.prototype._render&&(r=this.getBounds(!0));const l=n.projection.transform;if(l&&(o?(o=Zf.copyFrom(o),o.prepend(l)):o=l),r&&e.intersects(r,o))this._render(n);else if(this.cullArea)return;for(let u=0,d=this.children.length;u<d;++u){const y=this.children[u],T=y.cullable;y.cullable=T||!this.cullArea,y.render(n),y.cullable=T}}render(n){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters?.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(n)}}renderAdvanced(n){const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<e.length;l++)e[l].enabled&&this._enabledFilters.push(e[l])}const o=e&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Ze.NONE));if(o&&n.batch.flush(),e&&this._enabledFilters?.length&&n.filter.push(this,this._enabledFilters),r&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(n)}o&&n.batch.flush(),r&&n.mask.pop(this),e&&this._enabledFilters?.length&&n.filter.pop()}_render(n){}destroy(n){super.destroy(),this.sortDirty=!1;const e="boolean"==typeof n?n:n?.children,r=this.removeChildren(0,this.children.length);if(e)for(let o=0;o<r.length;++o)r[o].destroy(n)}get width(){return this.scale.x*this.getLocalBounds().width}set width(n){const e=this.getLocalBounds().width;this.scale.x=0!==e?n/e:1,this._width=n}get height(){return this.scale.y*this.getLocalBounds().height}set height(n){const e=this.getLocalBounds().height;this.scale.y=0!==e?n/e:1,this._height=n}};let Us=qa;Us.defaultSortableChildren=!1,Us.prototype.containerUpdateTransform=Us.prototype.updateTransform,Object.defineProperties(te,{SORTABLE_CHILDREN:{get:()=>Us.defaultSortableChildren,set(n){an("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Us.defaultSortableChildren=n}}});const Qa=new On,td=new Uint16Array([0,1,2,0,2,3]);class No extends Us{constructor(e){super(),this._anchor=new Qs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=le.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||hn.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=td,this.pluginName="batch",this.isSprite=!0,this._roundPixels=te.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=us(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=us(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,o=r.a,l=r.b,u=r.c,d=r.d,y=r.tx,T=r.ty,O=this.vertexData,B=e.trim,H=e.orig,Y=this._anchor;let oe=0,me=0,Ge=0,Qe=0;if(B?(me=B.x-Y._x*H.width,oe=me+B.width,Qe=B.y-Y._y*H.height,Ge=Qe+B.height):(me=-Y._x*H.width,oe=me+H.width,Qe=-Y._y*H.height,Ge=Qe+H.height),O[0]=o*me+u*Qe+y,O[1]=d*Qe+l*me+T,O[2]=o*oe+u*Qe+y,O[3]=d*Qe+l*oe+T,O[4]=o*oe+u*Ge+y,O[5]=d*Ge+l*oe+T,O[6]=o*me+u*Ge+y,O[7]=d*Ge+l*me+T,this._roundPixels){const st=te.RESOLUTION;for(let It=0;It<O.length;++It)O[It]=Math.round(O[It]*st)/st}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const r=this.vertexTrimmedData,o=this._texture.orig,l=this._anchor,u=this.transform.worldTransform,d=u.a,y=u.b,T=u.c,O=u.d,B=u.tx,H=u.ty,Y=-l._x*o.width,oe=Y+o.width,me=-l._y*o.height,Ge=me+o.height;r[0]=d*Y+T*me+B,r[1]=O*me+y*Y+H,r[2]=d*oe+T*me+B,r[3]=O*me+y*oe+H,r[4]=d*oe+T*Ge+B,r[5]=O*Ge+y*oe+H,r[6]=d*Y+T*Ge+B,r[7]=O*Ge+y*Y+H}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Eo),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new jn),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Qa);const r=this._texture.orig.width,o=this._texture.orig.height,l=-r*this.anchor.x;let u=0;return Qa.x>=l&&Qa.x<l+r&&(u=-o*this.anchor.y,Qa.y>=u&&Qa.y<u+o)}destroy(e){super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e?.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e?.baseTexture)),this._texture=null}static from(e,r){const o=e instanceof hn?e:hn.from(e,r);return new No(o)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=us(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=us(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||hn.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const rc=new xi;ji.prototype._cacheAsBitmap=!1,ji.prototype._cacheData=null,ji.prototype._cacheAsBitmapResolution=null,ji.prototype._cacheAsBitmapMultisample=null;class nd{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ji.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;let e;this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new nd),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),ji.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},ji.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const o=this.getLocalBounds(null,!0).clone();this.filters?.length&&o.pad(this.filters[0].padding),o.ceil(te.RESOLUTION);const l=e.renderTexture.current,u=e.renderTexture.sourceFrame.clone(),d=e.renderTexture.destinationFrame.clone(),y=e.projection.transform,T=ns.create({width:o.width,height:o.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),O=`cacheAsBitmap_${Wr()}`;this._cacheData.textureCacheId=O,$t.addToCache(T.baseTexture,O),hn.addToCache(T,O);const B=this.transform.localTransform.copyTo(rc).invert().translate(-o.x,-o.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:T,clear:!0,transform:B,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=y,e.renderTexture.bind(l,u,d),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const H=new No(T);H.transform.worldTransform=this.transform.worldTransform,H.anchor.x=-o.x/o.width,H.anchor.y=-o.y/o.height,H.alpha=r,H._bounds=this._bounds,this._cacheData.sprite=H,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=H.containsPoint.bind(H)},ji.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},ji.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;const r=this.getLocalBounds(null,!0),o=this.alpha;this.alpha=1;const l=e.canvasContext.activeContext,u=e._projTransform;r.ceil(te.RESOLUTION);const d=ns.create({width:r.width,height:r.height}),y=`cacheAsBitmap_${Wr()}`;this._cacheData.textureCacheId=y,$t.addToCache(d.baseTexture,y),hn.addToCache(d,y);const T=rc;this.transform.localTransform.copyTo(T),T.invert(),T.tx-=r.x,T.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:d,clear:!0,transform:T,skipUpdateTransform:!1}),e.canvasContext.activeContext=l,e._projTransform=u,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=o;const O=new No(d);O.transform.worldTransform=this.transform.worldTransform,O.anchor.x=-r.x/r.width,O.anchor.y=-r.y/r.height,O.alpha=o,O._bounds=this._bounds,this._cacheData.sprite=O,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=O.containsPoint.bind(O)},ji.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ji.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ji.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,$t.removeFromCache(this._cacheData.textureCacheId),hn.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ji.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},ji.prototype.name=null,Us.prototype.getChildByName=function(e,r){for(let o=0,l=this.children.length;o<l;o++)if(this.children[o].name===e)return this.children[o];if(r)for(let o=0,l=this.children.length;o<l;o++){const u=this.children[o];if(!u.getChildByName)continue;const d=u.getChildByName(e,!0);if(d)return d}return null},ji.prototype.getGlobalPosition=function(e=new On,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};const id={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Su=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class Iu extends P{constructor(e,r=8,o=4,l=P.defaultResolution,u=5){const d=function bl(n,e){const r=Math.ceil(n/2);let u,o="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",l="";u=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let d=0;d<n;d++){let y=u.replace("%index%",d.toString());y=y.replace("%sampleIndex%",d-(r-1)+".0"),l+=y,l+="\n"}return o=o.replace("%blur%",l),o=o.replace("%size%",n.toString()),o}(u,e),y=function Au(n){const e=id[n],r=e.length;let d,o=Su,l="";for(let y=0;y<n;y++){let T="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",y.toString());d=y,y>=r&&(d=n-y-1),T=T.replace("%value%",e[d].toString()),l+=T,l+="\n"}return o=o.replace("%blur%",l),o=o.replace("%size%",n.toString()),o}(u);super(d,y),this.horizontal=e,this.resolution=l,this._quality=0,this.quality=o,this.blur=r}apply(e,r,o,l){if(this.uniforms.strength=o?this.horizontal?1/o.width*(o.width/r.width):1/o.height*(o.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,o,l);else{const u=e.getFilterTexture(),d=e.renderer;let y=r,T=u;this.state.blend=!1,e.applyFilter(this,y,T,$e.CLEAR);for(let O=1;O<this.passes-1;O++){e.bindAndClear(y,$e.BLIT),this.uniforms.uSampler=T;const B=T;T=y,y=B,d.shader.bind(this),d.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,T,o,l),e.returnFilterTexture(u)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class Ru extends P{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(wu,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e,r=!1){let o=e;r&&(this._multiply(o,this.uniforms.m,e),o=this._colorMatrix(o)),this.uniforms.m=o}_multiply(e,r,o){return e[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],e[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],e[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],e[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],e[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],e[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],e[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],e[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],e[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],e[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],e[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],e[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],e[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],e[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],e[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],e[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],e[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],e[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],e[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],e[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)}tint(e,r){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],r)}greyscale(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,r){e=(e||0)/180*Math.PI;const o=Math.cos(e),l=Math.sin(e),d=1/3,y=(0,Math.sqrt)(d);this._loadMatrix([o+(1-o)*d,d*(1-o)-y*l,d*(1-o)+y*l,0,0,d*(1-o)+y*l,o+d*(1-o),d*(1-o)-y*l,0,0,d*(1-o)-y*l,d*(1-o)+y*l,o+d*(1-o),0,0,0,0,0,1,0],r)}contrast(e,r){const o=(e||0)+1,l=-.5*(o-1);this._loadMatrix([o,0,0,0,l,0,o,0,0,l,0,0,o,0,l,0,0,0,1,0],r)}saturate(e=0,r){const o=2*e/3+1,l=-.5*(o-1);this._loadMatrix([o,l,l,0,0,l,o,l,0,0,l,l,o,0,0,0,0,0,1,0],r)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,r,o,l,u){const d=((o=o||16770432)>>16&255)/255,y=(o>>8&255)/255,T=(255&o)/255,O=((l=l||3375104)>>16&255)/255,B=(l>>8&255)/255,H=(255&l)/255;this._loadMatrix([.3,.59,.11,0,0,d,y,T,e=e||.2,0,O,B,H,r=r||.15,0,d-O,y-B,T-H,0,0],u)}night(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)}predator(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Ru.prototype.grayscale=Ru.prototype.greyscale;const tp={AlphaFilter:class oc extends P{constructor(e=1){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}},BlurFilter:class rd extends P{constructor(e=8,r=4,o=P.defaultResolution,l=5){super(),this.blurXFilter=new Iu(!0,e,r,o,l),this.blurYFilter=new Iu(!1,e,r,o,l),this.resolution=o,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,o,l){const u=Math.abs(this.blurXFilter.strength),d=Math.abs(this.blurYFilter.strength);if(u&&d){const y=e.getFilterTexture();this.blurXFilter.apply(e,r,y,$e.CLEAR),this.blurYFilter.apply(e,y,o,l),e.returnFilterTexture(y)}else d?this.blurYFilter.apply(e,r,o,l):this.blurXFilter.apply(e,r,o,l)}updatePadding(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}},BlurFilterPass:Iu,ColorMatrixFilter:Ru,DisplacementFilter:class od extends P{constructor(e,r){const o=new xi;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=o,null==r&&(r=20),this.scale=new On(r,r)}apply(e,r,o,l){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const u=this.maskSprite.worldTransform,d=Math.sqrt(u.a*u.a+u.b*u.b),y=Math.sqrt(u.c*u.c+u.d*u.d);0!==d&&0!==y&&(this.uniforms.rotation[0]=u.a/d,this.uniforms.rotation[1]=u.b/d,this.uniforms.rotation[2]=u.c/y,this.uniforms.rotation[3]=u.d/y),e.applyFilter(this,r,o,l)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}},FXAAFilter:class xa extends P{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}},NoiseFilter:class ep extends P{constructor(e=.5,r=Math.random()){super(wu,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}};Object.entries(tp).forEach(([n,e])=>{Object.defineProperty(tp,n,{get:()=>(an("7.1.0",`filters.${n} has moved to ${n}`),e)})});class wl{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=wl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new On,this.page=new On,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,o){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,o,l,u){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Ja extends wl{constructor(){super(...arguments),this.client=new On,this.movement=new On,this.offset=new On,this.global=new On,this.screen=new On}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,o,l,u,d,y,T,O,B,H,Y,oe,me,Ge){throw new Error("Method not implemented.")}}class io extends Ja{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class lc extends Ja{constructor(){super(...arguments),this.DOM_DELTA_LINE=0,this.DOM_DELTA_PAGE=1,this.DOM_DELTA_PIXEL=2}}const Ou=new On,uc=new On;class ad{constructor(e){this.dispatch=new ye,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((o,l)=>o.priority-l.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let o=0,l=r.length;o<l;o++)r[o].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){const o=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,Ou.set(e,r),this.hitTestFn,this.hitPruneFn);return o&&o[0]}propagate(e,r){if(!e.target)return;const o=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let l=0,u=o.length-1;l<u;l++)if(e.currentTarget=o[l],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let l=o.length-2;l>=0;l--)if(e.currentTarget=o[l],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,o=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const l=o.children;if(l)for(let u=0;u<l.length;u++)this.all(e,r,l[u]);e.currentTarget=o,this.notifyTarget(e,r)}propagationPath(e){const r=[e];for(let o=0;o<2048&&e!==this.rootTarget;o++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestRecursive(e,r,o,l,u){if(!e||!e.visible||u(e,o))return null;if(e.interactiveChildren&&e.children){const d=e.children;for(let y=d.length-1;y>=0;y--){const T=d[y],O=this.hitTestRecursive(T,r||T.interactive,o,l,u);if(O){if(O.length>0&&!O[O.length-1].parent)continue;return(O.length>0||e.interactive)&&O.push(e),O}}}return r&&l(e,o)?e.interactive?[e]:[]:null}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,uc),!e.hitArea.contains(uc.x,uc.y)))return!0;if(e._mask){const o=e._mask.isMaskData?e._mask.maskObject:e._mask;if(o&&!o.containsPoint?.(r))return!0}return!1}hitTestFn(e,r){return!!e.hitArea||!!e.containsPoint&&e.containsPoint(r)}notifyTarget(e,r){e.currentTarget[`on${r=r??e.type}`]?.(e),this.notifyListeners(e,e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.createPointerEvent(e);this.dispatchEvent(r,"pointerdown"),"touch"===r.pointerType?this.dispatchEvent(r,"touchstart"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.dispatchEvent(r,2===r.button?"rightdown":"mousedown"),this.trackingData(e.pointerId).pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.createPointerEvent(e),o="mouse"===r.pointerType||"pen"===r.pointerType,l=this.trackingData(e.pointerId),u=this.findMountedTarget(l.overTargets);if(l.overTargets?.length>0&&u!==r.target){const T=this.createPointerEvent(e,"mousemove"===e.type?"mouseout":"pointerout",u);if(this.dispatchEvent(T,"pointerout"),o&&this.dispatchEvent(T,"mouseout"),!r.composedPath().includes(u)){const O=this.createPointerEvent(e,"pointerleave",u);for(O.eventPhase=O.AT_TARGET;O.target&&!r.composedPath().includes(O.target);)O.currentTarget=O.target,this.notifyTarget(O),o&&this.notifyTarget(O,"mouseleave"),O.target=O.target.parent;this.freeEvent(O)}this.freeEvent(T)}if(u!==r.target){const T=this.clonePointerEvent(r,"mousemove"===e.type?"mouseover":"pointerover");this.dispatchEvent(T,"pointerover"),o&&this.dispatchEvent(T,"mouseover");let O=u?.parent;for(;O&&O!==this.rootTarget.parent&&O!==r.target;)O=O.parent;if(!O||O===this.rootTarget.parent){const H=this.clonePointerEvent(r,"pointerenter");for(H.eventPhase=H.AT_TARGET;H.target&&H.target!==u&&H.target!==this.rootTarget.parent;)H.currentTarget=H.target,this.notifyTarget(H),o&&this.notifyTarget(H,"mouseenter"),H.target=H.target.parent;this.freeEvent(H)}this.freeEvent(T)}const d=this.moveOnAll?"all":"dispatchEvent";this[d](r,"pointermove"),this.all(r,"globalpointermove"),"touch"===r.pointerType&&(this[d](r,"touchmove"),this.all(r,"globaltouchmove")),o&&(this[d](r,"mousemove"),this.all(r,"globalmousemove"),this.cursor=r.target?.cursor),l.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.trackingData(e.pointerId),o=this.createPointerEvent(e),l="mouse"===o.pointerType||"pen"===o.pointerType;this.dispatchEvent(o,"pointerover"),l&&this.dispatchEvent(o,"mouseover"),"mouse"===o.pointerType&&(this.cursor=o.target?.cursor);const u=this.clonePointerEvent(o,"pointerenter");for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==this.rootTarget.parent;)u.currentTarget=u.target,this.notifyTarget(u),l&&this.notifyTarget(u,"mouseenter"),u.target=u.target.parent;r.overTargets=o.composedPath(),this.freeEvent(o),this.freeEvent(u)}mapPointerOut(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.trackingData(e.pointerId);if(r.overTargets){const o="mouse"===e.pointerType||"pen"===e.pointerType,l=this.findMountedTarget(r.overTargets),u=this.createPointerEvent(e,"pointerout",l);this.dispatchEvent(u),o&&this.dispatchEvent(u,"mouseout");const d=this.createPointerEvent(e,"pointerleave",l);for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),o&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;r.overTargets=null,this.freeEvent(u),this.freeEvent(d)}this.cursor=null}mapPointerUp(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=performance.now(),o=this.createPointerEvent(e);this.dispatchEvent(o,"pointerup"),"touch"===o.pointerType?this.dispatchEvent(o,"touchend"):"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.dispatchEvent(o,2===o.button?"rightup":"mouseup");const l=this.trackingData(e.pointerId),u=this.findMountedTarget(l.pressTargetsByButton[e.button]);let d=u;if(u&&!o.composedPath().includes(u)){let y=u;for(;y&&!o.composedPath().includes(y);)o.currentTarget=y,this.notifyTarget(o,"pointerupoutside"),"touch"===o.pointerType?this.notifyTarget(o,"touchendoutside"):"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.notifyTarget(o,2===o.button?"rightupoutside":"mouseupoutside"),y=y.parent;delete l.pressTargetsByButton[e.button],d=y}if(d){const y=this.clonePointerEvent(o,"click");y.target=d,y.path=null,l.clicksByButton[e.button]||(l.clicksByButton[e.button]={clickCount:0,target:y.target,timeStamp:r});const T=l.clicksByButton[e.button];T.target===y.target&&r-T.timeStamp<200?++T.clickCount:T.clickCount=1,T.target=y.target,T.timeStamp=r,y.detail=T.clickCount,"mouse"===y.pointerType?this.dispatchEvent(y,"click"):"touch"===y.pointerType&&this.dispatchEvent(y,"tap"),this.dispatchEvent(y,"pointertap"),this.freeEvent(y)}this.freeEvent(o)}mapPointerUpOutside(e){if(!(e instanceof io))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.trackingData(e.pointerId),o=this.findMountedTarget(r.pressTargetsByButton[e.button]),l=this.createPointerEvent(e);if(o){let u=o;for(;u;)l.currentTarget=u,this.notifyTarget(l,"pointerupoutside"),"touch"===l.pointerType?this.notifyTarget(l,"touchendoutside"):("mouse"===l.pointerType||"pen"===l.pointerType)&&this.notifyTarget(l,2===l.button?"rightupoutside":"mouseupoutside"),u=u.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(l)}mapWheel(e){if(!(e instanceof lc))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let o=1;o<e.length&&e[o].parent===r;o++)r=e[o];return r}createPointerEvent(e,r,o){const l=this.allocateEvent(io);return this.copyPointerData(e,l),this.copyMouseData(e,l),this.copyData(e,l),l.nativeEvent=e.nativeEvent,l.originalEvent=e,l.target=o??this.hitTest(l.global.x,l.global.y),"string"==typeof r&&(l.type=r),l}createWheelEvent(e){const r=this.allocateEvent(lc);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const o=this.allocateEvent(io);return o.nativeEvent=e.nativeEvent,o.originalEvent=e.originalEvent,this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.target=e.target,o.path=e.composedPath().slice(),o.type=r??o.type,o}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof io&&r instanceof io&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Ja&&r instanceof Ja&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const o=e.currentTarget._events[r];if(o)if("fn"in o)o.fn.call(o.context,e);else for(let l=0,u=o.length;l<u&&!e.propagationImmediatelyStopped;l++)o[l].fn.call(o[l].context,e)}}const Ta={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class cd{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new ad(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new io(null),this.rootWheelEvent=new lc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const o=this.cursorStyles[e];if(o)switch(typeof o){case"string":r&&(this.domElement.style.cursor=o);break;case"function":o(e);break;case"object":r&&Object.assign(this.domElement.style,o)}else r&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let o=0,l=r.length;o<l;o++){const d=this.bootstrapEvent(this.rootPointerEvent,r[o]);this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;const r=this.normalizeToPointerData(e);for(let o=0,l=r.length;o<l;o++){const u=this.bootstrapEvent(this.rootPointerEvent,r[o]);this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const o=r!==this.domElement?"outside":"",l=this.normalizeToPointerData(e);for(let u=0,d=l.length;u<d;u++){const y=this.bootstrapEvent(this.rootPointerEvent,l[u]);y.type+=o,this.rootBoundary.mapEvent(y)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&"touch"===e.pointerType)return;const r=this.normalizeToPointerData(e);for(let o=0,l=r.length;o<l;o++){const u=this.bootstrapEvent(this.rootPointerEvent,r[o]);this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,o){let l;l=this.domElement.parentElement?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const u=1/this.resolution;e.x=this.domElement.width/l.width*(r-l.left)*u,e.y=this.domElement.height/l.height*(o-l.top)*u}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let o=0,l=e.changedTouches.length;o<l;o++){const u=e.changedTouches[o];typeof u.button>"u"&&(u.button=0),typeof u.buttons>"u"&&(u.buttons=1),typeof u.isPrimary>"u"&&(u.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof u.width>"u"&&(u.width=u.radiusX||1),typeof u.height>"u"&&(u.height=u.radiusY||1),typeof u.tiltX>"u"&&(u.tiltX=0),typeof u.tiltY>"u"&&(u.tiltY=0),typeof u.pointerType>"u"&&(u.pointerType="touch"),typeof u.pointerId>"u"&&(u.pointerId=u.identifier||0),typeof u.pressure>"u"&&(u.pressure=u.force||.5),typeof u.twist>"u"&&(u.twist=0),typeof u.tangentialPressure>"u"&&(u.tangentialPressure=0),typeof u.layerX>"u"&&(u.layerX=u.offsetX=u.clientX),typeof u.layerY>"u"&&(u.layerY=u.offsetY=u.clientY),u.isNormalized=!0,u.type=e.type,r.push(u)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const o=e;typeof o.isPrimary>"u"&&(o.isPrimary=!0),typeof o.width>"u"&&(o.width=1),typeof o.height>"u"&&(o.height=1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="mouse"),typeof o.pointerId>"u"&&(o.pointerId=1),typeof o.pressure>"u"&&(o.pressure=.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Ta[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}}cd.extension={name:"events",type:[re.RendererSystem,re.CanvasRendererSystem]},ht.add(cd);const np={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(n,e,r){const l="function"==typeof e?void 0:e;this.on(n="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${n}capture`:n,e="function"==typeof e?e:e.handleEvent,l)},removeEventListener(n,e,r){const l="function"==typeof e?void 0:e;this.off(n="boolean"==typeof r&&r||"object"==typeof r&&r.capture?`${n}capture`:n,e="function"==typeof e?e:e.handleEvent,l)},dispatchEvent(n){if(!(n instanceof wl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};ji.mixin(np),ji.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});class dd{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Q.tablet||Q.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width="100px",r.style.height="100px",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex=2..toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let o=0;o<r.length;o++)this.updateAccessibleObjects(r[o])}update(){const e=performance.now();if(Q.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:o,width:l,height:u}=this.renderer.view.getBoundingClientRect(),{width:d,height:y,resolution:T}=this.renderer,O=l/d*T,B=u/y*T;let H=this.div;H.style.left=`${r}px`,H.style.top=`${o}px`,H.style.width=`${d}px`,H.style.height=`${y}px`;for(let Y=0;Y<this.children.length;Y++){const oe=this.children[Y];if(oe.renderId!==this.renderId)oe._accessibleActive=!1,Ui(this.children,Y,1),this.div.removeChild(oe._accessibleDiv),this.pool.push(oe._accessibleDiv),oe._accessibleDiv=null,Y--;else{H=oe._accessibleDiv;let me=oe.hitArea;const Ge=oe.worldTransform;oe.hitArea?(H.style.left=(Ge.tx+me.x*Ge.a)*O+"px",H.style.top=(Ge.ty+me.y*Ge.d)*B+"px",H.style.width=me.width*Ge.a*O+"px",H.style.height=me.height*Ge.d*B+"px"):(me=oe.getBounds(),this.capHitArea(me),H.style.left=me.x*O+"px",H.style.top=me.y*B+"px",H.style.width=me.width*O+"px",H.style.height=me.height*B+"px",H.title!==oe.accessibleTitle&&null!==oe.accessibleTitle&&(H.title=oe.accessibleTitle),H.getAttribute("aria-label")!==oe.accessibleHint&&null!==oe.accessibleHint&&H.setAttribute("aria-label",oe.accessibleHint)),(oe.accessibleTitle!==H.title||oe.tabIndex!==H.tabIndex)&&(H.title=oe.accessibleTitle,H.tabIndex=oe.tabIndex,this.debug&&this.updateDebugHTML(H))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:o}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>o&&(e.height=o-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width="100px",r.style.height="100px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=2..toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?r.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:o}=e.target,l=this.renderer.events.rootBoundary,u=Object.assign(new wl(l),{target:o});l.rootTarget=this.renderer.lastObjectRendered,r.forEach(d=>l.dispatchEvent(u,d))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}dd.extension={name:"accessibility",type:[re.RendererPlugin,re.CanvasRendererPlugin]},ht.add(dd);const dc=class{constructor(n){this.stage=new Us,n=Object.assign({forceCanvas:!1},n),this.renderer=function zf(n){for(const e of Ka)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}(n),dc._plugins.forEach(e=>{e.init.call(this,n)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(n,e){const r=dc._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(n),this.renderer=null}};let Fu=dc;Fu._plugins=[],ht.handleByList(re.Application,Fu._plugins);class fd{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let r,o;if(this.cancelResize(),this._resizeTo===globalThis.window)r=globalThis.innerWidth,o=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:u}=this._resizeTo;r=l,o=u}this.renderer.resize(r,o),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}fd.extension=re.Application,ht.add(fd);const pd={loader:re.LoadParser,resolver:re.ResolveParser,cache:re.CacheParser,detection:re.DetectionParser};ht.handle(re.Asset,n=>{const e=n.ref;Object.entries(pd).filter(([r])=>!!e[r]).forEach(([r,o])=>ht.add(Object.assign(e[r],{extension:e[r].extension??o})))},n=>{const e=n.ref;Object.keys(pd).filter(r=>!!e[r]).forEach(r=>ht.remove(e[r]))});class lp{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}_next(){var e=this;return(0,Nn.Z)(function*(){if(e._assetList.length&&e._isActive){e._isLoading=!0;const r=[],o=Math.min(e._assetList.length,e._maxConcurrent);for(let l=0;l<o;l++)r.push(e._assetList.pop());yield e._loader.load(r),e._isLoading=!1,e._next()}})()}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Sa(n,e){const r=n.split("?")[0],o=xt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(o):o===e}const kr=(n,e)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>"string"==typeof r?e(r):r):n),tl=new class Dl{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const o=kr(e);let l;for(let y=0;y<this.parsers.length;y++){const T=this.parsers[y];if(T.test(r)){l=T.getCacheableAssets(o,r);break}}l||(l={},o.forEach(y=>{l[y]=r}));const u=Object.keys(l),d={cacheKeys:u,keys:o};if(o.forEach(y=>{this._cacheMap.set(y,d)}),u.forEach(y=>{this._cache.has(y)&&this._cache.get(y)!==r&&console.warn("[Cache] already has key:",y),this._cache.set(y,l[y])}),r instanceof hn){const y=r;o.forEach(T=>{y.baseTexture!==hn.EMPTY.baseTexture&&$t.addToCache(y.baseTexture,T),hn.addToCache(y,T)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e))return void console.warn(`[Assets] Asset id ${e} was not found in the Cache`);const r=this._cacheMap.get(e);r.cacheKeys.forEach(l=>{this._cache.delete(l)}),r.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}},Cl=n=>!Array.isArray(n);class gd{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,r){var o=this;const l={promise:null,parser:null};return l.promise=(0,Nn.Z)(function*(){let u=null;for(let d=0;d<o.parsers.length;d++){const y=o.parsers[d];if(y.load&&y.test?.(e,r,o)){u=yield y.load(e,r,o),l.parser=y;break}}if(!l.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let d=0;d<o.parsers.length;d++){const y=o.parsers[d];y.parse&&y.parse&&(yield y.testParse?.(u,r,o))&&(u=(yield y.parse(u,r,o))||u,l.parser=y)}return u})(),l}load(e,r){var o=this;return(0,Nn.Z)(function*(){let l=0;const u={},d=Cl(e),y=kr(e,B=>({src:B})),T=y.length,O=y.map(function(){var B=(0,Nn.Z)(function*(H){const Y=xt.toAbsolute(H.src);if(!u[H.src])try{o.promiseCache[Y]||(o.promiseCache[Y]=o._getLoadPromiseAndParser(Y,H)),u[H.src]=yield o.promiseCache[Y].promise,r&&r(++l/T)}catch(oe){throw delete o.promiseCache[Y],delete u[H.src],new Error(`[Loader.load] Failed to load ${Y}.\n${oe}`)}});return function(H){return B.apply(this,arguments)}}());return yield Promise.all(O),d?u[y[0].src]:u})()}unload(e){var r=this;return(0,Nn.Z)(function*(){const l=kr(e,u=>({src:u})).map(function(){var u=(0,Nn.Z)(function*(d){const y=xt.toAbsolute(d.src),T=r.promiseCache[y];if(T){const O=yield T.promise;T.parser?.unload?.(O,d,r),delete r.promiseCache[y]}});return function(d){return u.apply(this,arguments)}}());yield Promise.all(l)})()}get parsers(){return this._parsers}}var Bo=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(Bo||{});const em={extension:{type:re.LoadParser,priority:Bo.Low},test:n=>".json"===xt.extname(n).toLowerCase(),load:n=>(0,Nn.Z)(function*(){return yield(yield te.ADAPTER.fetch(n)).json()})()};ht.add(em);const tm={extension:{type:re.LoadParser,priority:Bo.Low},test:n=>".txt"===xt.extname(n).toLowerCase(),load:n=>(0,Nn.Z)(function*(){return yield(yield te.ADAPTER.fetch(n)).text()})()};function fc(n,e){if(Array.isArray(e)){for(const r of e)if(n.startsWith(`data:${r}`))return!0;return!1}return n.startsWith(`data:${e}`)}ht.add(tm);const Lu=["normal","bold","100","200","300","400","500","600","700","800","900"],nm=[".ttf",".otf",".woff",".woff2"],im=["font/ttf","font/otf","font/woff","font/woff2"],cp={extension:{type:re.LoadParser,priority:Bo.Low},test:n=>fc(n,im)||Sa(n,nm),load:(n,e)=>(0,Nn.Z)(function*(){if(!globalThis.navigator.onLine)throw new Error("[loadWebFont] Cannot load font - navigator is offline");const r=te.ADAPTER.getFontFaceSet();if(r){const o=[],l=e.data?.family??function md(n){const e=xt.extname(n);return xt.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ")}(n),u=e.data?.weights?.filter(y=>Lu.includes(y))??["normal"],d=e.data??{};for(let y=0;y<u.length;y++){const T=u[y],O=new FontFace(l,`url(${encodeURI(n)})`,{...d,weight:T});yield O.load(),r.add(O),o.push(O)}return 1===o.length?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null})(),unload(n){(Array.isArray(n)?n:[n]).forEach(e=>te.ADAPTER.getFontFaceSet().delete(e))}};ht.add(cp);let Nu,_d=0;const yd_code="\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ",pc_code="\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };";let gc;const vd=new class ku{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([yd_code],{type:"application/javascript"})),o=new Worker(r);o.addEventListener("message",l=>{o.terminate(),URL.revokeObjectURL(r),e(l.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}_initWorkers(){var e=this;return(0,Nn.Z)(function*(){e._initialized||(e._initialized=!0)})()}getWorker(){void 0===Nu&&(Nu=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Nu&&(gc||(gc=URL.createObjectURL(new Blob([pc_code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(gc),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}_run(e,r){var o=this;return(0,Nn.Z)(function*(){yield o._initWorkers();const l=new Promise((u,d)=>{o.queue.push({id:e,arguments:r,resolve:u,reject:d})});return o.next(),l})()}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),o=r.id;this.resolveHash[_d]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:_d++,id:o})}};function zi(n,e,r){const o=new hn(n);return o.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),o}const up=[".jpeg",".jpg",".png",".webp",".avif"],hp=["image/jpeg","image/png","image/webp","image/avif"];function mc(){return(mc=(0,Nn.Z)(function*(n){const e=yield te.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const r=yield e.blob();return yield createImageBitmap(r)})).apply(this,arguments)}const xl={extension:{type:re.LoadParser,priority:Bo.High},config:{preferWorkers:!0},test:n=>fc(n,hp)||Sa(n,up),load(n,e,r){var o=this;return(0,Nn.Z)(function*(){let l=null;l=globalThis.createImageBitmap?o.config.preferWorkers&&(yield vd.isImageBitmapSupported())?yield vd.loadImageBitmap(n):yield function Ed(n){return mc.apply(this,arguments)}(n):yield new Promise(d=>{l=new Image,l.crossOrigin="anonymous",l.src=n,l.complete?d(l):l.onload=()=>{d(l)}});const u=new $t(l,{resolution:De(n),...e.data});return u.resource.src=n,zi(u,r,n)})()},unload(n){n.destroy(!0)}};ht.add(xl);const dp={extension:{type:re.LoadParser,priority:Bo.High},test:n=>".svg"===xt.extname(n).toLowerCase(),testParse:n=>(0,Nn.Z)(function*(){return Ca.test(n)})(),parse:(n,e,r)=>(0,Nn.Z)(function*(){const o=new Ca(n,e?.data?.resourceOptions),l=new $t(o,{resolution:De(n),...e?.data});l.resource.src=n;const u=zi(l,r,n);return e?.data?.resourceOptions?.autoLoad||(yield o.load()),u})(),load:(n,e)=>(0,Nn.Z)(function*(){return(yield te.ADAPTER.fetch(n)).text()})(),unload:xl.unload};function bd(n,e,r,o,l){const u=e[r];for(let d=0;d<u.length;d++){const y=u[d];r<e.length-1?bd(n.replace(o[r],y),e,r+1,o,l):l.push(n.replace(o[r],y))}}function fp(n){const r=n.match(/\{(.*?)\}/g),o=[];if(r){const l=[];r.forEach(u=>{const d=u.substring(1,u.length-1).split(",");l.push(d)}),bd(n,l,0,r,o)}else o.push(n);return o}ht.add(dp);class wd{constructor(){this._bundleIdConnector="-",this._createBundleAssetId=(e,r)=>`${e}${this._bundleIdConnector}${r}`,this._extractAssetIdFromBundle=(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,""),this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this._preferredOrder=[],this._resolverHash={},this._assetMap={},this._rootPath=null,this._basePath=null,this._manifest=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(o=>`${encodeURIComponent(o)}=${encodeURIComponent(r[o])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const o=[];Array.isArray(r)?r.forEach(l=>{if("string"==typeof l.name){const u=this._createBundleAssetId(e,l.name);o.push(u),this.add([l.name,u],l.srcs,l.data)}else{const u=l.name.map(d=>this._createBundleAssetId(e,d));u.forEach(d=>{o.push(d)}),this.add([...l.name,...u],l.srcs)}}):Object.keys(r).forEach(l=>{o.push(this._createBundleAssetId(e,l)),this.add([l,this._createBundleAssetId(e,l)],r[l])}),this._bundles[e]=o}add(e,r,o){const l=kr(e);l.forEach(d=>{this._assetMap[d]&&console.warn(`[Resolver] already has key: ${d} overwriting`)}),Array.isArray(r)||(r="string"==typeof r?fp(r):[r]);const u=r.map(d=>{let y=d;if("string"==typeof d){let T=!1;for(let O=0;O<this._parsers.length;O++){const B=this._parsers[O];if(B.test(d)){y=B.parse(d),T=!0;break}}T||(y={src:d})}return y.format||(y.format=y.src.split(".").pop()),y.alias||(y.alias=l),(this._basePath||this._rootPath)&&(y.src=xt.toAbsolute(y.src,this._basePath,this._rootPath)),y.src=this._appendDefaultSearchParams(y.src),y.data=y.data??o,y});l.forEach(d=>{this._assetMap[d]=u})}resolveBundle(e){const r=Cl(e);e=kr(e);const o={};return e.forEach(l=>{const u=this._bundles[l];if(u){const d=this.resolve(u),y={};for(const T in d){const O=d[T];y[this._extractAssetIdFromBundle(l,T)]=O}o[l]=y}}),r?o[e[0]]:o}resolveUrl(e){const r=this.resolve(e);if("string"!=typeof e){const o={};for(const l in r)o[l]=r[l].src;return o}return r.src}resolve(e){const r=Cl(e);e=kr(e);const o={};return e.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const d=this._getPreferredOrder(u),y=u[0];d?.priority.forEach(T=>{d.params[T].forEach(O=>{const B=u.filter(H=>!!H[T]&&H[T]===O);B.length&&(u=B)})}),this._resolverHash[l]=u[0]??y}else{let u=l;(this._basePath||this._rootPath)&&(u=xt.toAbsolute(u,this._basePath,this._rootPath)),u=this._appendDefaultSearchParams(u),this._resolverHash[l]={src:u}}o[l]=this._resolverHash[l]}),r?o[e[0]]:o}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const o=e[0],l=this._preferredOrder.find(u=>u.params.format.includes(o.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`:e}}const _c=new class sm{constructor(){this._detections=[],this._initialized=!1,this.resolver=new wd,this.loader=new gd,this.cache=tl,this._backgroundLoader=new lp(this.loader),this._backgroundLoader.active=!0,this.reset()}init(e={}){var r=this;return(0,Nn.Z)(function*(){if(r._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(r._initialized=!0,e.defaultSearchParams&&r.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(r.resolver.basePath=e.basePath),e.bundleIdentifier&&r.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;"string"==typeof d&&(d=yield r.load(d)),r.resolver.addManifest(d)}const o=e.texturePreference?.resolution??1,l="number"==typeof o?[o]:o;let u=[];if(e.texturePreference?.format){const d=e.texturePreference?.format;u="string"==typeof d?[d]:d;for(const y of r._detections)(yield y.test())||(u=yield y.remove(u))}else for(const d of r._detections)(yield d.test())&&(u=yield d.add(u));r.resolver.prefer({params:{format:u,resolution:l}})})()}add(e,r,o){this.resolver.add(e,r,o)}load(e,r){var o=this;return(0,Nn.Z)(function*(){o._initialized||(yield o.init());const l=Cl(e),u=kr(e).map(T=>"string"!=typeof T?(o.resolver.add(T.src,T),T.src):T),d=o.resolver.resolve(u),y=yield o._mapLoadToResolve(d,r);return l?y[u[0]]:y})()}addBundle(e,r){this.resolver.addBundle(e,r)}loadBundle(e,r){var o=this;return(0,Nn.Z)(function*(){o._initialized||(yield o.init());let l=!1;"string"==typeof e&&(l=!0,e=[e]);const u=o.resolver.resolveBundle(e),d={},y=Object.keys(u);let T=0,O=0;const B=()=>{r?.(++T/O)},H=y.map(Y=>{const oe=u[Y];return O+=Object.keys(oe).length,o._mapLoadToResolve(oe,B).then(me=>{d[Y]=me})});return yield Promise.all(H),l?d[e[0]]:d})()}backgroundLoad(e){var r=this;return(0,Nn.Z)(function*(){r._initialized||(yield r.init()),"string"==typeof e&&(e=[e]);const o=r.resolver.resolve(e);r._backgroundLoader.add(Object.values(o))})()}backgroundLoadBundle(e){var r=this;return(0,Nn.Z)(function*(){r._initialized||(yield r.init()),"string"==typeof e&&(e=[e]);const o=r.resolver.resolveBundle(e);Object.values(o).forEach(l=>{r._backgroundLoader.add(Object.values(l))})})()}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return tl.get(e);const r={};for(let o=0;o<e.length;o++)r[o]=tl.get(e[o]);return r}_mapLoadToResolve(e,r){var o=this;return(0,Nn.Z)(function*(){const l=Object.values(e),u=Object.keys(e);o._backgroundLoader.active=!1;const d=yield o.loader.load(l,r);o._backgroundLoader.active=!0;const y={};return l.forEach((T,O)=>{const B=d[T.src],H=[T.src];T.alias&&H.push(...T.alias),y[u[O]]=B,tl.set(H,B)}),y})()}unload(e){var r=this;return(0,Nn.Z)(function*(){r._initialized||(yield r.init());const o=kr(e).map(u=>"string"!=typeof u?u.src:u),l=r.resolver.resolve(o);yield r._unloadFromResolved(l)})()}unloadBundle(e){var r=this;return(0,Nn.Z)(function*(){r._initialized||(yield r.init()),e=kr(e);const o=r.resolver.resolveBundle(e),l=Object.keys(o).map(u=>r._unloadFromResolved(o[u]));yield Promise.all(l)})()}_unloadFromResolved(e){var r=this;return(0,Nn.Z)(function*(){const o=Object.values(e);o.forEach(l=>{tl.remove(l.src)}),yield r.loader.unload(o)})()}get detections(){return this._detections}get preferWorkers(){return xl.config.preferWorkers}set preferWorkers(e){xl.config.preferWorkers=e}};ht.handleByList(re.LoadParser,_c.loader.parsers).handleByList(re.ResolveParser,_c.resolver.parsers).handleByList(re.CacheParser,_c.cache.parsers).handleByList(re.DetectionParser,_c.detections);const Tl={extension:re.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof hn),getCacheableAssets:(n,e)=>{const r={};return n.forEach(o=>{e.forEach((l,u)=>{r[o+(0===u?"":u+1)]=l})}),r}};ht.add(Tl);const Bu={extension:{type:re.DetectionParser,priority:1},test:(n=(0,Nn.Z)(function*(){if(!globalThis.createImageBitmap)return!1;const r=yield te.ADAPTER.fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then(o=>o.blob());return createImageBitmap(r).then(()=>!0,()=>!1)}),function(){return n.apply(this,arguments)}),add:function(){var n=(0,Nn.Z)(function*(e){return[...e,"avif"]});return function(r){return n.apply(this,arguments)}}(),remove:function(){var n=(0,Nn.Z)(function*(e){return e.filter(r=>"avif"!==r)});return function(r){return n.apply(this,arguments)}}()};var n;ht.add(Bu);const Dd={extension:{type:re.DetectionParser,priority:0},test:function(){var n=(0,Nn.Z)(function*(){if(!globalThis.createImageBitmap)return!1;const r=yield te.ADAPTER.fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then(o=>o.blob());return createImageBitmap(r).then(()=>!0,()=>!1)});return function(){return n.apply(this,arguments)}}(),add:function(){var n=(0,Nn.Z)(function*(e){return[...e,"webp"]});return function(r){return n.apply(this,arguments)}}(),remove:function(){var n=(0,Nn.Z)(function*(e){return e.filter(r=>"webp"!==r)});return function(r){return n.apply(this,arguments)}}()};ht.add(Dd);const Uu=["png","jpg","jpeg"],Cd={extension:{type:re.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:function(){var n=(0,Nn.Z)(function*(e){return[...e,...Uu]});return function(r){return n.apply(this,arguments)}}(),remove:function(){var n=(0,Nn.Z)(function*(e){return e.filter(r=>!Uu.includes(r))});return function(r){return n.apply(this,arguments)}}()};ht.add(Cd);const pp={extension:re.ResolveParser,test:xl.test,parse:n=>({resolution:parseFloat(te.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n})};ht.add(pp);const Hu=(n,e)=>{const r=e.split("?")[1];return r&&(n+=`?${r}`),n};var fs=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n))(fs||{});const Sl={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let ro,Al;function yc(){Al={s3tc:ro.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ro.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ro.getExtension("WEBGL_compressed_texture_etc"),etc1:ro.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ro.getExtension("WEBGL_compressed_texture_pvrtc")||ro.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ro.getExtension("WEBGL_compressed_texture_atc"),astc:ro.getExtension("WEBGL_compressed_texture_astc")}}const gp={extension:{type:re.DetectionParser,priority:2},test:function(){var n=(0,Nn.Z)(function*(){const r=te.ADAPTER.createCanvas().getContext("webgl");return r?(ro=r,!0):(console.warn("WebGL not available for compressed textures."),!1)});return function(){return n.apply(this,arguments)}}(),add:function(){var n=(0,Nn.Z)(function*(e){Al||yc();const r=[];for(const o in Al)Al[o]&&r.push(o);return[...r,...e]});return function(r){return n.apply(this,arguments)}}(),remove:function(){var n=(0,Nn.Z)(function*(e){return Al||yc(),e.filter(r=>!(r in Al))});return function(r){return n.apply(this,arguments)}}()};ht.add(gp);class Gu extends Bn{constructor(e,r={width:1,height:1,autoLoad:!0}){let o,l;"string"==typeof e?(o=e,l=new Uint8Array):(o=null,l=e),super(l,r),this.origin=o,this.buffer=l?new tn(l):null,this.origin&&!1!==r.autoLoad&&this.load(),l?.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){var e=this;return(0,Nn.Z)(function*(){const l=yield(yield(yield fetch(e.origin)).blob()).arrayBuffer();return e.data=new Uint32Array(l),e.buffer=new tn(l),e.loaded=!0,e.onBlobLoaded(l),e.update(),e})()}}class ia extends Gu{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ia._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ia._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,o){const l=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let d=0,y=this.levels;d<y;d++){const{levelID:T,levelWidth:O,levelHeight:B,levelBuffer:H}=this._levelBuffers[d];l.compressedTexImage2D(l.TEXTURE_2D,T,this.format,O,B,0,H)}return!0}onBlobLoaded(){this._levelBuffers=ia._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,o,l,u,d,y){const T=new Array(o);let O=e.byteOffset,B=d,H=y,Y=B+l-1&~(l-1),oe=H+u-1&~(u-1),me=Y*oe*Sl[r];for(let Ge=0;Ge<o;Ge++)T[Ge]={levelID:Ge,levelWidth:o>1?B:Y,levelHeight:o>1?H:oe,levelBuffer:new Uint8Array(e.buffer,O,me)},O+=me,B=B>>1||1,H=H>>1||1,Y=B+l-1&~(l-1),oe=H+u-1&~(u-1),me=Y*oe*Sl[r];return T}}const Dp={827611204:fs.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:fs.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:fs.COMPRESSED_RGBA_S3TC_DXT5_EXT},Ad={70:fs.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:fs.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:fs.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:fs.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:fs.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:fs.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:fs.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:fs.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:fs.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT},Md=[171,75,84,88,32,49,49,187,13,10,26,10],il={[ue.UNSIGNED_BYTE]:1,[ue.UNSIGNED_SHORT]:2,[ue.INT]:4,[ue.UNSIGNED_INT]:4,[ue.FLOAT]:4,[ue.HALF_FLOAT]:8},Cp={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},Id={[ue.UNSIGNED_SHORT_4_4_4_4]:2,[ue.UNSIGNED_SHORT_5_5_5_1]:2,[ue.UNSIGNED_SHORT_5_6_5]:2};function Sp(n){switch(n){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return n}}const Ap={extension:{type:re.LoadParser,priority:Bo.High},test:n=>Sa(n,".dds"),load:(n,e,r)=>(0,Nn.Z)(function*(){const d=function om(n){const e=new Uint32Array(n);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");const o=new Uint32Array(n,0,124/Uint32Array.BYTES_PER_ELEMENT),l=o[3],u=o[4],d=o[7],y=new Uint32Array(n,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),T=y[1];if(4&T){const O=y[2];if(808540228!==O){const it=Dp[O],wn=new Uint8Array(n,128);return[new ia(wn,{format:it,width:u,height:l,levels:d})]}const H=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),Y=H[0],oe=H[1],me=H[2],Ge=H[3],Qe=Ad[Y];if(void 0===Qe)throw new Error(`DDSParser cannot parse texture data with DXGI format ${Y}`);if(4===me)throw new Error("DDSParser does not support cubemap textures");if(6===oe)throw new Error("DDSParser does not supported 3D texture data");const st=new Array,It=148;if(1===Ge)st.push(new Uint8Array(n,It));else{const it=Sl[Qe];let Dt=0,wn=u,vn=l;for(let Zt=0;Zt<d;Zt++)Dt+=Math.max(1,wn+3&-4)*Math.max(1,vn+3&-4)*it,wn>>>=1,vn>>>=1;let rn=It;for(let Zt=0;Zt<Ge;Zt++)st.push(new Uint8Array(n,rn,Dt)),rn+=Dt}return st.map(it=>new ia(it,{format:Qe,width:u,height:l,levels:d}))}throw 64&T?new Error("DDSParser does not support uncompressed texture data."):512&T?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&T?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&T?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}(yield(yield te.ADAPTER.fetch(n)).arrayBuffer()).map(y=>zi(new $t(y,{mipmap:Ie.OFF,alphaMode:ot.NO_PREMULTIPLIED_ALPHA,resolution:De(n),...e.data}),r,n));return 1===d.length?d[0]:d})(),unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};ht.add(Ap);const $u={extension:{type:re.LoadParser,priority:Bo.High},test:n=>Sa(n,".ktx"),load:(n,e,r)=>(0,Nn.Z)(function*(){const l=yield(yield te.ADAPTER.fetch(n)).arrayBuffer(),{compressed:u,uncompressed:d,kvData:y}=function xp(n,e,r=!1){const o=new DataView(e);if(!function Tp(n,e){for(let r=0;r<Md.length;r++)if(e.getUint8(r)!==Md[r])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}(n,o))return null;const l=67305985===o.getUint32(12,!0),u=o.getUint32(16,l),d=o.getUint32(24,l),y=o.getUint32(28,l),T=o.getUint32(36,l),O=o.getUint32(40,l)||1,B=o.getUint32(44,l)||1,H=o.getUint32(48,l)||1,Y=o.getUint32(52,l),oe=o.getUint32(56,l),me=o.getUint32(60,l);if(0===O||1!==B)throw new Error("Only 2D textures are supported");if(1!==Y)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==H)throw new Error("WebGL does not support array textures");const st=T+3&-4,It=O+3&-4,it=new Array(H);let wn,Dt=T*O;if(0===u&&(Dt=st*It),wn=0!==u?il[u]?il[u]*Cp[d]:Id[u]:Sl[y],void 0===wn)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const vn=r?function Rd(n,e,r){const o=new Map;let l=0;for(;l<e;){const u=n.getUint32(64+l,r),d=64+l+4,y=3-(u+3)%4;if(0===u||u>e-l){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let T=0;for(;T<u&&0!==n.getUint8(d+T);T++);if(-1===T){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const O=(new TextDecoder).decode(new Uint8Array(n.buffer,d,T)),B=new DataView(n.buffer,d+T+1,u-T-1);o.set(O,B),l+=4+u+y}return o}(o,me,l):null;let Zt=Dt*wn,In=T,jt=O,sn=st,ti=It,Bt=64+me;for(let Ht=0;Ht<oe;Ht++){const Ti=o.getUint32(Bt,l);let Qn=Bt+4;for(let Zn=0;Zn<H;Zn++){let _i=it[Zn];_i||(_i=it[Zn]=new Array(oe)),_i[Ht]={levelID:Ht,levelWidth:oe>1||0!==u?In:sn,levelHeight:oe>1||0!==u?jt:ti,levelBuffer:new Uint8Array(e,Qn,Zt)},Qn+=Zt}Bt+=Ti+4,Bt=Bt%4!=0?Bt+4-Bt%4:Bt,In=In>>1||1,jt=jt>>1||1,sn=In+4-1&-4,ti=jt+4-1&-4,Zt=sn*ti*wn}return 0!==u?{uncompressed:it.map(Ht=>{let Ti=Ht[0].levelBuffer,Qn=!1;return u===ue.FLOAT?Ti=new Float32Array(Ht[0].levelBuffer.buffer,Ht[0].levelBuffer.byteOffset,Ht[0].levelBuffer.byteLength/4):u===ue.UNSIGNED_INT?(Qn=!0,Ti=new Uint32Array(Ht[0].levelBuffer.buffer,Ht[0].levelBuffer.byteOffset,Ht[0].levelBuffer.byteLength/4)):u===ue.INT&&(Qn=!0,Ti=new Int32Array(Ht[0].levelBuffer.buffer,Ht[0].levelBuffer.byteOffset,Ht[0].levelBuffer.byteLength/4)),{resource:new Bn(Ti,{width:Ht[0].levelWidth,height:Ht[0].levelHeight}),type:u,format:Qn?Sp(d):d}}),kvData:vn}:{compressed:it.map(Ht=>new ia(null,{format:y,width:T,height:O,levels:oe,levelBuffers:Ht})),kvData:vn}}(n,l),T=u??d,O={mipmap:Ie.OFF,alphaMode:ot.NO_PREMULTIPLIED_ALPHA,resolution:De(n),...e.data},B=T.map(H=>{T===d&&Object.assign(O,{type:H.type,format:H.format});const Y=new $t(H,O);return Y.ktxKeyValueData=y,zi(Y,r,n)});return 1===B.length?B[0]:B})(),unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};ht.add($u);const Wu={extension:re.ResolveParser,test:n=>{const r=n.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:n=>{if("ktx"===n.split("?")[0].split(".").pop()){const o=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(o.some(l=>n.endsWith(l)))return{resolution:parseFloat(te.RETINA_PREFIX.exec(n)?.[1]??"1"),format:o.find(l=>n.endsWith(l)),src:n}}return{resolution:parseFloat(te.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n}}};ht.add(Wu);const Pd=new jn,Ia=class{constructor(n){this.renderer=n}image(n,e,r){var o=this;return(0,Nn.Z)(function*(){const l=new Image;return l.src=yield o.base64(n,e,r),l})()}base64(n,e,r){var o=this;return(0,Nn.Z)(function*(){const l=o.canvas(n);if(void 0!==l.toDataURL)return l.toDataURL(e,r);if(void 0!==l.convertToBlob){const u=yield l.convertToBlob({type:e,quality:r});return yield new Promise(d=>{const y=new FileReader;y.onload=()=>d(y.result),y.readAsDataURL(u)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")})()}canvas(n,e){const r=this.renderer;let o,u,l=!1,d=!1;n&&(n instanceof ns?u=n:(u=this.renderer.generateTexture(n),d=!0)),u?(o=u.baseTexture.resolution,e=e??u.frame,l=!1,r.renderTexture.bind(u)):(o=r.resolution,e||((e=Pd).width=r.width,e.height=r.height),l=!0,r.renderTexture.bind(null));const y=Math.round(e.width*o),T=Math.round(e.height*o);let O=new es(y,T,1);const B=new Uint8Array(4*y*T),H=r.gl;H.readPixels(Math.round(e.x*o),Math.round(e.y*o),y,T,H.RGBA,H.UNSIGNED_BYTE,B);const Y=O.context.getImageData(0,0,y,T);if(Ia.arrayPostDivide(B,Y.data),O.context.putImageData(Y,0,0),l){const oe=new es(O.width,O.height,1);oe.context.scale(1,-1),oe.context.drawImage(O.canvas,0,-T),O.destroy(),O=oe}return d&&u.destroy(!0),O.canvas}pixels(n,e){const r=this.renderer;let o,l,u=!1;n&&(n instanceof ns?l=n:(l=this.renderer.generateTexture(n),u=!0)),l?(o=l.baseTexture.resolution,e=e??l.frame,r.renderTexture.bind(l)):(o=r.resolution,e||((e=Pd).width=r.width,e.height=r.height),r.renderTexture.bind(null));const d=Math.round(e.width*o),y=Math.round(e.height*o),T=new Uint8Array(4*d*y),O=r.gl;return O.readPixels(Math.round(e.x*o),Math.round(e.y*o),d,y,O.RGBA,O.UNSIGNED_BYTE,T),u&&l.destroy(!0),Ia.arrayPostDivide(T,T),T}destroy(){this.renderer=null}static arrayPostDivide(n,e){for(let r=0;r<n.length;r+=4){const o=e[r+3]=n[r+3];0!==o?(e[r]=Math.round(Math.min(255*n[r]/o,255)),e[r+1]=Math.round(Math.min(255*n[r+1]/o,255)),e[r+2]=Math.round(Math.min(255*n[r+2]/o,255))):(e[r]=n[r],e[r+1]=n[r+1],e[r+2]=n[r+2])}}};let Od=Ia;Od.extension={name:"extract",type:re.RendererSystem},ht.add(Od);const Il={build(n){const e=n.points;let r,o,l,u,d,y;if(n.type===Ci.CIRC){const me=n.shape;r=me.x,o=me.y,d=y=me.radius,l=u=0}else if(n.type===Ci.ELIP){const me=n.shape;r=me.x,o=me.y,d=me.width,y=me.height,l=u=0}else{const me=n.shape,Ge=me.width/2,Qe=me.height/2;r=me.x+Ge,o=me.y+Qe,d=y=Math.max(0,Math.min(me.radius,Math.min(Ge,Qe))),l=Ge-d,u=Qe-y}if(!(d>=0&&y>=0&&l>=0&&u>=0))return void(e.length=0);const T=Math.ceil(2.3*Math.sqrt(d+y)),O=8*T+(l?4:0)+(u?4:0);if(e.length=O,0===O)return;if(0===T)return e.length=8,e[0]=e[6]=r+l,e[1]=e[3]=o+u,e[2]=e[4]=r-l,void(e[5]=e[7]=o-u);let B=0,H=4*T+(l?2:0)+2,Y=H,oe=O;{const me=l+d,Ge=u,Qe=r+me,st=r-me,It=o+Ge;if(e[B++]=Qe,e[B++]=It,e[--H]=It,e[--H]=st,u){const it=o-Ge;e[Y++]=st,e[Y++]=it,e[--oe]=it,e[--oe]=Qe}}for(let me=1;me<T;me++){const Ge=Math.PI/2*(me/T),Qe=l+Math.cos(Ge)*d,st=u+Math.sin(Ge)*y,It=r+Qe,it=r-Qe,Dt=o+st,wn=o-st;e[B++]=It,e[B++]=Dt,e[--H]=Dt,e[--H]=it,e[Y++]=it,e[Y++]=wn,e[--oe]=wn,e[--oe]=It}{const Ge=u+y,Qe=r+l,st=r-l,It=o+Ge,it=o-Ge;e[B++]=Qe,e[B++]=It,e[--oe]=it,e[--oe]=Qe,l&&(e[B++]=st,e[B++]=It,e[--oe]=it,e[--oe]=st)}},triangulate(n,e){const r=n.points,o=e.points,l=e.indices;if(0===r.length)return;let u=o.length/2;const d=u;let y,T;if(n.type!==Ci.RREC){const B=n.shape;y=B.x,T=B.y}else{const B=n.shape;y=B.x+B.width/2,T=B.y+B.height/2}const O=n.matrix;o.push(n.matrix?O.a*y+O.c*T+O.tx:y,n.matrix?O.b*y+O.d*T+O.ty:T),u++,o.push(r[0],r[1]);for(let B=2;B<r.length;B+=2)o.push(r[B],r[B+1]),l.push(u++,d,u);l.push(d+1,d,u)}};function Fd(n,e=!1){const r=n.length;if(r<6)return;let o=0;for(let l=0,u=n[r-2],d=n[r-1];l<r;l+=2){const y=n[l],T=n[l+1];o+=(y-u)*(T+d),u=y,d=T}if(!e&&o>0||e&&o<=0){const l=r/2;for(let u=l+l%2;u<r;u+=2){const d=r-u-2,y=r-u-1,T=u,O=u+1;[n[d],n[T]]=[n[T],n[d]],[n[y],n[O]]=[n[O],n[y]]}}}const Yu={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let r=n.points;const o=n.holes,l=e.points,u=e.indices;if(r.length>=6){Fd(r,!1);const d=[];for(let O=0;O<o.length;O++){const B=o[O];Fd(B.points,!0),d.push(r.length/2),r=r.concat(B.points)}const y=Be(r,d,2);if(!y)return;const T=l.length/2;for(let O=0;O<y.length;O+=3)u.push(y[O]+T),u.push(y[O+1]+T),u.push(y[O+2]+T);for(let O=0;O<r.length;O++)l.push(r[O])}}},Ld={build(n){const e=n.shape,r=e.x,o=e.y,l=e.width,u=e.height,d=n.points;d.length=0,l>=0&&u>=0&&d.push(r,o,r+l,o,r+l,o+u,r,o+u)},triangulate(n,e){const r=n.points,o=e.points;if(0===r.length)return;const l=o.length/2;o.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(l,l+1,l+2,l+1,l+2,l+3)}},Xu={build(n){Il.build(n)},triangulate(n,e){Il.triangulate(n,e)}};var sa=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(sa||{}),Hs=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(Hs||{});const ps={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let r=Math.ceil(n/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Ku{static curveTo(e,r,o,l,u,d){const O=d[d.length-1]-r,B=d[d.length-2]-e,H=l-r,Y=o-e,oe=Math.abs(O*Y-B*H);if(oe<1e-8||0===u)return(d[d.length-2]!==e||d[d.length-1]!==r)&&d.push(e,r),null;const me=O*O+B*B,Ge=H*H+Y*Y,Qe=O*H+B*Y,st=u*Math.sqrt(me)/oe,It=u*Math.sqrt(Ge)/oe,it=st*Qe/me,Dt=It*Qe/Ge,wn=st*Y+It*B,vn=st*H+It*O,In=Y*(st+Dt),jt=H*(st+Dt);return{cx:wn+e,cy:vn+r,radius:u,startAngle:Math.atan2(O*(It+it)-vn,B*(It+it)-wn),endAngle:Math.atan2(jt-vn,In-wn),anticlockwise:B*H>Y*O}}static arc(e,r,o,l,u,d,y,T,O){const B=y-d,H=ps._segmentsCount(Math.abs(B)*u,40*Math.ceil(Math.abs(B)/Ns)),Y=B/(2*H),oe=2*Y,me=Math.cos(Y),Ge=Math.sin(Y),Qe=H-1,st=Qe%1/Qe;for(let It=0;It<=Qe;++It){const Dt=Y+d+oe*(It+st*It),wn=Math.cos(Dt),vn=-Math.sin(Dt);O.push((me*wn+Ge*vn)*u+o,(me*-vn+Ge*wn)*u+l)}}}class Zu{static curveLength(e,r,o,l,u,d,y,T){let B=0,H=0,Y=0,oe=0,me=0,Ge=0,Qe=0,st=0,It=0,it=0,Dt=0,wn=e,vn=r;for(let rn=1;rn<=10;++rn)H=rn/10,Y=H*H,oe=Y*H,me=1-H,Ge=me*me,Qe=Ge*me,st=Qe*e+3*Ge*H*o+3*me*Y*u+oe*y,It=Qe*r+3*Ge*H*l+3*me*Y*d+oe*T,it=wn-st,Dt=vn-It,wn=st,vn=It,B+=Math.sqrt(it*it+Dt*Dt);return B}static curveTo(e,r,o,l,u,d,y){const T=y[y.length-2],O=y[y.length-1];y.length-=2;const B=ps._segmentsCount(Zu.curveLength(T,O,e,r,o,l,u,d));let H=0,Y=0,oe=0,me=0,Ge=0;y.push(T,O);for(let Qe=1,st=0;Qe<=B;++Qe)st=Qe/B,H=1-st,Y=H*H,oe=Y*H,me=st*st,Ge=me*st,y.push(oe*T+3*Y*st*e+3*H*me*o+Ge*u,oe*O+3*Y*st*r+3*H*me*l+Ge*d)}}function Mp(n,e,r,o,l,u,d,y){let Y,oe;d?(Y=o,oe=-r):(Y=-o,oe=r);const Qe=n+r*u+Y,st=e+o*u+oe;return y.push(n-r*l+Y,e-o*l+oe),y.push(Qe,st),2}function oa(n,e,r,o,l,u,d,y){const T=r-n,O=o-e;let B=Math.atan2(T,O),H=Math.atan2(l-n,u-e);y&&B<H?B+=2*Math.PI:!y&&B>H&&(H+=2*Math.PI);let Y=B;const oe=H-B,me=Math.abs(oe),Ge=Math.sqrt(T*T+O*O),Qe=1+(15*me*Math.sqrt(Ge)/Math.PI>>0),st=oe/Qe;if(Y+=st,y){d.push(n,e),d.push(r,o);for(let It=1,it=Y;It<Qe;It++,it+=st)d.push(n,e),d.push(n+Math.sin(it)*Ge,e+Math.cos(it)*Ge);d.push(n,e),d.push(l,u)}else{d.push(r,o),d.push(n,e);for(let It=1,it=Y;It<Qe;It++,it+=st)d.push(n+Math.sin(it)*Ge,e+Math.cos(it)*Ge),d.push(n,e);d.push(l,u),d.push(n,e)}return 2*Qe}function Cc(n,e){n.lineStyle.native?function Nd(n,e){let r=0;const o=n.shape,l=n.points||o.points,u=o.type!==Ci.POLY||o.closeStroke;if(0===l.length)return;const d=e.points,y=e.indices,T=l.length/2,O=d.length/2;let B=O;for(d.push(l[0],l[1]),r=1;r<T;r++)d.push(l[2*r],l[2*r+1]),y.push(B,B+1),B++;u&&y.push(B,O)}(n,e):function lm(n,e){const r=n.shape;let o=n.points||r.points.slice();const l=e.closePointEps;if(0===o.length)return;const u=n.lineStyle,d=new On(o[0],o[1]),y=new On(o[o.length-2],o[o.length-1]),T=r.type!==Ci.POLY||r.closeStroke,O=Math.abs(d.x-y.x)<l&&Math.abs(d.y-y.y)<l;if(T){o=o.slice(),O&&(o.pop(),o.pop(),y.set(o[o.length-2],o[o.length-1]));const Zn=.5*(d.x+y.x),_i=.5*(y.y+d.y);o.unshift(Zn,_i),o.push(Zn,_i)}const B=e.points,H=o.length/2;let Y=o.length;const oe=B.length/2,me=u.width/2,Ge=me*me,Qe=u.miterLimit*u.miterLimit;let st=o[0],It=o[1],it=o[2],Dt=o[3],wn=0,vn=0,rn=-(It-Dt),Zt=st-it,In=0,jt=0,sn=Math.sqrt(rn*rn+Zt*Zt);rn/=sn,Zt/=sn,rn*=me,Zt*=me;const ti=u.alignment,Bt=2*(1-ti),Ht=2*ti;T||(u.cap===Hs.ROUND?Y+=oa(st-rn*(Bt-Ht)*.5,It-Zt*(Bt-Ht)*.5,st-rn*Bt,It-Zt*Bt,st+rn*Ht,It+Zt*Ht,B,!0)+2:u.cap===Hs.SQUARE&&(Y+=Mp(st,It,rn,Zt,Bt,Ht,!0,B))),B.push(st-rn*Bt,It-Zt*Bt),B.push(st+rn*Ht,It+Zt*Ht);for(let Zn=1;Zn<H-1;++Zn){st=o[2*(Zn-1)],It=o[2*(Zn-1)+1],it=o[2*Zn],Dt=o[2*Zn+1],wn=o[2*(Zn+1)],vn=o[2*(Zn+1)+1],rn=-(It-Dt),Zt=st-it,sn=Math.sqrt(rn*rn+Zt*Zt),rn/=sn,Zt/=sn,rn*=me,Zt*=me,In=-(Dt-vn),jt=it-wn,sn=Math.sqrt(In*In+jt*jt),In/=sn,jt/=sn,In*=me,jt*=me;const _i=it-st,ui=It-Dt,Uc=it-wn,Vl=vn-Dt,af=_i*Uc+ui*Vl,Hc=ui*Uc-Vl*_i,jl=Hc<0;if(Math.abs(Hc)<.001*Math.abs(af)){B.push(it-rn*Bt,Dt-Zt*Bt),B.push(it+rn*Ht,Dt+Zt*Ht),af>=0&&(Y+=u.join===sa.ROUND?oa(it,Dt,it-rn*Bt,Dt-Zt*Bt,it-In*Bt,Dt-jt*Bt,B,!1)+4:2,B.push(it-In*Ht,Dt-jt*Ht),B.push(it+In*Bt,Dt+jt*Bt));continue}const lf=(-rn+st)*(-Zt+Dt)-(-rn+it)*(-Zt+It),cf=(-In+wn)*(-jt+Dt)-(-In+it)*(-jt+vn),Gc=(_i*cf-Uc*lf)/Hc,zl=(Vl*lf-ui*cf)/Hc,$l=(Gc-it)*(Gc-it)+(zl-Dt)*(zl-Dt),Fa=it+(Gc-it)*Bt,Uo=Dt+(zl-Dt)*Bt,La=it-(Gc-it)*Ht,Na=Dt-(zl-Dt)*Ht,uf=jl?Bt:Ht;$l<=Math.min(_i*_i+ui*ui,Uc*Uc+Vl*Vl)+uf*uf*Ge?u.join===sa.BEVEL||$l/Ge>Qe?(jl?(B.push(Fa,Uo),B.push(it+rn*Ht,Dt+Zt*Ht),B.push(Fa,Uo),B.push(it+In*Ht,Dt+jt*Ht)):(B.push(it-rn*Bt,Dt-Zt*Bt),B.push(La,Na),B.push(it-In*Bt,Dt-jt*Bt),B.push(La,Na)),Y+=2):u.join===sa.ROUND?jl?(B.push(Fa,Uo),B.push(it+rn*Ht,Dt+Zt*Ht),Y+=oa(it,Dt,it+rn*Ht,Dt+Zt*Ht,it+In*Ht,Dt+jt*Ht,B,!0)+4,B.push(Fa,Uo),B.push(it+In*Ht,Dt+jt*Ht)):(B.push(it-rn*Bt,Dt-Zt*Bt),B.push(La,Na),Y+=oa(it,Dt,it-rn*Bt,Dt-Zt*Bt,it-In*Bt,Dt-jt*Bt,B,!1)+4,B.push(it-In*Bt,Dt-jt*Bt),B.push(La,Na)):(B.push(Fa,Uo),B.push(La,Na)):(B.push(it-rn*Bt,Dt-Zt*Bt),B.push(it+rn*Ht,Dt+Zt*Ht),u.join===sa.ROUND?Y+=jl?oa(it,Dt,it+rn*Ht,Dt+Zt*Ht,it+In*Ht,Dt+jt*Ht,B,!0)+2:oa(it,Dt,it-rn*Bt,Dt-Zt*Bt,it-In*Bt,Dt-jt*Bt,B,!1)+2:u.join===sa.MITER&&$l/Ge<=Qe&&(jl?(B.push(La,Na),B.push(La,Na)):(B.push(Fa,Uo),B.push(Fa,Uo)),Y+=2),B.push(it-In*Bt,Dt-jt*Bt),B.push(it+In*Ht,Dt+jt*Ht),Y+=2)}st=o[2*(H-2)],It=o[2*(H-2)+1],it=o[2*(H-1)],Dt=o[2*(H-1)+1],rn=-(It-Dt),Zt=st-it,sn=Math.sqrt(rn*rn+Zt*Zt),rn/=sn,Zt/=sn,rn*=me,Zt*=me,B.push(it-rn*Bt,Dt-Zt*Bt),B.push(it+rn*Ht,Dt+Zt*Ht),T||(u.cap===Hs.ROUND?Y+=oa(it-rn*(Bt-Ht)*.5,Dt-Zt*(Bt-Ht)*.5,it-rn*Bt,Dt-Zt*Bt,it+rn*Ht,Dt+Zt*Ht,B,!1)+2:u.cap===Hs.SQUARE&&(Y+=Mp(it,Dt,rn,Zt,Bt,Ht,!1,B)));const Ti=e.indices,Qn=ps.epsilon*ps.epsilon;for(let Zn=oe;Zn<Y+oe-2;++Zn)st=B[2*Zn],It=B[2*Zn+1],it=B[2*(Zn+1)],Dt=B[2*(Zn+1)+1],wn=B[2*(Zn+2)],vn=B[2*(Zn+2)+1],!(Math.abs(st*(Dt-vn)+it*(vn-It)+wn*(It-Dt))<Qn)&&Ti.push(Zn,Zn+1,Zn+2)}(n,e)}class xc{static curveLength(e,r,o,l,u,d){const y=e-2*o+u,T=r-2*l+d,O=2*o-2*e,B=2*l-2*r,H=4*(y*y+T*T),Y=4*(y*O+T*B),oe=O*O+B*B,me=2*Math.sqrt(H+Y+oe),Ge=Math.sqrt(H),Qe=2*H*Ge,st=2*Math.sqrt(oe),It=Y/Ge;return(Qe*me+Ge*Y*(me-st)+(4*oe*H-Y*Y)*Math.log((2*Ge+It+me)/(It+st)))/(4*Qe)}static curveTo(e,r,o,l,u){const d=u[u.length-2],y=u[u.length-1],T=ps._segmentsCount(xc.curveLength(d,y,e,r,o,l));let O=0,B=0;for(let H=1;H<=T;++H){const Y=H/T;O=d+(e-d)*Y,B=y+(r-y)*Y,u.push(O+(e+(o-e)*Y-O)*Y,B+(r+(l-r)*Y-B)*Y)}}}const Rl={[Ci.POLY]:Yu,[Ci.CIRC]:Il,[Ci.ELIP]:Il,[Ci.RECT]:Ld,[Ci.RREC]:Xu},qu=[],Pl=[];class gs{constructor(e,r=null,o=null,l=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=o,this.fillStyle=r,this.matrix=l,this.type=e.type}clone(){return new gs(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class kd{constructor(){this.reset()}begin(e,r,o){this.reset(),this.style=e,this.start=r,this.attribStart=o}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const Ra=new On,Bd=class extends mi{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Eo,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Pl.push(this.drawCalls[n]);this.drawCalls.length=0;for(let n=0;n<this.batches.length;n++){const e=this.batches[n];e.reset(),qu.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(n,e=null,r=null,o=null){const l=new gs(n,e,r,o);return this.graphicsData.push(l),this.dirty++,this}drawHole(n,e=null){if(!this.graphicsData.length)return null;const r=new gs(n,null,null,e),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(n){const e=this.graphicsData;for(let r=0;r<e.length;++r){const o=e[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(n,Ra):Ra.copyFrom(n),o.shape.contains(Ra.x,Ra.y))){let l=!1;if(o.holes)for(let u=0;u<o.holes.length;u++)if(o.holes[u].shape.contains(Ra.x,Ra.y)){l=!0;break}if(!l)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const n=this.uvs,e=this.graphicsData;let r=null,o=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],o=r.style);for(let y=this.shapeIndex;y<e.length;y++){this.shapeIndex++;const T=e[y],O=T.fillStyle,B=T.lineStyle;Rl[T.type].build(T),T.matrix&&this.transformPoints(T.points,T.matrix),(O.visible||B.visible)&&this.processHoles(T.holes);for(let Y=0;Y<2;Y++){const oe=0===Y?O:B;if(!oe.visible)continue;const Ge=this.indices.length,Qe=this.points.length/2;oe.texture.baseTexture.wrapMode=Re.REPEAT,0===Y?this.processFill(T):this.processLine(T);const st=this.points.length/2-Qe;0!==st&&(r&&!this._compareStyles(o,oe)&&(r.end(Ge,Qe),r=null),r||(r=qu.pop()||new kd,r.begin(oe,Ge,Qe),this.batches.push(r),o=oe),this.addUvs(this.points,n,oe.texture,Qe,st,oe.matrix))}}const u=this.points.length/2;if(r&&r.end(this.indices.length,u),0===this.batches.length)return void(this.batchable=!0);const d=u>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(n,e){return!(!n||!e||n.texture.baseTexture!==e.texture.baseTexture||n.color+n.alpha!==e.color+e.alpha||!!n.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let n=0,e=this.graphicsData.length;n<e;n++){const r=this.graphicsData[n],o=r.fillStyle,l=r.lineStyle;if(o&&!o.texture.baseTexture.valid||l&&!l.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const n=this.batches;for(let e=0,r=n.length;e<r;e++){const o=n[e];for(let l=0;l<o.size;l++){const u=o.start+l;this.indicesUint16[u]=this.indicesUint16[u]-o.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const n=this.batches;for(let e=0;e<n.length;e++)if(n[e].style.native)return!1;return this.points.length<2*Bd.BATCHABLE_SIZE}buildDrawCalls(){let n=++$t._globalBatch;for(let B=0;B<this.drawCalls.length;B++)this.drawCalls[B].texArray.clear(),Pl.push(this.drawCalls[B]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let o=Pl.pop();o||(o=new Ai,o.texArray=new Qi),o.texArray.count=0,o.start=0,o.size=0,o.type=se.TRIANGLES;let l=0,u=null,d=0,y=!1,T=se.TRIANGLES,O=0;this.drawCalls.push(o);for(let B=0;B<this.batches.length;B++){const H=this.batches[B],Y=8,oe=H.style,me=oe.texture.baseTexture;y!==!!oe.native&&(y=!!oe.native,T=y?se.LINES:se.TRIANGLES,u=null,l=Y,n++),u!==me&&(u=me,me._batchEnabled!==n&&(l===Y&&(n++,l=0,o.size>0&&(o=Pl.pop(),o||(o=new Ai,o.texArray=new Qi),this.drawCalls.push(o)),o.start=O,o.size=0,o.texArray.count=0,o.type=T),me.touched=1,me._batchEnabled=n,me._batchLocation=l,me.wrapMode=Re.REPEAT,o.texArray.elements[o.texArray.count++]=me,l++)),o.size+=H.size,O+=H.size,d=me._batchLocation,this.addColors(e,oe.color,oe.alpha,H.attribSize,H.attribStart),this.addTextureIds(r,d,H.attribSize,H.attribStart)}$t._globalBatch=n,this.packAttributes()}packAttributes(){const n=this.points,e=this.uvs,r=this.colors,o=this.textureIds,l=new ArrayBuffer(3*n.length*4),u=new Float32Array(l),d=new Uint32Array(l);let y=0;for(let T=0;T<n.length/2;T++)u[y++]=n[2*T],u[y++]=n[2*T+1],u[y++]=e[2*T],u[y++]=e[2*T+1],d[y++]=r[T],u[y++]=o[T];this._buffer.update(l),this._indexBuffer.update(this.indicesUint16)}processFill(n){n.holes.length?Yu.triangulate(n,this):Rl[n.type].triangulate(n,this)}processLine(n){Cc(n,this);for(let e=0;e<n.holes.length;e++)Cc(n.holes[e],this)}processHoles(n){for(let e=0;e<n.length;e++){const r=n[e];Rl[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const n=this._bounds;n.clear(),n.addVertexData(this.points,0,this.points.length),n.pad(this.boundsPadding,this.boundsPadding)}transformPoints(n,e){for(let r=0;r<n.length/2;r++){const o=n[2*r],l=n[2*r+1];n[2*r]=e.a*o+e.c*l+e.tx,n[2*r+1]=e.b*o+e.d*l+e.ty}}addColors(n,e,r,o,l=0){const d=wr((e>>16)+(65280&e)+((255&e)<<16),r);n.length=Math.max(n.length,l+o);for(let y=0;y<o;y++)n[l+y]=d}addTextureIds(n,e,r,o=0){n.length=Math.max(n.length,o+r);for(let l=0;l<r;l++)n[o+l]=e}addUvs(n,e,r,o,l,u=null){let d=0;const y=e.length,T=r.frame;for(;d<l;){let B=n[2*(o+d)],H=n[2*(o+d)+1];if(u){const Y=u.a*B+u.c*H+u.tx;H=u.b*B+u.d*H+u.ty,B=Y}d++,e.push(B/T.width,H/T.height)}const O=r.baseTexture;(T.width<O.width||T.height<O.height)&&this.adjustUvs(e,r,y,l)}adjustUvs(n,e,r,o){const l=e.baseTexture,u=1e-6,d=r+2*o,y=e.frame,T=y.width/l.width,O=y.height/l.height;let B=y.x/y.width,H=y.y/y.height,Y=Math.floor(n[r]+u),oe=Math.floor(n[r+1]+u);for(let me=r+2;me<d;me+=2)Y=Math.min(Y,Math.floor(n[me]+u)),oe=Math.min(oe,Math.floor(n[me+1]+u));B-=Y,H-=oe;for(let me=r;me<d;me+=2)n[me]=(n[me]+B)*T,n[me+1]=(n[me+1]+H)*O}};let Ud=Bd;Ud.BATCHABLE_SIZE=100;class Tc{constructor(){this.color=16777215,this.alpha=1,this.texture=hn.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Tc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=hn.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Qu extends Tc{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Hs.BUTT,this.join=sa.MITER,this.miterLimit=10}clone(){const e=new Qu;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Hd=new Float32Array(3),Ju={},Sc=class extends Us{constructor(n=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Tc,this._lineStyle=new Qu,this._matrix=null,this._holeMode=!1,this.state=Je.for2d(),this._geometry=n||new Ud,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=le.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Sc(this._geometry)}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(n){this._tint=n}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(n=null,e=0,r=1,o=.5,l=!1){return"number"==typeof n&&(n={width:n,color:e,alpha:r,alignment:o,native:l}),this.lineTextureStyle(n)}lineTextureStyle(n){n=Object.assign({width:0,texture:hn.WHITE,color:n?.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Hs.BUTT,join:sa.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();const e=n.width>0&&n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:e},n)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const n=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Io,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[e-2],n[e-1]))}else this.currentPath=new Io,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(n,e){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=e,this}lineTo(n,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points;return(r[r.length-2]!==n||r[r.length-1]!==e)&&r.push(n,e),this}_initCurve(n=0,e=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[n,e]):this.moveTo(n,e)}quadraticCurveTo(n,e,r,o){this._initCurve();const l=this.currentPath.points;return 0===l.length&&this.moveTo(0,0),xc.curveTo(n,e,r,o,l),this}bezierCurveTo(n,e,r,o,l,u){return this._initCurve(),Zu.curveTo(n,e,r,o,l,u,this.currentPath.points),this}arcTo(n,e,r,o,l){this._initCurve(n,e);const d=Ku.curveTo(n,e,r,o,l,this.currentPath.points);if(d){const{cx:y,cy:T,radius:O,startAngle:B,endAngle:H,anticlockwise:Y}=d;this.arc(y,T,O,B,H,Y)}return this}arc(n,e,r,o,l,u=!1){if(o===l)return this;if(!u&&l<=o?l+=Ns:u&&o<=l&&(o+=Ns),l-o==0)return this;const y=n+Math.cos(o)*r,T=e+Math.sin(o)*r,O=this._geometry.closePointEps;let B=this.currentPath?this.currentPath.points:null;if(B){const H=Math.abs(B[B.length-2]-y),Y=Math.abs(B[B.length-1]-T);H<O&&Y<O||B.push(y,T)}else this.moveTo(y,T),B=this.currentPath.points;return Ku.arc(y,T,n,e,r,o,l,u,B),this}beginFill(n=0,e=1){return this.beginTextureFill({texture:hn.WHITE,color:n,alpha:e})}beginTextureFill(n){n=Object.assign({texture:hn.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();const e=n.alpha>0;return e?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:e},n)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(n,e,r,o){return this.drawShape(new jn(n,e,r,o))}drawRoundedRect(n,e,r,o,l){return this.drawShape(new ga(n,e,r,o,l))}drawCircle(n,e,r){return this.drawShape(new Ko(n,e,r))}drawEllipse(n,e,r,o){return this.drawShape(new Zo(n,e,r,o))}drawPolygon(...n){let e,r=!0;const o=n[0];o.points?(r=o.closeStroke,e=o.points):e=Array.isArray(n[0])?n[0]:n;const l=new Io(e);return l.closeStroke=r,this.drawShape(l),this}drawShape(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const n=this._geometry.graphicsData;return!(1!==n.length||n[0].shape.type!==Ci.RECT||n[0].matrix||n[0].holes.length||n[0].lineStyle.visible&&n[0].lineStyle.width)}_render(n){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))}_populateBatches(){const n=this._geometry,e=this.blendMode,r=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(n.points);for(let o=0;o<r;o++){const l=n.batches[o],u=l.style.color,d=new Float32Array(this.vertexData.buffer,4*l.attribStart*2,2*l.attribSize),y=new Float32Array(n.uvsFloat32.buffer,4*l.attribStart*2,2*l.attribSize),O={vertexData:d,blendMode:e,indices:new Uint16Array(n.indicesUint16.buffer,2*l.start,l.size),uvs:y,_batchRGB:Ks(u),_tintRGB:u,_texture:l.style.texture,alpha:l.style.alpha,worldAlpha:1};this.batches[o]=O}}_renderBatched(n){if(this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const o=this.batches[e];o.worldAlpha=this.worldAlpha*o.alpha,n.plugins[this.pluginName].render(o)}}}_renderDirect(n){const e=this._resolveDirectShader(n),r=this._geometry,o=this.tint,l=this.worldAlpha,u=e.uniforms,d=r.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(o>>16&255)/255*l,u.tint[1]=(o>>8&255)/255*l,u.tint[2]=(255&o)/255*l,u.tint[3]=l,n.shader.bind(e),n.geometry.bind(r,e),n.state.set(this.state);for(let y=0,T=d.length;y<T;y++)this._renderDrawCallDirect(n,r.drawCalls[y])}_renderDrawCallDirect(n,e){const{texArray:r,type:o,size:l,start:u}=e,d=r.count;for(let y=0;y<d;y++)n.texture.bind(r.elements[y],y);n.geometry.draw(o,l,u)}_resolveDirectShader(n){let e=this.shader;const r=this.pluginName;if(!e){if(!Ju[r]){const{maxTextures:o}=n.plugins[r],l=new Int32Array(o);for(let y=0;y<o;y++)l[y]=y;const u={tint:new Float32Array([1,1,1,1]),translationMatrix:new xi,default:Nr.from({uSamplers:l},!0)};Ju[r]=new eo(n.plugins[r]._shader.program,u)}e=Ju[r]}return e}_calculateBounds(){this.finishPoly();const n=this._geometry;if(!n.graphicsData.length)return;const{minX:e,minY:r,maxX:o,maxY:l}=n.bounds;this._bounds.addFrame(this.transform,e,r,o,l)}containsPoint(n){return this.worldTransform.applyInverse(n,Sc._TEMP_POINT),this._geometry.containsPoint(Sc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const n=Ks(this.tint,Hd);for(let e=0;e<this.batches.length;e++){const r=this.batches[e],o=r._batchRGB,y=(n[0]*o[0]*255<<16)+(n[1]*o[1]*255<<8)+(0|n[2]*o[2]*255);r._tintRGB=(y>>16)+(65280&y)+((255&y)<<16)}}}calculateVertices(){const n=this.transform._worldID;if(this._transformID===n)return;this._transformID=n;const e=this.transform.worldTransform,r=e.a,o=e.b,l=e.c,u=e.d,d=e.tx,y=e.ty,T=this._geometry.points,O=this.vertexData;let B=0;for(let H=0;H<T.length;H+=2){const Y=T[H],oe=T[H+1];O[B++]=r*Y+l*oe+d,O[B++]=u*oe+o*Y+y}}closePath(){const n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this}setMatrix(n){return this._matrix=n,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(n){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(n)}};let Ac=Sc;Ac.curves=ps,Ac._TEMP_POINT=new On;class Gd{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Mc=new On,eh=new Io,Vd=class extends Us{constructor(n,e,r,o=se.TRIANGLES){super(),this.geometry=n,this.shader=e,this.state=r||Je.for2d(),this.drawMode=o,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=te.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(n){this.shader=n}get material(){return this.shader}set blendMode(n){this.state.blendMode=n}get blendMode(){return this.state.blendMode}set roundPixels(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(n){this.shader.tint=n}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(n){this.shader.texture=n}_render(n){this.shader.batchable&&this.drawMode===se.TRIANGLES&&this.geometry.buffers[0].data.length<2*Vd.BATCHABLE_SIZE?this._renderToBatch(n):this._renderDefault(n)}_renderDefault(n){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),n.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(e),n.state.set(this.state),n.geometry.bind(this.geometry,e),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(n){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const o=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[o]),n.plugins[o].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,o=e._updateID;if(o===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const l=this.transform.worldTransform,u=l.a,d=l.b,y=l.c,T=l.d,O=l.tx,B=l.ty,H=this.vertexData;for(let Y=0;Y<H.length/2;Y++){const oe=r[2*Y],me=r[2*Y+1];H[2*Y]=u*oe+y*me+O,H[2*Y+1]=d*oe+T*me+B}if(this._roundPixels){const Y=te.RESOLUTION;for(let oe=0;oe<H.length;++oe)H[oe]=Math.round(H[oe]*Y)/Y}this.vertexDirty=o}calculateUvs(){const n=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new Gd(n,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,Mc);const e=this.geometry.getBuffer("aVertexPosition").data,r=eh.points,o=this.geometry.getIndex().data,l=o.length,u=4===this.drawMode?3:1;for(let d=0;d+2<l;d+=u){const y=2*o[d],T=2*o[d+1],O=2*o[d+2];if(r[0]=e[y],r[1]=e[y+1],r[2]=e[T],r[3]=e[T+1],r[4]=e[O],r[5]=e[O+1],eh.contains(Mc.x,Mc.y))return!0}return!1}destroy(n){super.destroy(n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let th=Vd;th.BATCHABLE_SIZE=100;class jd extends Ki{constructor(e,r,o){super();const l=new Ft(e),u=new Ft(r,!0),d=new Ft(o,!0,!0);this.addAttribute("aVertexPosition",l,2,!1,ue.FLOAT).addAttribute("aTextureCoord",u,2,!1,ue.FLOAT).addIndex(d),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class $d extends eo{constructor(e,r){const o={uSampler:e,alpha:1,uTextureMatrix:xi.IDENTITY,uColor:new Float32Array([1,1,1,1])};(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(o,r.uniforms),super(r.program||xs.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o),this._colorDirty=!1,this.uvMatrix=new lu(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){this._colorDirty&&(this._colorDirty=!1,Zs(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Xd{constructor(e,r,o){this.geometry=new Ki,this.indexBuffer=null,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(let l=0;l<e.length;++l){let u=e[l];u={attributeName:u.attributeName,size:u.size,uploadFunction:u.uploadFunction,type:u.type||ue.FLOAT,offset:u.offset},r[l]?this.dynamicProperties.push(u):this.staticProperties.push(u)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ft(function Ua(n,e=null){const r=6*n;if((e=e||new Uint16Array(r)).length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let o=0,l=0;o<r;o+=6,l+=4)e[o+0]=l+0,e[o+1]=l+1,e[o+2]=l+2,e[o+3]=l+0,e[o+4]=l+2,e[o+5]=l+3;return e}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let d=0;d<this.dynamicProperties.length;++d){const y=this.dynamicProperties[d];y.offset=r,r+=y.size,this.dynamicStride+=y.size}const o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);let l=0;this.staticStride=0;for(let d=0;d<this.staticProperties.length;++d){const y=this.staticProperties[d];y.offset=l,l+=y.size,this.staticStride+=y.size}const u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Ft(this.staticData,!0,!1);for(let d=0;d<this.dynamicProperties.length;++d){const y=this.dynamicProperties[d];e.addAttribute(y.attributeName,this.dynamicBuffer,0,y.type===ue.UNSIGNED_BYTE,y.type,4*this.dynamicStride,4*y.offset)}for(let d=0;d<this.staticProperties.length;++d){const y=this.staticProperties[d];e.addAttribute(y.attributeName,this.staticBuffer,0,y.type===ue.UNSIGNED_BYTE,y.type,4*this.staticStride,4*y.offset)}}uploadDynamic(e,r,o){for(let l=0;l<this.dynamicProperties.length;l++){const u=this.dynamicProperties[l];u.uploadFunction(e,r,o,u.type===ue.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,u.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,o){for(let l=0;l<this.staticProperties.length;l++){const u=this.staticProperties[l];u.uploadFunction(e,r,o,u.type===ue.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,u.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class Pp extends za{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new xi,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ue.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=eo.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=Je.for2d()}render(e){const r=e.children,o=e._maxSize,l=e._batchSize,u=this.renderer;let d=r.length;if(0===d)return;d>o&&!e.autoResize&&(d=o);let y=e._buffers;y||(y=e._buffers=this.generateBuffers(e));const T=r[0]._texture.baseTexture,O=T.alphaMode>0;this.state.blendMode=ws(e.blendMode,O),u.state.set(this.state);const B=u.gl,H=e.worldTransform.copyTo(this.tempMatrix);H.prepend(u.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=H.toArray(!0),this.shader.uniforms.uColor=function ho(n,e,r,o){return r=r||new Float32Array(4),o||void 0===o?(r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e):(r[0]=n[0],r[1]=n[1],r[2]=n[2]),r[3]=e,r}(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,O),this.shader.uniforms.uSampler=T,this.renderer.shader.bind(this.shader);let Y=!1;for(let oe=0,me=0;oe<d;oe+=l,me+=1){let Ge=d-oe;Ge>l&&(Ge=l),me>=y.length&&y.push(this._generateOneMoreBuffer(e));const Qe=y[me];Qe.uploadDynamic(r,oe,Ge),Y=Y||Qe._updateID<(e._bufferUpdateIDs[me]||0),Y&&(Qe._updateID=e._updateID,Qe.uploadStatic(r,oe,Ge)),u.geometry.bind(Qe.geometry),B.drawElements(B.TRIANGLES,6*Ge,B.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],o=e._maxSize,l=e._batchSize,u=e._properties;for(let d=0;d<o;d+=l)r.push(new Xd(this.properties,u,l));return r}_generateOneMoreBuffer(e){return new Xd(this.properties,e._properties,e._batchSize)}uploadVertices(e,r,o,l,u,d){let y=0,T=0,O=0,B=0;for(let H=0;H<o;++H){const Y=e[r+H],oe=Y._texture,me=Y.scale.x,Ge=Y.scale.y,Qe=oe.trim,st=oe.orig;Qe?(T=Qe.x-Y.anchor.x*st.width,y=T+Qe.width,B=Qe.y-Y.anchor.y*st.height,O=B+Qe.height):(y=st.width*(1-Y.anchor.x),T=st.width*-Y.anchor.x,O=st.height*(1-Y.anchor.y),B=st.height*-Y.anchor.y),l[d]=T*me,l[d+1]=B*Ge,l[d+u]=y*me,l[d+u+1]=B*Ge,l[d+2*u]=y*me,l[d+2*u+1]=O*Ge,l[d+3*u]=T*me,l[d+3*u+1]=O*Ge,d+=4*u}}uploadPosition(e,r,o,l,u,d){for(let y=0;y<o;y++){const T=e[r+y].position;l[d]=T.x,l[d+1]=T.y,l[d+u]=T.x,l[d+u+1]=T.y,l[d+2*u]=T.x,l[d+2*u+1]=T.y,l[d+3*u]=T.x,l[d+3*u+1]=T.y,d+=4*u}}uploadRotation(e,r,o,l,u,d){for(let y=0;y<o;y++){const T=e[r+y].rotation;l[d]=T,l[d+u]=T,l[d+2*u]=T,l[d+3*u]=T,d+=4*u}}uploadUvs(e,r,o,l,u,d){for(let y=0;y<o;++y){const T=e[r+y]._texture._uvs;T?(l[d]=T.x0,l[d+1]=T.y0,l[d+u]=T.x1,l[d+u+1]=T.y1,l[d+2*u]=T.x2,l[d+2*u+1]=T.y2,l[d+3*u]=T.x3,l[d+3*u+1]=T.y3,d+=4*u):(l[d]=0,l[d+1]=0,l[d+u]=0,l[d+u+1]=0,l[d+2*u]=0,l[d+2*u+1]=0,l[d+3*u]=0,l[d+3*u+1]=0,d+=4*u)}}uploadTint(e,r,o,l,u,d){for(let y=0;y<o;++y){const T=e[r+y],B=T.alpha,H=B<1&&T._texture.baseTexture.alphaMode>0?wr(T._tintRGB,B):T._tintRGB+(255*B<<24);l[d]=H,l[d+u]=H,l[d+2*u]=H,l[d+3*u]=H,d+=4*u}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Pp.extension={name:"particle",type:re.RendererPlugin},ht.add(Pp);var Ic=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(Ic||{});const Fl={willReadFrequently:!0},yn=class{static get experimentalLetterSpacingSupported(){let n=yn._experimentalLetterSpacingSupported;if(void 0!==n){const e=te.ADAPTER.getCanvasRenderingContext2D().prototype;n=yn._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return n}constructor(n,e,r,o,l,u,d,y,T){this.text=n,this.style=e,this.width=r,this.height=o,this.lines=l,this.lineWidths=u,this.lineHeight=d,this.maxLineWidth=y,this.fontProperties=T}static measureText(n,e,r,o=yn._canvas){r=r??e.wordWrap;const l=e.toFontString(),u=yn.measureFont(l);0===u.fontSize&&(u.fontSize=e.fontSize,u.ascent=e.fontSize);const d=o.getContext("2d",Fl);d.font=l;const T=(r?yn.wordWrap(n,e,o):n).split(/(?:\r\n|\r|\n)/),O=new Array(T.length);let B=0;for(let me=0;me<T.length;me++){const Ge=yn._measureText(T[me],e.letterSpacing,d);O[me]=Ge,B=Math.max(B,Ge)}let H=B+e.strokeThickness;e.dropShadow&&(H+=e.dropShadowDistance);const Y=e.lineHeight||u.fontSize+e.strokeThickness;let oe=Math.max(Y,u.fontSize+2*e.strokeThickness)+(T.length-1)*(Y+e.leading);return e.dropShadow&&(oe+=e.dropShadowDistance),new yn(n,e,H,oe,T,O,Y+e.leading,B,u)}static _measureText(n,e,r){let o=!1;yn.experimentalLetterSpacingSupported&&(yn.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let l=r.measureText(n).width;return l>0&&(o?l-=e:l+=(yn.graphemeSegmenter(n).length-1)*e),l}static wordWrap(n,e,r=yn._canvas){const o=r.getContext("2d",Fl);let l=0,u="",d="";const y=Object.create(null),{letterSpacing:T,whiteSpace:O}=e,B=yn.collapseSpaces(O),H=yn.collapseNewlines(O);let Y=!B;const oe=e.wordWrapWidth+T,me=yn.tokenize(n);for(let Ge=0;Ge<me.length;Ge++){let Qe=me[Ge];if(yn.isNewline(Qe)){if(!H){d+=yn.addLine(u),Y=!B,u="",l=0;continue}Qe=" "}if(B){const It=yn.isBreakingSpace(Qe),it=yn.isBreakingSpace(u[u.length-1]);if(It&&it)continue}const st=yn.getFromCache(Qe,T,y,o);if(st>oe)if(""!==u&&(d+=yn.addLine(u),u="",l=0),yn.canBreakWords(Qe,e.breakWords)){const It=yn.wordWrapSplit(Qe);for(let it=0;it<It.length;it++){let Dt=It[it],wn=Dt,vn=1;for(;It[it+vn];){const Zt=It[it+vn];if(yn.canBreakChars(wn,Zt,Qe,it,e.breakWords))break;Dt+=Zt,wn=Zt,vn++}it+=vn-1;const rn=yn.getFromCache(Dt,T,y,o);rn+l>oe&&(d+=yn.addLine(u),Y=!1,u="",l=0),u+=Dt,l+=rn}}else u.length>0&&(d+=yn.addLine(u),u="",l=0),d+=yn.addLine(Qe,!(Ge===me.length-1)),Y=!1,u="",l=0;else st+l>oe&&(Y=!1,d+=yn.addLine(u),u="",l=0),(u.length>0||!yn.isBreakingSpace(Qe)||Y)&&(u+=Qe,l+=st)}return d+=yn.addLine(u,!1),d}static addLine(n,e=!0){return n=yn.trimRight(n),e?`${n}\n`:n}static getFromCache(n,e,r,o){let l=r[n];return"number"!=typeof l&&(l=yn._measureText(n,e,o)+e,r[n]=l),l}static collapseSpaces(n){return"normal"===n||"pre-line"===n}static collapseNewlines(n){return"normal"===n}static trimRight(n){if("string"!=typeof n)return"";for(let e=n.length-1;e>=0&&yn.isBreakingSpace(n[e]);e--)n=n.slice(0,-1);return n}static isNewline(n){return"string"==typeof n&&yn._newlines.includes(n.charCodeAt(0))}static isBreakingSpace(n,e){return"string"==typeof n&&yn._breakingSpaces.includes(n.charCodeAt(0))}static tokenize(n){const e=[];let r="";if("string"!=typeof n)return e;for(let o=0;o<n.length;o++){const l=n[o];yn.isBreakingSpace(l,n[o+1])||yn.isNewline(l)?(""!==r&&(e.push(r),r=""),e.push(l)):r+=l}return""!==r&&e.push(r),e}static canBreakWords(n,e){return e}static canBreakChars(n,e,r,o,l){return!0}static wordWrapSplit(n){return yn.graphemeSegmenter(n)}static measureFont(n){if(yn._fonts[n])return yn._fonts[n];const e={ascent:0,descent:0,fontSize:0},r=yn._canvas,o=yn._context;o.font=n;const l=yn.METRICS_STRING+yn.BASELINE_SYMBOL,u=Math.ceil(o.measureText(l).width);let d=Math.ceil(o.measureText(yn.BASELINE_SYMBOL).width);const y=Math.ceil(yn.HEIGHT_MULTIPLIER*d);if(d=d*yn.BASELINE_MULTIPLIER|0,0===u||0===y)return yn._fonts[n]=e,e;r.width=u,r.height=y,o.fillStyle="#f00",o.fillRect(0,0,u,y),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(l,0,d);const T=o.getImageData(0,0,u,y).data,O=T.length,B=4*u;let H=0,Y=0,oe=!1;for(H=0;H<d;++H){for(let me=0;me<B;me+=4)if(255!==T[Y+me]){oe=!0;break}if(oe)break;Y+=B}for(e.ascent=d-H,Y=O-B,oe=!1,H=y;H>d;--H){for(let me=0;me<B;me+=4)if(255!==T[Y+me]){oe=!0;break}if(oe)break;Y-=B}return e.descent=H-d,e.fontSize=e.ascent+e.descent,yn._fonts[n]=e,e}static clearMetrics(n=""){n?delete yn._fonts[n]:yn._fonts={}}static get _canvas(){if(!yn.__canvas){let n;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",Fl)?.measureText)return yn.__canvas=e,e;n=te.ADAPTER.createCanvas()}catch{n=te.ADAPTER.createCanvas()}n.width=n.height=10,yn.__canvas=n}return yn.__canvas}static get _context(){return yn.__context||(yn.__context=yn._canvas.getContext("2d",Fl)),yn.__context}};let Br=yn;Br.METRICS_STRING="|\xc9q\xc5",Br.BASELINE_SYMBOL="M",Br.BASELINE_MULTIPLIER=1.4,Br.HEIGHT_MULTIPLIER=2,Br.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(r=>r.segment)}return n=>[...n]})(),Br.experimentalLetterSpacing=!1,Br._fonts={},Br._newlines=[10,13],Br._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const sl=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ll=class{constructor(n){this.styleID=0,this.reset(),ih(this,n,n)}clone(){const n={};return ih(n,this,Ll.defaultStyle),new Ll(n)}reset(){ih(this,Ll.defaultStyle,Ll.defaultStyle)}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(n){this._breakWords!==n&&(this._breakWords=n,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(n){this._dropShadow!==n&&(this._dropShadow=n,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(n){this._dropShadowAlpha!==n&&(this._dropShadowAlpha=n,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(n){this._dropShadowAngle!==n&&(this._dropShadowAngle=n,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(n){this._dropShadowBlur!==n&&(this._dropShadowBlur=n,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(n){const e=nh(n);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(n){this._dropShadowDistance!==n&&(this._dropShadowDistance=n,this.styleID++)}get fill(){return this._fill}set fill(n){const e=nh(n);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(n){this._fillGradientType!==n&&(this._fillGradientType=n,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(n){(function Kd(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0})(this._fillGradientStops,n)||(this._fillGradientStops=n,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(n){this.fontFamily!==n&&(this._fontFamily=n,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(n){this._fontStyle!==n&&(this._fontStyle=n,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(n){this._fontVariant!==n&&(this._fontVariant=n,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(n){this._fontWeight!==n&&(this._fontWeight=n,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(n){this._lineHeight!==n&&(this._lineHeight=n,this.styleID++)}get leading(){return this._leading}set leading(n){this._leading!==n&&(this._leading=n,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(n){this._lineJoin!==n&&(this._lineJoin=n,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(n){this._miterLimit!==n&&(this._miterLimit=n,this.styleID++)}get padding(){return this._padding}set padding(n){this._padding!==n&&(this._padding=n,this.styleID++)}get stroke(){return this._stroke}set stroke(n){const e=nh(n);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(n){this._strokeThickness!==n&&(this._strokeThickness=n,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(n){this._textBaseline!==n&&(this._textBaseline=n,this.styleID++)}get trim(){return this._trim}set trim(n){this._trim!==n&&(this._trim=n,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(n){this._whiteSpace!==n&&(this._whiteSpace=n,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(n){this._wordWrap!==n&&(this._wordWrap=n,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(n){this._wordWrapWidth!==n&&(this._wordWrapWidth=n,this.styleID++)}toFontString(){const n="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let o=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!sl.includes(o)&&(o=`"${o}"`),e[r]=o}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${n} ${e.join(",")}`}};let aa=Ll;function Nl(n){return"number"==typeof n?ut(n):("string"==typeof n&&n.startsWith("0x")&&(n=n.replace("0x","#")),n)}function nh(n){if(Array.isArray(n)){for(let e=0;e<n.length;++e)n[e]=Nl(n[e]);return n}return Nl(n)}function ih(n,e,r){for(const o in r)n[o]=Array.isArray(e[o])?e[o].slice():e[o]}aa.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ic.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};const Op={texture:!0,children:!1,baseTexture:!0},rh=class extends No{constructor(n,e,r){let o=!1;r||(r=te.ADAPTER.createCanvas(),o=!0),r.width=3,r.height=3;const l=hn.from(r);l.orig=new jn,l.trim=new jn,super(l),this._ownCanvas=o,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=rh.defaultResolution??te.RESOLUTION,this._autoResolution=rh.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=n,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Br.experimentalLetterSpacing}static set experimentalLetterSpacing(n){an("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Br.experimentalLetterSpacing=n}updateText(n){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&n)return;this._font=this._style.toFontString();const r=this.context,o=Br.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),u=o.height,d=o.lines,y=o.lineHeight,T=o.lineWidths,O=o.maxLineWidth,B=o.fontProperties;let H,Y;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;const oe=e.dropShadow?2:1;for(let me=0;me<oe;++me){const Ge=e.dropShadow&&0===me,Qe=Ge?Math.ceil(Math.max(1,u)+2*e.padding):0,st=Qe*this._resolution;if(Ge){r.fillStyle="black",r.strokeStyle="black";const it=e.dropShadowColor,Dt=Ks("number"==typeof it?it:ei(it)),wn=e.dropShadowBlur*this._resolution,vn=e.dropShadowDistance*this._resolution;r.shadowColor=`rgba(${255*Dt[0]},${255*Dt[1]},${255*Dt[2]},${e.dropShadowAlpha})`,r.shadowBlur=wn,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*vn,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*vn+st}else r.fillStyle=this._generateFillStyle(e,d,o),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let It=(y-B.fontSize)/2;y-B.fontSize<0&&(It=0);for(let it=0;it<d.length;it++)H=e.strokeThickness/2,Y=e.strokeThickness/2+it*y+B.ascent+It,"right"===e.align?H+=O-T[it]:"center"===e.align&&(H+=(O-T[it])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(d[it],H+e.padding,Y+e.padding-Qe,!0),e.fill&&this.drawLetterSpacing(d[it],H+e.padding,Y+e.padding-Qe)}this.updateTexture()}drawLetterSpacing(n,e,r,o=!1){const u=this._style.letterSpacing;let d=!1;if(Br.experimentalLetterSpacingSupported&&(Br.experimentalLetterSpacing?(this.context.letterSpacing=`${u}px`,this.context.textLetterSpacing=`${u}px`,d=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===u||d)return void(o?this.context.strokeText(n,e,r):this.context.fillText(n,e,r));let y=e;const T=Br.graphemeSegmenter(n);let O=this.context.measureText(n).width,B=0;for(let H=0;H<T.length;++H){const Y=T[H];o?this.context.strokeText(Y,y,r):this.context.fillText(Y,y,r);let oe="";for(let me=H+1;me<T.length;++me)oe+=T[me];B=this.context.measureText(oe).width,y+=O-B+u,O=B}}updateTexture(){const n=this.canvas;if(this._style.trim){const u=function _(n){const e=function g(n){const{width:e,height:r}=n,o=n.getContext("2d",{willReadFrequently:!0});if(null===o)throw new TypeError("Failed to get canvas 2D context");const u=o.getImageData(0,0,e,r).data;let d=0,y=0,T=e-1,O=r-1;for(;y<r&&po(u,e,y);)++y;if(y===r)return Ds.EMPTY;for(;po(u,e,O);)--O;for(;U(u,e,d,y,O);)++d;for(;U(u,e,T,y,O);)--T;return++T,++O,new Ds(d,y,T,O)}(n),{width:r,height:o}=e;let l=null;if(!e.isEmpty()){const u=n.getContext("2d");if(null===u)throw new TypeError("Failed to get canvas 2D context");l=u.getImageData(e.left,e.top,r,o)}return{width:r,height:o,data:l}}(n);u.data&&(n.width=u.width,n.height=u.height,this.context.putImageData(u.data,0,0))}const e=this._texture,r=this._style,o=r.trim?0:r.padding,l=e.baseTexture;e.trim.width=e._frame.width=n.width/this._resolution,e.trim.height=e._frame.height=n.height/this._resolution,e.trim.x=-o,e.trim.y=-o,e.orig.width=e._frame.width-2*o,e.orig.height=e._frame.height-2*o,this._onTextureUpdate(),l.setRealSize(n.width,n.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),super._render(n)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(n,e){return this.updateText(!0),-1===this._textureID&&(n=!1),super.getBounds(n,e)}getLocalBounds(n){return this.updateText(!0),super.getLocalBounds.call(this,n)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(n,e,r){const o=n.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let l;const u=n.dropShadow?n.dropShadowDistance:0,d=n.padding||0,y=this.canvas.width/this._resolution-u-2*d,T=this.canvas.height/this._resolution-u-2*d,O=o.slice(),B=n.fillGradientStops.slice();if(!B.length){const H=O.length+1;for(let Y=1;Y<H;++Y)B.push(Y/H)}if(O.unshift(o[0]),B.unshift(0),O.push(o[o.length-1]),B.push(1),n.fillGradientType===Ic.LINEAR_VERTICAL){l=this.context.createLinearGradient(y/2,d,y/2,T+d);const H=r.fontProperties.fontSize+n.strokeThickness;for(let Y=0;Y<e.length;Y++){const oe=r.lineHeight*(Y-1)+H,me=r.lineHeight*Y;let Ge=me;Y>0&&oe>me&&(Ge=(me+oe)/2);const Qe=me+H,st=r.lineHeight*(Y+1);let It=Qe;Y+1<e.length&&st<Qe&&(It=(Qe+st)/2);const it=(It-Ge)/T;for(let Dt=0;Dt<O.length;Dt++){let wn=0;wn="number"==typeof B[Dt]?B[Dt]:Dt/O.length;let vn=Math.min(1,Math.max(0,Ge/T+wn*it));vn=Number(vn.toFixed(5)),l.addColorStop(vn,O[Dt])}}}else{l=this.context.createLinearGradient(d,T/2,y+d,T/2);const H=O.length+1;let Y=1;for(let oe=0;oe<O.length;oe++){let me;me="number"==typeof B[oe]?B[oe]:Y/H,l.addColorStop(me,O[oe]),Y++}}return l}destroy(n){"boolean"==typeof n&&(n={children:n}),n=Object.assign({},Op,n),super.destroy(n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(n){this.updateText(!0);const e=us(this.scale.x)||1;this.scale.x=e*n/this._texture.orig.width,this._width=n}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(n){this.updateText(!0);const e=us(this.scale.y)||1;this.scale.y=e*n/this._texture.orig.height,this._height=n}get style(){return this._style}set style(n){this._style=(n=n||{})instanceof aa?n:new aa(n),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}};let sh=rh;sh.defaultAutoResolution=!0;class Fp{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Zd(n,e){let r=!1;if(n?._textures?.length)for(let o=0;o<n._textures.length;o++)if(n._textures[o]instanceof hn){const l=n._textures[o].baseTexture;e.includes(l)||(e.push(l),r=!0)}return r}function Lp(n,e){if(n.baseTexture instanceof $t){const r=n.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function qd(n,e){if(n._texture&&n._texture instanceof hn){const r=n._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Qd(n,e){return e instanceof sh&&(e.updateText(!0),!0)}function oh(n,e){if(e instanceof aa){const r=e.toFontString();return Br.measureFont(r),!0}return!1}function fm(n,e){if(n instanceof sh){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const r=n._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ah(n,e){return n instanceof aa&&(e.includes(n)||e.push(n),!0)}const Jd=class{constructor(n){this.limiter=new Fp(Jd.uploadsPerFrame),this.renderer=n,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(fm),this.registerFindHook(ah),this.registerFindHook(Zd),this.registerFindHook(Lp),this.registerFindHook(qd),this.registerUploadHook(Qd),this.registerUploadHook(oh)}upload(n){return new Promise(e=>{n&&this.add(n),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ar.system.addOnce(this.tick,this,wa.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const n=this.queue[0];let e=!1;if(n&&!n._destroyed)for(let r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,n)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)ar.system.addOnce(this.tick,this,wa.UTILITY);else{this.ticking=!1;const n=this.completes.slice(0);this.completes.length=0;for(let e=0,r=n.length;e<r;e++)n[e]()}}registerFindHook(n){return n&&this.addHooks.push(n),this}registerUploadHook(n){return n&&this.uploadHooks.push(n),this}add(n){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](n,this.queue);e++);if(n instanceof Us)for(let e=n.children.length-1;e>=0;e--)this.add(n.children[e]);return this}destroy(){this.ticking&&ar.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let lh=Jd;function Pa(n,e){return e instanceof $t&&(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0)}function ef(n,e){if(!(e instanceof Ac))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:o}=r;for(let l=0;l<o.length;l++){const{texture:u}=o[l].style;u&&Pa(n,u.baseTexture)}return r.batchable||n.geometry.bind(r,e._resolveDirectShader(n)),!0}function Np(n,e){return n instanceof Ac&&(e.push(n),!0)}lh.uploadsPerFrame=4,Object.defineProperties(te,{UPLOADS_PER_FRAME:{get:()=>lh.uploadsPerFrame,set(n){an("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),lh.uploadsPerFrame=n}}});class ch extends lh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Np),this.registerUploadHook(Pa),this.registerUploadHook(ef)}}ch.extension={name:"prepare",type:re.RendererSystem},ht.add(ch);class Rc extends No{constructor(e,r=!0){super(e[0]instanceof hn?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ar.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ar.shared.add(this.update,this,wa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){let l=this._currentTime%1*this._durations[this.currentFrame];for(l+=r/60*1e3;l<0;)this._currentTime--,l+=this._durations[this.currentFrame];const u=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);l>=this._durations[this.currentFrame];)l-=this._durations[this.currentFrame]*u,this._currentTime+=u;this._currentTime+=l/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let o=0;o<e.length;++o)r.push(hn.from(e[o]));return new Rc(r)}static fromImages(e){const r=[];for(let o=0;o<e.length;++o)r.push(hn.from(e[o]));return new Rc(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof hn)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ar.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ar.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const kl=new On;class ol extends No{constructor(e,r=100,o=100){super(e),this.tileTransform=new ks,this._width=r,this._height=o,this.uvMatrix=this.texture.uvMatrix||new lu(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new jn),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,kl);const r=this._width,o=this._height,l=-r*this.anchor._x;if(kl.x>=l&&kl.x<l+r){const u=-o*this.anchor._y;if(kl.y>=u&&kl.y<u+o)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const o=e instanceof hn?e:hn.from(e,r);return new ol(o,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Pc="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const Ul=new xi;class Fc extends za{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ou,this.state=Je.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=eo.from(Pc,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),this.shader=e.context.webGLVersion>1?eo.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",r):eo.from(Pc,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",r)}render(e){const r=this.renderer,o=this.quad;let l=o.vertices;l[0]=l[6]=e._width*-e.anchor.x,l[1]=l[3]=e._height*-e.anchor.y,l[2]=l[4]=e._width*(1-e.anchor.x),l[5]=l[7]=e._height*(1-e.anchor.y);const u=e.uvRespectAnchor?e.anchor.x:0,d=e.uvRespectAnchor?e.anchor.y:0;l=o.uvs,l[0]=l[6]=-u,l[1]=l[3]=-d,l[2]=l[4]=1-u,l[5]=l[7]=1-d,o.invalidate();const y=e._texture,T=y.baseTexture,O=T.alphaMode>0,B=e.tileTransform.localTransform,H=e.uvMatrix;let Y=T.isPowerOfTwo&&y.frame.width===T.width&&y.frame.height===T.height;Y&&(T._glTextures[r.CONTEXT_UID]?Y=T.wrapMode!==Re.CLAMP:T.wrapMode===Re.CLAMP&&(T.wrapMode=Re.REPEAT));const oe=Y?this.simpleShader:this.shader,me=y.width,Ge=y.height,Qe=e._width,st=e._height;Ul.set(B.a*me/Qe,B.b*me/st,B.c*Ge/Qe,B.d*Ge/st,B.tx/Qe,B.ty/st),Ul.invert(),Y?Ul.prepend(H.mapCoord):(oe.uniforms.uMapCoord=H.mapCoord.toArray(!0),oe.uniforms.uClampFrame=H.uClampFrame,oe.uniforms.uClampOffset=H.uClampOffset),oe.uniforms.uTransform=Ul.toArray(!0),oe.uniforms.uColor=Zs(e.tint,e.worldAlpha,oe.uniforms.uColor,O),oe.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),oe.uniforms.uSampler=y,r.shader.bind(oe),r.geometry.bind(o),this.state.blendMode=ws(e.blendMode,O),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Fc.extension={name:"tilingSprite",type:re.RendererPlugin},ht.add(Fc);const Oa=class{constructor(n,e,r=null){this.linkedSheets=[],this._texture=n instanceof hn?n:null,this.baseTexture=n instanceof $t?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(n=null){const{scale:e}=this.data.meta;let r=De(n,null);return null===r&&(r=parseFloat(e??"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise(n=>{this._callback=n,this._batchIndex=0,this._frameKeys.length<=Oa.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(n){let e=n;const r=Oa.BATCH_SIZE;for(;e-n<r&&e<this._frameKeys.length;){const o=this._frameKeys[e],l=this._frames[o],u=l.frame;if(u){let d=null,y=null;const T=!1!==l.trimmed&&l.sourceSize?l.sourceSize:l.frame,O=new jn(0,0,Math.floor(T.w)/this.resolution,Math.floor(T.h)/this.resolution);d=l.rotated?new jn(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new jn(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),!1!==l.trimmed&&l.spriteSourceSize&&(y=new jn(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[o]=new hn(this.baseTexture,d,O,y,l.rotated?2:0,l.anchor),hn.addToCache(this.textures[o],o)}e++}}_processAnimations(){const n=this.data.animations||{};for(const e in n){this.animations[e]=[];for(let r=0;r<n[e].length;r++)this.animations[e].push(this.textures[n[e][r]])}}_parseComplete(){const n=this._callback;this._callback=null,this._batchIndex=0,n.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Oa.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Oa.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(n=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,n&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Hl=Oa;Hl.BATCH_SIZE=1e3;const tf=["jpg","png","jpeg","avif","webp"];function Lc(n,e,r){const o={};if(n.forEach(l=>{o[l]=e}),Object.keys(e.textures).forEach(l=>{o[l]=e.textures[l]}),!r){const l=xt.dirname(n[0]);e.linkedSheets.forEach((u,d)=>{const y=Lc([`${l}/${e.data.meta.related_multi_packs[d]}`],u,!0);Object.assign(o,y)})}return o}const kp={extension:re.Asset,cache:{test:n=>n instanceof Hl,getCacheableAssets:(n,e)=>Lc(n,e,!1)},resolver:{test:n=>{const r=n.split("?")[0].split("."),o=r.pop(),l=r.pop();return"json"===o&&tf.includes(l)},parse:n=>{const e=n.split(".");return{resolution:parseFloat(te.RETINA_PREFIX.exec(n)?.[1]??"1"),format:e[e.length-2],src:n}}},loader:{extension:{type:re.LoadParser,priority:Bo.Normal},testParse:(n,e)=>(0,Nn.Z)(function*(){return".json"===xt.extname(e.src).toLowerCase()&&!!n.frames})(),parse:(n,e,r)=>(0,Nn.Z)(function*(){let o=xt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l=o+n.meta.image;l=Hu(l,e.src);const d=(yield r.load([l]))[l],y=new Hl(d.baseTexture,n,e.src);yield y.parse();const T=n?.meta?.related_multi_packs;if(Array.isArray(T)){const O=[];for(const H of T){if("string"!=typeof H)continue;let Y=o+H;e.data?.ignoreMultiPack||(Y=Hu(Y,e.src),O.push(r.load({src:Y,data:{ignoreMultiPack:!0}})))}const B=yield Promise.all(O);y.linkedSheets=B,B.forEach(H=>{H.linkedSheets=[y].concat(y.linkedSheets.filter(Y=>Y!==H))})}return y})(),unload(n){n.destroy(!0)}}};ht.add(kp);class Nc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Gl{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),o={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const u in r){const d=r[u].match(/^[a-z]+/gm)[0],y=r[u].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),T={};for(const O in y){const B=y[O].split("="),H=B[0],Y=B[1].replace(/"/gm,""),oe=parseFloat(Y),me=isNaN(oe)?Y:oe;T[H]=me}o[d].push(T)}const l=new Nc;return o.info.forEach(u=>l.info.push({face:u.face,size:parseInt(u.size,10)})),o.common.forEach(u=>l.common.push({lineHeight:parseInt(u.lineHeight,10)})),o.page.forEach(u=>l.page.push({id:parseInt(u.id,10),file:u.file})),o.char.forEach(u=>l.char.push({id:parseInt(u.id,10),page:parseInt(u.page,10),x:parseInt(u.x,10),y:parseInt(u.y,10),width:parseInt(u.width,10),height:parseInt(u.height,10),xoffset:parseInt(u.xoffset,10),yoffset:parseInt(u.yoffset,10),xadvance:parseInt(u.xadvance,10)})),o.kerning.forEach(u=>l.kerning.push({first:parseInt(u.first,10),second:parseInt(u.second,10),amount:parseInt(u.amount,10)})),o.distanceField.forEach(u=>l.distanceField.push({distanceRange:parseInt(u.distanceRange,10),fieldType:u.fieldType})),l}}class hh{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&null!==r.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const r=new Nc,o=e.getElementsByTagName("info"),l=e.getElementsByTagName("common"),u=e.getElementsByTagName("page"),d=e.getElementsByTagName("char"),y=e.getElementsByTagName("kerning"),T=e.getElementsByTagName("distanceField");for(let O=0;O<o.length;O++)r.info.push({face:o[O].getAttribute("face"),size:parseInt(o[O].getAttribute("size"),10)});for(let O=0;O<l.length;O++)r.common.push({lineHeight:parseInt(l[O].getAttribute("lineHeight"),10)});for(let O=0;O<u.length;O++)r.page.push({id:parseInt(u[O].getAttribute("id"),10)||0,file:u[O].getAttribute("file")});for(let O=0;O<d.length;O++){const B=d[O];r.char.push({id:parseInt(B.getAttribute("id"),10),page:parseInt(B.getAttribute("page"),10)||0,x:parseInt(B.getAttribute("x"),10),y:parseInt(B.getAttribute("y"),10),width:parseInt(B.getAttribute("width"),10),height:parseInt(B.getAttribute("height"),10),xoffset:parseInt(B.getAttribute("xoffset"),10),yoffset:parseInt(B.getAttribute("yoffset"),10),xadvance:parseInt(B.getAttribute("xadvance"),10)})}for(let O=0;O<y.length;O++)r.kerning.push({first:parseInt(y[O].getAttribute("first"),10),second:parseInt(y[O].getAttribute("second"),10),amount:parseInt(y[O].getAttribute("amount"),10)});for(let O=0;O<T.length;O++)r.distanceField.push({fieldType:T[O].getAttribute("fieldType"),distanceRange:parseInt(T[O].getAttribute("distanceRange"),10)});return r}}class kc{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&hh.test(te.ADAPTER.parseXML(e))}static parse(e){return hh.parse(te.ADAPTER.parseXML(e))}}const Bc=[Gl,hh,kc];function Ss(n,e,r,o,l,u,d){const y=r.text,T=r.fontProperties;e.translate(o,l),e.scale(u,u);const O=d.strokeThickness/2,B=-d.strokeThickness/2;if(e.font=d.toFontString(),e.lineWidth=d.strokeThickness,e.textBaseline=d.textBaseline,e.lineJoin=d.lineJoin,e.miterLimit=d.miterLimit,e.fillStyle=function Up(n,e,r,o,l,u){const d=r.fill;if(!Array.isArray(d))return d;if(1===d.length)return d[0];let y;const T=r.dropShadow?r.dropShadowDistance:0,O=r.padding||0,B=n.width/o-T-2*O,H=n.height/o-T-2*O,Y=d.slice(),oe=r.fillGradientStops.slice();if(!oe.length){const me=Y.length+1;for(let Ge=1;Ge<me;++Ge)oe.push(Ge/me)}if(Y.unshift(d[0]),oe.unshift(0),Y.push(d[d.length-1]),oe.push(1),r.fillGradientType===Ic.LINEAR_VERTICAL){y=e.createLinearGradient(B/2,O,B/2,H+O);let me=0;const Qe=(u.fontProperties.fontSize+r.strokeThickness)/H;for(let st=0;st<l.length;st++){const It=u.lineHeight*st;for(let it=0;it<Y.length;it++){let Dt=0;Dt="number"==typeof oe[it]?oe[it]:it/Y.length;let vn=Math.max(me,It/H+Dt*Qe);vn=Math.min(vn,1),y.addColorStop(vn,Y[it]),me=vn}}}else{y=e.createLinearGradient(O,H/2,B+O,H/2);const me=Y.length+1;let Ge=1;for(let Qe=0;Qe<Y.length;Qe++){let st;st="number"==typeof oe[Qe]?oe[Qe]:Ge/me,y.addColorStop(st,Y[Qe]),Ge++}}return y}(n,e,d,u,[y],r),e.strokeStyle=d.stroke,d.dropShadow){const H=d.dropShadowColor,Y=Ks("number"==typeof H?H:ei(H)),oe=d.dropShadowBlur*u,me=d.dropShadowDistance*u;e.shadowColor=`rgba(${255*Y[0]},${255*Y[1]},${255*Y[2]},${d.dropShadowAlpha})`,e.shadowBlur=oe,e.shadowOffsetX=Math.cos(d.dropShadowAngle)*me,e.shadowOffsetY=Math.sin(d.dropShadowAngle)*me}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;d.stroke&&d.strokeThickness&&e.strokeText(y,O,B+r.lineHeight-T.descent),d.fill&&e.fillText(y,O,B+r.lineHeight-T.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function dh(n){return Array.from?Array.from(n):n.split("")}function fh(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}const As=class{constructor(n,e,r){const[o]=n.info,[l]=n.common,[u]=n.page,[d]=n.distanceField,y=De(u.file),T={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=l.lineHeight/y,this.chars={},this.pageTextures=T;for(let O=0;O<n.page.length;O++){const{id:B,file:H}=n.page[O];T[B]=e instanceof Array?e[O]:e[H],d?.fieldType&&"none"!==d.fieldType&&(T[B].baseTexture.alphaMode=ot.NO_PREMULTIPLIED_ALPHA,T[B].baseTexture.mipmap=Ie.OFF)}for(let O=0;O<n.char.length;O++){const{id:B,page:H}=n.char[O];let{x:Y,y:oe,width:me,height:Ge,xoffset:Qe,yoffset:st,xadvance:It}=n.char[O];Y/=y,oe/=y,me/=y,Ge/=y,Qe/=y,st/=y,It/=y;const it=new jn(Y+T[H].frame.x/y,oe+T[H].frame.y/y,me,Ge);this.chars[B]={xOffset:Qe,yOffset:st,xAdvance:It,kerning:{},texture:new hn(T[H].baseTexture,it),page:H}}for(let O=0;O<n.kerning.length;O++){let{first:B,second:H,amount:Y}=n.kerning[O];B/=y,H/=y,Y/=y,this.chars[H]&&(this.chars[H].kerning[B]=Y)}this.distanceFieldRange=d?.distanceRange,this.distanceFieldType=d?.fieldType?.toLowerCase()??"none"}destroy(){for(const n in this.chars)this.chars[n].texture.destroy(),this.chars[n].texture=null;for(const n in this.pageTextures)this._ownsTextures&&this.pageTextures[n].destroy(!0),this.pageTextures[n]=null;this.chars=null,this.pageTextures=null}static install(n,e,r){let o;if(n instanceof Nc)o=n;else{const u=function Bp(n){for(let e=0;e<Bc.length;e++)if(Bc[e].test(n))return Bc[e];return null}(n);if(!u)throw new Error("Unrecognized data format for font.");o=u.parse(n)}e instanceof hn&&(e=[e]);const l=new As(o,e,r);return As.available[l.font]=l,l}static uninstall(n){const e=As.available[n];if(!e)throw new Error(`No font found named '${n}'`);e.destroy(),delete As.available[n]}static from(n,e,r){if(!n)throw new Error("[BitmapFont] Property `name` is required.");const{chars:o,padding:l,resolution:u,textureWidth:d,textureHeight:y,...T}=Object.assign({},As.defaultOptions,r),O=function Hp(n){"string"==typeof n&&(n=[n]);const e=[];for(let r=0,o=n.length;r<o;r++){const l=n[r];if(Array.isArray(l)){if(2!==l.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);const u=l[0].charCodeAt(0),d=l[1].charCodeAt(0);if(d<u)throw new Error("[BitmapFont]: Invalid character range.");for(let y=u,T=d;y<=T;y++)e.push(String.fromCharCode(y))}else e.push(...dh(l))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),B=e instanceof aa?e:new aa(e),H=d,Y=new Nc;Y.info[0]={face:B.fontFamily,size:B.fontSize},Y.common[0]={lineHeight:B.fontSize};let Ge,Qe,st,oe=0,me=0,It=0;const it=[],Dt=[];for(let vn=0;vn<O.length;vn++){Ge||(Ge=te.ADAPTER.createCanvas(),Ge.width=d,Ge.height=y,Qe=Ge.getContext("2d"),st=new $t(Ge,{resolution:u,...T}),it.push(st),Dt.push(new hn(st)),Y.page.push({id:Dt.length-1,file:""}));const rn=O[vn],Zt=Br.measureText(rn,B,!1,Ge),In=Zt.width,jt=Math.ceil(Zt.height),sn=Math.ceil(("italic"===B.fontStyle?2:1)*In);if(me>=y-jt*u){if(0===me)throw new Error(`[BitmapFont] textureHeight ${y}px is too small (fontFamily: '${B.fontFamily}', fontSize: ${B.fontSize}px, char: '${rn}')`);--vn,Ge=null,Qe=null,st=null,me=0,oe=0,It=0;continue}if(It=Math.max(jt+Zt.fontProperties.descent,It),sn*u+oe>=H){if(0===oe)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${B.fontFamily}', fontSize: ${B.fontSize}px, char: '${rn}')`);--vn,me+=It*u,me=Math.ceil(me),oe=0,It=0;continue}Ss(Ge,Qe,Zt,oe,me,u,B);const ti=fh(Zt.text);Y.char.push({id:ti,page:Dt.length-1,x:oe/u,y:me/u,width:sn,height:jt,xoffset:0,yoffset:0,xadvance:In-(B.dropShadow?B.dropShadowDistance:0)-(B.stroke?B.strokeThickness:0)}),oe+=(sn+2*l)*u,oe=Math.ceil(oe)}for(let vn=0,rn=O.length;vn<rn;vn++){const Zt=O[vn];for(let In=0;In<rn;In++){const jt=O[In],sn=Qe.measureText(Zt).width,ti=Qe.measureText(jt).width,Ht=Qe.measureText(Zt+jt).width-(sn+ti);Ht&&Y.kerning.push({first:fh(Zt),second:fh(jt),amount:Ht})}}const wn=new As(Y,Dt,!0);return void 0!==As.available[n]&&As.uninstall(n),As.available[n]=wn,wn}};let rs=As;rs.ALPHA=[["a","z"],["A","Z"]," "],rs.NUMERIC=[["0","9"]],rs.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],rs.ASCII=[[" ","~"]],rs.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:As.ALPHANUMERIC},rs.available={};const nf=[],ph=[],rf=[],sf=class extends Us{constructor(n,e={}){super(),this._tint=16777215;const{align:r,tint:o,maxWidth:l,letterSpacing:u,fontName:d,fontSize:y}=Object.assign({},sf.styleDefaults,e);if(!rs.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tint=o,this._font=void 0,this._fontName=d,this._fontSize=y,this.text=n,this._maxWidth=l,this._maxLineHeight=0,this._letterSpacing=u,this._anchor=new Qs(()=>{this.dirty=!0},this,0,0),this._roundPixels=te.ROUND_PIXELS,this.dirty=!0,this._resolution=te.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const n=rs.available[this._fontName],e=this.fontSize,r=e/n.size,o=new On,l=[],u=[],d=[],T=dh(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),O=this._maxWidth*n.size/e,B="none"===n.distanceFieldType?nf:ph;let H=null,Y=0,oe=0,me=0,Ge=-1,Qe=0,st=0,It=0,it=0;for(let jt=0;jt<T.length;jt++){const sn=T[jt],ti=fh(sn);if(/(?:\s)/.test(sn)&&(Ge=jt,Qe=Y,it++),"\r"===sn||"\n"===sn){u.push(Y),d.push(-1),oe=Math.max(oe,Y),++me,++st,o.x=0,o.y+=n.lineHeight,H=null,it=0;continue}const Bt=n.chars[ti];if(!Bt)continue;H&&Bt.kerning[H]&&(o.x+=Bt.kerning[H]);const Ht=rf.pop()||{texture:hn.EMPTY,line:0,charCode:0,prevSpaces:0,position:new On};Ht.texture=Bt.texture,Ht.line=me,Ht.charCode=ti,Ht.position.x=Math.round(o.x+Bt.xOffset+this._letterSpacing/2),Ht.position.y=Math.round(o.y+Bt.yOffset),Ht.prevSpaces=it,l.push(Ht),Y=Ht.position.x+Math.max(Bt.xAdvance-Bt.xOffset,Bt.texture.orig.width),o.x+=Bt.xAdvance+this._letterSpacing,It=Math.max(It,Bt.yOffset+Bt.texture.height),H=ti,-1!==Ge&&O>0&&o.x>O&&(++st,Ui(l,1+Ge-st,1+jt-Ge),jt=Ge,Ge=-1,u.push(Qe),d.push(l.length>0?l[l.length-1].prevSpaces:0),oe=Math.max(oe,Qe),me++,o.x=0,o.y+=n.lineHeight,H=null,it=0)}const Dt=T[T.length-1];"\r"!==Dt&&"\n"!==Dt&&(/(?:\s)/.test(Dt)&&(Y=Qe),u.push(Y),oe=Math.max(oe,Y),d.push(-1));const wn=[];for(let jt=0;jt<=me;jt++){let sn=0;"right"===this._align?sn=oe-u[jt]:"center"===this._align?sn=(oe-u[jt])/2:"justify"===this._align&&(sn=d[jt]<0?0:(oe-u[jt])/d[jt]),wn.push(sn)}const vn=l.length,rn={},Zt=[],In=this._activePagesMeshData;B.push(...In);for(let jt=0;jt<vn;jt++){const sn=l[jt].texture,ti=sn.baseTexture.uid;if(!rn[ti]){let Bt=B.pop();if(!Bt){const Ti=new jd;let Qn,Zn;"none"===n.distanceFieldType?(Qn=new $d(hn.EMPTY),Zn=le.NORMAL):(Qn=new $d(hn.EMPTY,{program:xs.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),Zn=le.NORMAL_NPM);const _i=new th(Ti,Qn);_i.blendMode=Zn,Bt={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:_i,vertices:null,uvs:null,indices:null}}Bt.index=0,Bt.indexCount=0,Bt.vertexCount=0,Bt.uvsCount=0,Bt.total=0;const{_textureCache:Ht}=this;Ht[ti]=Ht[ti]||new hn(sn.baseTexture),Bt.mesh.texture=Ht[ti],Bt.mesh.tint=this._tint,Zt.push(Bt),rn[ti]=Bt}rn[ti].total++}for(let jt=0;jt<In.length;jt++)Zt.includes(In[jt])||this.removeChild(In[jt].mesh);for(let jt=0;jt<Zt.length;jt++)Zt[jt].mesh.parent!==this&&this.addChild(Zt[jt].mesh);this._activePagesMeshData=Zt;for(const jt in rn){const sn=rn[jt],ti=sn.total;if(!(sn.indices?.length>6*ti)||sn.vertices.length<2*th.BATCHABLE_SIZE)sn.vertices=new Float32Array(8*ti),sn.uvs=new Float32Array(8*ti),sn.indices=new Uint16Array(6*ti);else{const Ht=sn.vertices;for(let Ti=4*sn.total*2;Ti<Ht.length;Ti++)Ht[Ti]=0}sn.mesh.size=6*ti}for(let jt=0;jt<vn;jt++){const sn=l[jt];let ti=sn.position.x+wn[sn.line]*("justify"===this._align?sn.prevSpaces:1);this._roundPixels&&(ti=Math.round(ti));const Bt=ti*r,Ht=sn.position.y*r,Ti=sn.texture,Qn=rn[Ti.baseTexture.uid],Zn=Ti.frame,_i=Ti._uvs,ui=Qn.index++;Qn.indices[6*ui+0]=0+4*ui,Qn.indices[6*ui+1]=1+4*ui,Qn.indices[6*ui+2]=2+4*ui,Qn.indices[6*ui+3]=0+4*ui,Qn.indices[6*ui+4]=2+4*ui,Qn.indices[6*ui+5]=3+4*ui,Qn.vertices[8*ui+0]=Bt,Qn.vertices[8*ui+1]=Ht,Qn.vertices[8*ui+2]=Bt+Zn.width*r,Qn.vertices[8*ui+3]=Ht,Qn.vertices[8*ui+4]=Bt+Zn.width*r,Qn.vertices[8*ui+5]=Ht+Zn.height*r,Qn.vertices[8*ui+6]=Bt,Qn.vertices[8*ui+7]=Ht+Zn.height*r,Qn.uvs[8*ui+0]=_i.x0,Qn.uvs[8*ui+1]=_i.y0,Qn.uvs[8*ui+2]=_i.x1,Qn.uvs[8*ui+3]=_i.y1,Qn.uvs[8*ui+4]=_i.x2,Qn.uvs[8*ui+5]=_i.y2,Qn.uvs[8*ui+6]=_i.x3,Qn.uvs[8*ui+7]=_i.y3}this._textWidth=oe*r,this._textHeight=(o.y+n.lineHeight)*r;for(const jt in rn){const sn=rn[jt];if(0!==this.anchor.x||0!==this.anchor.y){let Ti=0;const Qn=this._textWidth*this.anchor.x,Zn=this._textHeight*this.anchor.y;for(let _i=0;_i<sn.total;_i++)sn.vertices[Ti++]-=Qn,sn.vertices[Ti++]-=Zn,sn.vertices[Ti++]-=Qn,sn.vertices[Ti++]-=Zn,sn.vertices[Ti++]-=Qn,sn.vertices[Ti++]-=Zn,sn.vertices[Ti++]-=Qn,sn.vertices[Ti++]-=Zn}this._maxLineHeight=It*r;const ti=sn.mesh.geometry.getBuffer("aVertexPosition"),Bt=sn.mesh.geometry.getBuffer("aTextureCoord"),Ht=sn.mesh.geometry.getIndex();ti.data=sn.vertices,Bt.data=sn.uvs,Ht.data=sn.indices,ti.update(),Bt.update(),Ht.update()}for(let jt=0;jt<l.length;jt++)rf.push(l[jt]);this._font=n,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:o}=rs.available[this._fontName];if("none"!==r){const{a:l,b:u,c:d,d:y}=this.worldTransform,T=Math.sqrt(l*l+u*u),O=Math.sqrt(d*d+y*y),B=(Math.abs(T)+Math.abs(O))/2,H=this.fontSize/o,Y=n._view.resolution;for(const oe of this._activePagesMeshData)oe.mesh.shader.uniforms.uFWidth=B*e*H*Y}super._render(n)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const n=rs.available[this._fontName];if(!n)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==n&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(n){if(this._tint!==n){this._tint=n;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=n}}get align(){return this._align}set align(n){this._align!==n&&(this._align=n,this.dirty=!0)}get fontName(){return this._fontName}set fontName(n){if(!rs.available[n])throw new Error(`Missing BitmapFont "${n}"`);this._fontName!==n&&(this._fontName=n,this.dirty=!0)}get fontSize(){return this._fontSize??rs.available[this._fontName].size}set fontSize(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)}get anchor(){return this._anchor}set anchor(n){"number"==typeof n?this._anchor.set(n):this._anchor.copyFrom(n)}get text(){return this._text}set text(n){n=String(n??""),this._text!==n&&(this._text=n,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)}destroy(n){const{_textureCache:e}=this,o="none"===rs.available[this._fontName].distanceFieldType?nf:ph;o.push(...this._activePagesMeshData);for(const l of this._activePagesMeshData)this.removeChild(l.mesh);this._activePagesMeshData=[],o.filter(l=>e[l.mesh.texture.baseTexture.uid]).forEach(l=>{l.mesh.texture=hn.EMPTY});for(const l in e)e[l].destroy(),delete e[l];this._font=null,this._textureCache=null,super.destroy(n)}};sf.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const jp=[".xml",".fnt"],zp={extension:{type:re.LoadParser,priority:Bo.Normal},test:n=>jp.includes(xt.extname(n).toLowerCase()),testParse:n=>(0,Nn.Z)(function*(){return Gl.test(n)||kc.test(n)})(),parse:(n,e,r)=>(0,Nn.Z)(function*(){const o=Gl.test(n)?Gl.parse(n):kc.parse(n),{src:l}=e,{page:u}=o,d=[];for(let O=0;O<u.length;++O){const B=u[O].file;let H=xt.join(xt.dirname(l),B);H=Hu(H,l),d.push(H)}const y=yield r.load(d),T=d.map(O=>y[O]);return rs.install(o,T,!0)})(),load:(n,e)=>(0,Nn.Z)(function*(){return(yield te.ADAPTER.fetch(n)).text()})(),unload(n){n.destroy()}};ht.add(zp)},5861:(At,Ne,F)=>{"use strict";function D(ce,le,se,ee,ve,ue,xe){try{var Pe=ce[ue](xe),Re=Pe.value}catch(Ie){return void se(Ie)}Pe.done?le(Re):Promise.resolve(Re).then(ee,ve)}function w(ce){return function(){var le=this,se=arguments;return new Promise(function(ee,ve){var ue=ce.apply(le,se);function xe(Re){D(ue,ee,ve,xe,Pe,"next",Re)}function Pe(Re){D(ue,ee,ve,xe,Pe,"throw",Re)}xe(void 0)})}}F.d(Ne,{Z:()=>w})}},At=>{At(At.s=5465)}]);